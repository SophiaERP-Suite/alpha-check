(()=>{var J9=Object.defineProperty;var Q9=(fn,bn,Be)=>bn in fn?J9(fn,bn,{enumerable:!0,configurable:!0,writable:!0,value:Be}):fn[bn]=Be;var eM=(fn,bn)=>()=>(bn||fn((bn={exports:{}}).exports,bn),bn.exports);var Z=(fn,bn,Be)=>Q9(fn,typeof bn!="symbol"?bn+"":bn,Be);var tM=eM((mo,yo)=>{try{(function(){var fn=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},bn=new fn.Error().stack;bn&&(fn._sentryDebugIds=fn._sentryDebugIds||{},fn._sentryDebugIds[bn]="7c4ac86c-a976-4823-bdf1-b468c255c015",fn._sentryDebugIdIdentifier="sentry-dbid-7c4ac86c-a976-4823-bdf1-b468c255c015")})()}catch{}(function(){var fn=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};fn.SENTRY_RELEASE={id:"6.27.5"}})();(()=>{var fn={38507:(M,P,m)=>{"use strict";var S=m(94479),E=m(91473);function I(N){return N instanceof D||N instanceof Error&&N.name==="TRPCClientError"}function O(N){return E.isObject(N)&&E.isObject(N.error)&&typeof N.error.code=="number"&&typeof N.error.message=="string"}class D extends Error{static from(R,T={}){const U=R;return I(U)?(T.meta&&(U.meta={...U.meta,...T.meta}),U):O(U)?new D(U.error.message,{...T,result:U}):U instanceof Error?new D(U.message,{...T,cause:S.getCauseFromUnknown(U)}):new D("Unknown error",{...T,cause:U})}constructor(R,T){const U=T?.cause;super(R,{cause:U}),this.meta=T?.meta,this.cause=U,this.shape=T?.result?.error,this.data=T?.result?.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,D.prototype)}}P.TRPCClientError=D},2131:(M,P,m)=>{"use strict";var S=m(33067),E=m(91473),I=m(38507),O=m(34948);const D=()=>{throw new Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function N(H){let G=null,Q=null;const X=()=>{clearTimeout(Q),Q=null,G=null};function V(ae){const te=[[]];let re=0;for(;;){const ye=ae[re];if(!ye)break;const Ce=te[te.length-1];if(ye.aborted){ye.reject?.(new Error("Aborted")),re++;continue}if(H.validate(Ce.concat(ye).map(We=>We.key))){Ce.push(ye),re++;continue}if(Ce.length===0){ye.reject?.(new Error("Input is too big for a single dispatch")),re++;continue}te.push([])}return te}function se(){const ae=V(G);X();for(const te of ae){if(!te.length)continue;const re={items:te,cancel:D};for(const We of te)We.batch=re;const ye=(We,ze)=>{const Le=re.items[We];Le.resolve?.(ze),Le.batch=null,Le.reject=null,Le.resolve=null},{promise:Ce,cancel:he}=H.fetch(re.items.map(We=>We.key),ye);re.cancel=he,Ce.then(We=>{for(let ze=0;ze<We.length;ze++){const Le=We[ze];ye(ze,Le)}for(const ze of re.items)ze.reject?.(new Error("Missing result")),ze.batch=null}).catch(We=>{for(const ze of re.items)ze.reject?.(We),ze.batch=null})}}function ue(ae){const te={aborted:!1,key:ae,batch:null,resolve:D,reject:D},re=new Promise((Ce,he)=>{te.reject=he,te.resolve=Ce,G||(G=[]),G.push(te)});return Q||(Q=setTimeout(se)),{promise:re,cancel:()=>{te.aborted=!0,te.batch?.items.every(Ce=>Ce.aborted)&&(te.batch.cancel(),te.batch=null)}}}return{load:ue}}function R(H){return function(Q){const X=O.resolveHTTPLinkOptions(Q),V=Q.maxURLLength??1/0;return se=>{const ue=Ce=>{const he=ze=>{if(V===1/0)return!0;const Le=ze.map(Pe=>Pe.path).join(","),de=ze.map(Pe=>Pe.input);return O.getUrl({...X,runtime:se,type:Ce,path:Le,inputs:de}).length<=V},We=H({...X,runtime:se,type:Ce,opts:Q});return{validate:he,fetch:We}},ae=N(ue("query")),te=N(ue("mutation")),re=N(ue("subscription")),ye={query:ae,subscription:re,mutation:te};return({op:Ce})=>S.observable(he=>{const We=ye[Ce.type],{promise:ze,cancel:Le}=We.load(Ce);let de;return ze.then(ve=>{de=ve;const Pe=E.transformResult(ve.json,se);if(!Pe.ok){he.error(I.TRPCClientError.from(Pe.error,{meta:ve.meta}));return}he.next({context:ve.meta,result:Pe.result}),he.complete()}).catch(ve=>{he.error(I.TRPCClientError.from(ve,{meta:de?.meta}))}),()=>{Le()}})}}}const U=R(H=>G=>{const Q=G.map(ue=>ue.path).join(","),X=G.map(ue=>ue.input),{promise:V,cancel:se}=O.jsonHttpRequester({...H,path:Q,inputs:X,headers(){return H.opts.headers?typeof H.opts.headers=="function"?H.opts.headers({opList:G}):H.opts.headers:{}}});return{promise:V.then(ue=>(Array.isArray(ue.json)?ue.json:G.map(()=>ue.json)).map(re=>({meta:ue.meta,json:re}))),cancel:se}});P.createHTTPBatchLink=R,P.httpBatchLink=U},34948:(M,P,m)=>{"use strict";var S=m(38507);const E=V=>typeof V=="function";function I(V){if(V)return V;if(typeof window<"u"&&E(window.fetch))return window.fetch;if(typeof globalThis<"u"&&E(globalThis.fetch))return globalThis.fetch;throw new Error("No fetch implementation found")}function O(V){return V||(typeof window<"u"&&window.AbortController?window.AbortController:typeof globalThis<"u"&&globalThis.AbortController?globalThis.AbortController:null)}function D(V){return{url:V.url.toString().replace(/\/$/,""),fetch:V.fetch,AbortController:O(V.AbortController)}}function N(V){const se={};for(let ue=0;ue<V.length;ue++){const ae=V[ue];se[ue]=ae}return se}const R={query:"GET",mutation:"POST"};function T(V){return"input"in V?V.runtime.transformer.serialize(V.input):N(V.inputs.map(se=>V.runtime.transformer.serialize(se)))}const U=V=>{let se=V.url+"/"+V.path;const ue=[];if("inputs"in V&&ue.push("batch=1"),V.type==="query"){const ae=T(V);ae!==void 0&&ue.push(`input=${encodeURIComponent(JSON.stringify(ae))}`)}return ue.length&&(se+="?"+ue.join("&")),se},H=V=>{if(V.type==="query")return;const se=T(V);return se!==void 0?JSON.stringify(se):void 0},G=V=>X({...V,contentTypeHeader:"application/json",getUrl:U,getBody:H});async function Q(V,se){const ue=V.getUrl(V),ae=V.getBody(V),{type:te}=V,re=await V.headers();/* istanbul ignore if -- @preserve */if(te==="subscription")throw new Error("Subscriptions should use wsLink");const ye={...V.contentTypeHeader?{"content-type":V.contentTypeHeader}:{},...V.batchModeHeader?{"trpc-batch-mode":V.batchModeHeader}:{},...re};return I(V.fetch)(ue,{method:R[te],signal:se?.signal,body:ae,headers:ye})}function X(V){const se=V.AbortController?new V.AbortController:null,ue={};let ae=!1;return{promise:new Promise((ye,Ce)=>{Q(V,se).then(he=>(ue.response=he,ae=!0,he.json())).then(he=>{ue.responseJSON=he,ye({json:he,meta:ue})}).catch(he=>{ae=!0,Ce(S.TRPCClientError.from(he,{meta:ue}))})}),cancel:()=>{ae||se?.abort()}}}P.fetchHTTPResponse=Q,P.getBody=H,P.getFetch=I,P.getUrl=U,P.httpRequest=X,P.jsonHttpRequester=G,P.resolveHTTPLinkOptions=D},83931:(M,P,m)=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});var S=m(33067),E=m(85031),I=m(38507),O=m(94479),D=m(34948),N=m(2131),R=m(32805),T=m(36937),U=m(88819);m(91473);class H{$request({type:ke,input:we,path:Ae,context:De={}}){return E.createChain({links:this.links,op:{id:++this.requestId,type:ke,path:Ae,input:we,context:De}}).pipe(S.share())}requestAsPromise(ke){const we=this.$request(ke),{promise:Ae,abort:De}=S.observableToPromise(we);return new Promise(($e,qe)=>{ke.signal?.addEventListener("abort",De),Ae.then(Et=>{$e(Et.result.data)}).catch(Et=>{qe(I.TRPCClientError.from(Et))})})}query(ke,we,Ae){return this.requestAsPromise({type:"query",path:ke,input:we,context:Ae?.context,signal:Ae?.signal})}mutation(ke,we,Ae){return this.requestAsPromise({type:"mutation",path:ke,input:we,context:Ae?.context,signal:Ae?.signal})}subscription(ke,we,Ae){return this.$request({type:"subscription",path:ke,input:we,context:Ae?.context}).subscribe({next(Ze){Ze.result.type==="started"?Ae.onStarted?.():Ze.result.type==="stopped"?Ae.onStopped?.():Ae.onData?.(Ze.result.data)},error(Ze){Ae.onError?.(Ze)},complete(){Ae.onComplete?.()}})}constructor(ke){this.requestId=0;const we=(()=>{const Ae=ke.transformer;return Ae?"input"in Ae?ke.transformer:{input:Ae,output:Ae}:{input:{serialize:De=>De,deserialize:De=>De},output:{serialize:De=>De,deserialize:De=>De}}})();this.runtime={transformer:{serialize:Ae=>we.input.serialize(Ae),deserialize:Ae=>we.output.deserialize(Ae)},combinedTransformer:we},this.links=ke.links.map(Ae=>Ae(this.runtime))}}function G(Re){return new H(Re)}function Q(Re){return new H(Re)}const X={query:"query",mutate:"mutation",subscribe:"subscription"},V=Re=>X[Re];function se(Re){return O.createFlatProxy(ke=>Re.hasOwnProperty(ke)?Re[ke]:ke==="__untypedClient"?Re:O.createRecursiveProxy(({path:we,args:Ae})=>{const De=[ke,...we],Ze=V(De.pop()),$e=De.join(".");return Re[Ze]($e,...Ae)}))}function ue(Re){const ke=new H(Re);return se(ke)}function ae(Re){return Re.__untypedClient}function te(Re){if(Re)return Re;if(typeof window<"u"&&window.TextDecoder)return new window.TextDecoder;if(typeof globalThis<"u"&&globalThis.TextDecoder)return new globalThis.TextDecoder;throw new Error("No TextDecoder implementation found")}async function re(Re){const ke=Re.parse??JSON.parse,we=Ae=>{if(Re.signal?.aborted||!Ae||Ae==="}")return;const De=Ae.indexOf(":"),Ze=Ae.substring(2,De-1),$e=Ae.substring(De+1);Re.onSingle(Number(Ze),ke($e))};await ye(Re.readableStream,we,Re.textDecoder)}async function ye(Re,ke,we){let Ae="";const De=Ze=>{const qe=we.decode(Ze).split(`
`);if(qe.length===1)Ae+=qe[0];else if(qe.length>1){ke(Ae+qe[0]);for(let Et=1;Et<qe.length-1;Et++)ke(qe[Et]);Ae=qe[qe.length-1]}};"getReader"in Re?await he(Re,De):await Ce(Re,De),ke(Ae)}function Ce(Re,ke){return new Promise(we=>{Re.on("data",ke),Re.on("end",we)})}async function he(Re,ke){const we=Re.getReader();let Ae=await we.read();for(;!Ae.done;)ke(Ae.value),Ae=await we.read()}const We=(Re,ke)=>{const we=Re.AbortController?new Re.AbortController:null,Ae=D.fetchHTTPResponse({...Re,contentTypeHeader:"application/json",batchModeHeader:"stream",getUrl:D.getUrl,getBody:D.getBody},we),De=()=>we?.abort(),Ze=Ae.then(async $e=>{if(!$e.body)throw new Error("Received response without body");const qe={response:$e};return re({readableStream:$e.body,onSingle:ke,parse:Et=>({json:JSON.parse(Et),meta:qe}),signal:we?.signal,textDecoder:Re.textDecoder})});return{cancel:De,promise:Ze}},ze=Re=>{const ke=te(Re.opts.textDecoder);return(we,Ae)=>{const De=we.map(Et=>Et.path).join(","),Ze=we.map(Et=>Et.input),{cancel:$e,promise:qe}=We({...Re,textDecoder:ke,path:De,inputs:Ze,headers(){return Re.opts.headers?typeof Re.opts.headers=="function"?Re.opts.headers({opList:we}):Re.opts.headers:{}}},(Et,At)=>{Ae(Et,At)});return{promise:qe.then(()=>[]),cancel:$e}}},Le=N.createHTTPBatchLink(ze),de=Re=>{if("input"in Re){if(!(Re.input instanceof FormData))throw new Error("Input is not FormData");return Re.input}},ve=Re=>{if(Re.type!=="mutation")throw new Error("We only handle mutations with formdata");return D.httpRequest({...Re,getUrl(){return`${Re.url}/${Re.path}`},getBody:de})},Pe=R.httpLinkFactory({requester:ve});P.splitLink=E.splitLink,P.TRPCClientError=I.TRPCClientError,P.getFetch=D.getFetch,P.httpBatchLink=N.httpBatchLink,P.httpLink=R.httpLink,P.httpLinkFactory=R.httpLinkFactory,P.loggerLink=T.loggerLink,P.createWSClient=U.createWSClient,P.wsLink=U.wsLink,P.TRPCUntypedClient=H,P.clientCallTypeToProcedureType=V,P.createTRPCClient=Q,P.createTRPCClientProxy=se,P.createTRPCProxyClient=ue,P.createTRPCUntypedClient=G,P.experimental_formDataLink=Pe,P.getUntypedClient=ae,P.unstable_httpBatchStreamLink=Le},32805:(M,P,m)=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});var S=m(33067),E=m(91473),I=m(38507),O=m(34948);m(94479);function D(R){return T=>{const U=O.resolveHTTPLinkOptions(T);return H=>({op:G})=>S.observable(Q=>{const{path:X,input:V,type:se}=G,{promise:ue,cancel:ae}=R.requester({...U,runtime:H,type:se,path:X,input:V,headers(){return T.headers?typeof T.headers=="function"?T.headers({op:G}):T.headers:{}}});let te;return ue.then(re=>{te=re.meta;const ye=E.transformResult(re.json,H);if(!ye.ok){Q.error(I.TRPCClientError.from(ye.error,{meta:te}));return}Q.next({context:re.meta,result:ye.result}),Q.complete()}).catch(re=>{Q.error(I.TRPCClientError.from(re,{meta:te}))}),()=>{ae()}})}}const N=D({requester:O.jsonHttpRequester});P.httpLink=N,P.httpLinkFactory=D},36937:(M,P,m)=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});var S=m(33067);function E(R){return typeof FormData>"u"?!1:R instanceof FormData}const I={css:{query:["72e3ff","3fb0d8"],mutation:["c5a3fc","904dfc"],subscription:["ff49e1","d83fbe"]},ansi:{regular:{query:["\x1B[30;46m","\x1B[97;46m"],mutation:["\x1B[30;45m","\x1B[97;45m"],subscription:["\x1B[30;42m","\x1B[97;42m"]},bold:{query:["\x1B[1;30;46m","\x1B[1;97;46m"],mutation:["\x1B[1;30;45m","\x1B[1;97;45m"],subscription:["\x1B[1;30;42m","\x1B[1;97;42m"]}}};function O(R){const{direction:T,type:U,path:H,id:G,input:Q}=R,X=[],V=[];if(R.colorMode==="ansi"){const[te,re]=I.ansi.regular[U],[ye,Ce]=I.ansi.bold[U];return X.push(T==="up"?te:re,T==="up"?">>":"<<",U,T==="up"?ye:Ce,`#${G}`,H,"\x1B[0m"),T==="up"?V.push({input:R.input}):V.push({input:R.input,result:"result"in R.result?R.result.result:R.result,elapsedMs:R.elapsedMs}),{parts:X,args:V}}const[se,ue]=I.css[U],ae=`
    background-color: #${T==="up"?se:ue}; 
    color: ${T==="up"?"black":"white"};
    padding: 2px;
  `;return X.push("%c",T==="up"?">>":"<<",U,`#${G}`,`%c${H}%c`,"%O"),V.push(ae,`${ae}; font-weight: bold;`,`${ae}; font-weight: normal;`),T==="up"?V.push({input:Q,context:R.context}):V.push({input:Q,result:R.result,elapsedMs:R.elapsedMs,context:R.context}),{parts:X,args:V}}const D=({c:R=console,colorMode:T="css"})=>U=>{const H=U.input,G=E(H)?Object.fromEntries(H):H,{parts:Q,args:X}=O({...U,colorMode:T,input:G}),V=U.direction==="down"&&U.result&&(U.result instanceof Error||"error"in U.result.result)?"error":"log";R[V].apply(null,[Q.join(" ")].concat(X))};function N(R={}){const{enabled:T=()=>!0}=R,U=R.colorMode??(typeof window>"u"?"ansi":"css"),{logger:H=D({c:R.console,colorMode:U})}=R;return()=>({op:G,next:Q})=>S.observable(X=>{T({...G,direction:"up"})&&H({...G,direction:"up"});const V=Date.now();function se(ue){const ae=Date.now()-V;T({...G,direction:"down",result:ue})&&H({...G,direction:"down",elapsedMs:ae,result:ue})}return Q(G).pipe(S.tap({next(ue){se(ue)},error(ue){se(ue)}})).subscribe(X)})}P.loggerLink=N},88819:(M,P,m)=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});var S=m(33067),E=m(91473),I=m(38507);m(94479);/* istanbul ignore next -- @preserve */const O=T=>T===0?0:Math.min(1e3*2**T,3e4);function D(T){const{url:U,WebSocket:H=WebSocket,retryDelayMs:G=O,onOpen:Q,onClose:X}=T;/* istanbul ignore next -- @preserve */if(!H)throw new Error("No WebSocket implementation found - you probably don't want to use this on the server, but if you do you need to pass a `WebSocket`-ponyfill");let V=[];const se=Object.create(null);let ue=0,ae=null,te=null,re=Pe(),ye="connecting";function Ce(){ye!=="open"||ae||(ae=setTimeout(()=>{ae=null,V.length===1?re.send(JSON.stringify(V.pop())):re.send(JSON.stringify(V)),V=[]}))}function he(){if(te!==null||ye==="closed")return;const ke=G(ue++);ze(ke)}function We(){ye="connecting";const ke=re;re=Pe(),Le(ke)}function ze(ke){te||(ye="connecting",te=setTimeout(We,ke))}function Le(ke){Object.values(se).some(Ae=>Ae.ws===ke)||ke.close()}function de(){Object.values(se).forEach(ke=>{ke.type==="subscription"&&ke.callbacks.complete()})}function ve(ke){V.some(we=>we.id===ke.op.id)||Re(ke.op,ke.callbacks)}function Pe(){const ke=typeof U=="function"?U():U,we=new H(ke);clearTimeout(te),te=null,we.addEventListener("open",()=>{/* istanbul ignore next -- @preserve */we===re&&(ue=0,ye="open",Q?.(),Ce())}),we.addEventListener("error",()=>{we===re&&he()});const Ae=Ze=>{if(Ze.method==="reconnect"&&we===re){ye==="open"&&X?.(),We();for(const $e of Object.values(se))$e.type==="subscription"&&ve($e)}},De=Ze=>{const $e=Ze.id!==null&&se[Ze.id];if($e){if($e.callbacks.next?.(Ze),$e.ws!==re&&we===re){const qe=$e.ws;$e.ws=re,Le(qe)}"result"in Ze&&Ze.result.type==="stopped"&&we===re&&$e.callbacks.complete()}};return we.addEventListener("message",({data:Ze})=>{const $e=JSON.parse(Ze);"method"in $e?Ae($e):De($e),(we!==re||ye==="closed")&&Le(we)}),we.addEventListener("close",({code:Ze})=>{ye==="open"&&X?.({code:Ze}),re===we&&he();for(const[$e,qe]of Object.entries(se))if(qe.ws===we){if(ye==="closed"){delete se[$e],qe.callbacks.complete?.();continue}qe.type==="subscription"?ve(qe):(delete se[$e],qe.callbacks.error?.(I.TRPCClientError.from(new N("WebSocket closed prematurely"))))}}),we}function Re(ke,we){const{type:Ae,input:De,path:Ze,id:$e}=ke,qe={id:$e,method:Ae,params:{input:De,path:Ze}};return se[$e]={ws:re,type:Ae,callbacks:we,op:ke},V.push(qe),Ce(),()=>{const Et=se[$e]?.callbacks;delete se[$e],V=V.filter(At=>At.id!==$e),Et?.complete?.(),re.readyState===H.OPEN&&ke.type==="subscription"&&(V.push({id:$e,method:"subscription.stop"}),Ce())}}return{close:()=>{ye="closed",X?.(),de(),Le(re),clearTimeout(te),te=null},request:Re,getConnection(){return re}}}class N extends Error{constructor(U){super(U),this.name="TRPCWebSocketClosedError",Object.setPrototypeOf(this,N.prototype)}}function R(T){return U=>{const{client:H}=T;return({op:G})=>S.observable(Q=>{const{type:X,path:V,id:se,context:ue}=G,ae=U.transformer.serialize(G.input),te=H.request({type:X,path:V,input:ae,id:se,context:ue},{error(re){Q.error(re),te()},complete(){Q.complete()},next(re){const ye=E.transformResult(re,U);if(!ye.ok){Q.error(I.TRPCClientError.from(ye.error));return}Q.next({result:ye.result}),G.type!=="subscription"&&(te(),Q.complete())}});return()=>{te()}})}}P.createWSClient=D,P.wsLink=R},85031:(M,P,m)=>{"use strict";var S=m(33067);function E(D){return S.observable(N=>{function R(U=0,H=D.op){const G=D.links[U];if(!G)throw new Error("No more links to execute - did you forget to add an ending link?");return G({op:H,next(X){return R(U+1,X)}})}return R().subscribe(N)})}function I(D){return Array.isArray(D)?D:[D]}function O(D){return N=>{const R=I(D.true).map(U=>U(N)),T=I(D.false).map(U=>U(N));return U=>S.observable(H=>{const G=D.condition(U.op)?R:T;return E({op:U.op,links:G}).subscribe(H)})}}P.createChain=E,P.splitLink=O},91473:(M,P)=>{"use strict";function m(O){return!!O&&!Array.isArray(O)&&typeof O=="object"}function S(O,D){if("error"in O){const R=D.transformer.deserialize(O.error);return{ok:!1,error:{...O,error:R}}}return{ok:!0,result:{...O.result,...(!O.result.type||O.result.type==="data")&&{type:"data",data:D.transformer.deserialize(O.result.data)}}}}class E extends Error{constructor(){super("Unable to transform response from server")}}function I(O,D){let N;try{N=S(O,D)}catch{throw new E}if(!N.ok&&(!m(N.error.error)||typeof N.error.error.code!="number"))throw new E;if(N.ok&&!m(N.result))throw new E;return N}P.isObject=m,P.transformResult=I},25929:(M,P)=>{"use strict";function m(I){const O=Object.create(null);for(const D in I){const N=I[D];O[N]=D}return O}const S={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,NOT_IMPLEMENTED:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099},E=m(S);P.TRPC_ERROR_CODES_BY_KEY=S,P.TRPC_ERROR_CODES_BY_NUMBER=E,P.invert=m},4891:(M,P)=>{"use strict";function m(I){return!!I&&!Array.isArray(I)&&typeof I=="object"}class S extends Error{}function E(I){if(I instanceof Error)return I;const O=typeof I;if(!(O==="undefined"||O==="function"||I===null)){if(O!=="object")return new Error(String(I));if(m(I)){const D=new S;for(const N in I)D[N]=I[N];return D}}}P.getCauseFromUnknown=E},96282:(M,P,m)=>{"use strict";var S=m(25929);const E=S.invert(S.TRPC_ERROR_CODES_BY_KEY),I={PARSE_ERROR:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,FORBIDDEN:403,METHOD_NOT_SUPPORTED:405,TIMEOUT:408,CONFLICT:409,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,UNPROCESSABLE_CONTENT:422,TOO_MANY_REQUESTS:429,CLIENT_CLOSED_REQUEST:499,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501};function O(G){return I[G]??500}function D(G){const Q=Array.isArray(G)?G:[G],X=new Set(Q.map(se=>{if("error"in se){const ue=se.error.data;if(typeof ue.httpStatus=="number")return ue.httpStatus;const ae=E[se.error.code];return O(ae)}return 200}));return X.size!==1?207:X.values().next().value}function N(G){return O(G.code)}const R=()=>{};function T(G,Q){return new Proxy(R,{get(V,se){if(!(typeof se!="string"||se==="then"))return T(G,[...Q,se])},apply(V,se,ue){const ae=Q[Q.length-1]==="apply";return G({args:ae?ue.length>=2?ue[1]:[]:ue,path:ae?Q.slice(0,-1):Q})}})}const U=G=>T(G,[]),H=G=>new Proxy(R,{get(Q,X){if(!(typeof X!="string"||X==="then"))return G(X)}});P.TRPC_ERROR_CODES_BY_NUMBER=E,P.createFlatProxy=H,P.createRecursiveProxy=U,P.getHTTPStatusCode=D,P.getHTTPStatusCodeFromError=N},97003:(M,P)=>{"use strict";function m(O){return O}function S(O){return O.length===0?m:O.length===1?O[0]:function(N){return O.reduce((R,T)=>T(R),N)}}function E(O){return typeof O=="object"&&O!==null&&"subscribe"in O}function I(O){const D={subscribe(N){let R=null,T=!1,U=!1,H=!1;function G(){if(R===null){H=!0;return}U||(U=!0,typeof R=="function"?R():R&&R.unsubscribe())}return R=O({next(Q){T||N.next?.(Q)},error(Q){T||(T=!0,N.error?.(Q),G())},complete(){T||(T=!0,N.complete?.(),G())}}),H&&G(),{unsubscribe:G}},pipe(...N){return S(N)(D)}};return D}P.isObservable=E,P.observable=I},33067:(M,P,m)=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});var S=m(97003);function E(R){return T=>{let U=0,H=null;const G=[];function Q(){H||(H=T.subscribe({next(V){for(const se of G)se.next?.(V)},error(V){for(const se of G)se.error?.(V)},complete(){for(const V of G)V.complete?.()}}))}function X(){if(U===0&&H){const V=H;H=null,V.unsubscribe()}}return{subscribe(V){return U++,G.push(V),Q(),{unsubscribe(){U--,X();const se=G.findIndex(ue=>ue===V);se>-1&&G.splice(se,1)}}}}}}function I(R){return T=>({subscribe(U){let H=0;return T.subscribe({next(Q){U.next?.(R(Q,H++))},error(Q){U.error?.(Q)},complete(){U.complete?.()}})}})}function O(R){return T=>({subscribe(U){return T.subscribe({next(H){R.next?.(H),U.next?.(H)},error(H){R.error?.(H),U.error?.(H)},complete(){R.complete?.(),U.complete?.()}})}})}class D extends Error{constructor(T){super(T),this.name="ObservableAbortError",Object.setPrototypeOf(this,D.prototype)}}function N(R){let T;return{promise:new Promise((H,G)=>{let Q=!1;function X(){Q||(Q=!0,G(new D("This operation was aborted.")),V.unsubscribe())}const V=R.subscribe({next(se){Q=!0,H(se),X()},error(se){Q=!0,G(se),X()},complete(){Q=!0,X()}});T=X}),abort:T}}P.isObservable=S.isObservable,P.observable=S.observable,P.map=I,P.observableToPromise=N,P.share=E,P.tap=O},94479:(M,P,m)=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});var S=m(96282),E=m(94043),I=m(4891);m(25929),P.createFlatProxy=S.createFlatProxy,P.createRecursiveProxy=S.createRecursiveProxy,P.getErrorShape=E.getErrorShape,P.transformTRPCResponse=E.transformTRPCResponse,P.getCauseFromUnknown=I.getCauseFromUnknown},94043:(M,P,m)=>{"use strict";var S=m(96282),E=m(25929);function I(N){const{path:R,error:T,config:U}=N,{code:H}=N.error,G={message:T.message,code:E.TRPC_ERROR_CODES_BY_KEY[H],data:{code:H,httpStatus:S.getHTTPStatusCodeFromError(T)}};return U.isDev&&typeof N.error.stack=="string"&&(G.data.stack=N.error.stack),typeof R=="string"&&(G.data.path=R),U.errorFormatter({...N,shape:G})}function O(N,R){return"error"in R?{...R,error:N.transformer.output.serialize(R.error)}:"data"in R.result?{...R,result:{...R.result,data:N.transformer.output.serialize(R.result.data)}}:R}function D(N,R){return Array.isArray(R)?R.map(T=>O(N,T)):O(N,R)}P.getErrorShape=I,P.transformTRPCResponse=D},15427:(M,P,m)=>{"use strict";m.d(P,{L:()=>E,l:()=>S});const S={english:{title:"English",code:"en",translationKey:"languages.english",browserLanguage:"en"},chinese:{title:"\u4E2D\u6587",code:"zh_CN",translationKey:"languages.chinese",browserLanguage:"zh-CN"},russian:{title:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",code:"ru",translationKey:"languages.russian",browserLanguage:"ru"},turkish:{title:"T\xFCrk\xE7e",code:"tr",translationKey:"languages.turkish",browserLanguage:"tr"},ukrainian:{title:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430",code:"uk",translationKey:"languages.ukrainian",browserLanguage:"uk"},vietnamese:{title:"Ti\u1EBFng Vi\u1EC7t",code:"vi",translationKey:"languages.vietnamese",browserLanguage:"vi"},spanish:{title:"Espa\xF1ol",code:"es",translationKey:"languages.spanish",browserLanguage:"es"},french:{title:"Fran\xE7ais",code:"fr",translationKey:"languages.french",browserLanguage:"fr"}},E="english"},84933:(M,P)=>{"use strict";P.byteLength=R,P.toByteArray=U,P.fromByteArray=Q;for(var m=[],S=[],E=typeof Uint8Array<"u"?Uint8Array:Array,I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=0,D=I.length;O<D;++O)m[O]=I[O],S[I.charCodeAt(O)]=O;S[45]=62,S[95]=63;function N(X){var V=X.length;if(V%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var se=X.indexOf("=");se===-1&&(se=V);var ue=se===V?0:4-se%4;return[se,ue]}function R(X){var V=N(X),se=V[0],ue=V[1];return(se+ue)*3/4-ue}function T(X,V,se){return(V+se)*3/4-se}function U(X){var V,se=N(X),ue=se[0],ae=se[1],te=new E(T(X,ue,ae)),re=0,ye=ae>0?ue-4:ue,Ce;for(Ce=0;Ce<ye;Ce+=4)V=S[X.charCodeAt(Ce)]<<18|S[X.charCodeAt(Ce+1)]<<12|S[X.charCodeAt(Ce+2)]<<6|S[X.charCodeAt(Ce+3)],te[re++]=V>>16&255,te[re++]=V>>8&255,te[re++]=V&255;return ae===2&&(V=S[X.charCodeAt(Ce)]<<2|S[X.charCodeAt(Ce+1)]>>4,te[re++]=V&255),ae===1&&(V=S[X.charCodeAt(Ce)]<<10|S[X.charCodeAt(Ce+1)]<<4|S[X.charCodeAt(Ce+2)]>>2,te[re++]=V>>8&255,te[re++]=V&255),te}function H(X){return m[X>>18&63]+m[X>>12&63]+m[X>>6&63]+m[X&63]}function G(X,V,se){for(var ue,ae=[],te=V;te<se;te+=3)ue=(X[te]<<16&16711680)+(X[te+1]<<8&65280)+(X[te+2]&255),ae.push(H(ue));return ae.join("")}function Q(X){for(var V,se=X.length,ue=se%3,ae=[],te=16383,re=0,ye=se-ue;re<ye;re+=te)ae.push(G(X,re,re+te>ye?ye:re+te));return ue===1?(V=X[se-1],ae.push(m[V>>2]+m[V<<4&63]+"==")):ue===2&&(V=(X[se-2]<<8)+X[se-1],ae.push(m[V>>10]+m[V>>4&63]+m[V<<2&63]+"=")),ae.join("")}},36533:(M,P,m)=>{"use strict";var S;/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const E=m(84933),I=m(40947),O=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;P.hp=T,S=re,P.IS=50;const D=2147483647;S=D,T.TYPED_ARRAY_SUPPORT=N(),!T.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function N(){try{const j=new Uint8Array(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,Uint8Array.prototype),Object.setPrototypeOf(j,v),j.foo()===42}catch{return!1}}Object.defineProperty(T.prototype,"parent",{enumerable:!0,get:function(){if(T.isBuffer(this))return this.buffer}}),Object.defineProperty(T.prototype,"offset",{enumerable:!0,get:function(){if(T.isBuffer(this))return this.byteOffset}});function R(j){if(j>D)throw new RangeError('The value "'+j+'" is invalid for option "size"');const v=new Uint8Array(j);return Object.setPrototypeOf(v,T.prototype),v}function T(j,v,C){if(typeof j=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Q(j)}return U(j,v,C)}T.poolSize=8192;function U(j,v,C){if(typeof j=="string")return X(j,v);if(ArrayBuffer.isView(j))return se(j);if(j==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j);if(rn(j,ArrayBuffer)||j&&rn(j.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(rn(j,SharedArrayBuffer)||j&&rn(j.buffer,SharedArrayBuffer)))return ue(j,v,C);if(typeof j=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Y=j.valueOf&&j.valueOf();if(Y!=null&&Y!==j)return T.from(Y,v,C);const oe=ae(j);if(oe)return oe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof j[Symbol.toPrimitive]=="function")return T.from(j[Symbol.toPrimitive]("string"),v,C);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof j)}T.from=function(j,v,C){return U(j,v,C)},Object.setPrototypeOf(T.prototype,Uint8Array.prototype),Object.setPrototypeOf(T,Uint8Array);function H(j){if(typeof j!="number")throw new TypeError('"size" argument must be of type number');if(j<0)throw new RangeError('The value "'+j+'" is invalid for option "size"')}function G(j,v,C){return H(j),j<=0?R(j):v!==void 0?typeof C=="string"?R(j).fill(v,C):R(j).fill(v):R(j)}T.alloc=function(j,v,C){return G(j,v,C)};function Q(j){return H(j),R(j<0?0:te(j)|0)}T.allocUnsafe=function(j){return Q(j)},T.allocUnsafeSlow=function(j){return Q(j)};function X(j,v){if((typeof v!="string"||v==="")&&(v="utf8"),!T.isEncoding(v))throw new TypeError("Unknown encoding: "+v);const C=ye(j,v)|0;let Y=R(C);const oe=Y.write(j,v);return oe!==C&&(Y=Y.slice(0,oe)),Y}function V(j){const v=j.length<0?0:te(j.length)|0,C=R(v);for(let Y=0;Y<v;Y+=1)C[Y]=j[Y]&255;return C}function se(j){if(rn(j,Uint8Array)){const v=new Uint8Array(j);return ue(v.buffer,v.byteOffset,v.byteLength)}return V(j)}function ue(j,v,C){if(v<0||j.byteLength<v)throw new RangeError('"offset" is outside of buffer bounds');if(j.byteLength<v+(C||0))throw new RangeError('"length" is outside of buffer bounds');let Y;return v===void 0&&C===void 0?Y=new Uint8Array(j):C===void 0?Y=new Uint8Array(j,v):Y=new Uint8Array(j,v,C),Object.setPrototypeOf(Y,T.prototype),Y}function ae(j){if(T.isBuffer(j)){const v=te(j.length)|0,C=R(v);return C.length===0||j.copy(C,0,0,v),C}if(j.length!==void 0)return typeof j.length!="number"||sr(j.length)?R(0):V(j);if(j.type==="Buffer"&&Array.isArray(j.data))return V(j.data)}function te(j){if(j>=D)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+D.toString(16)+" bytes");return j|0}function re(j){return+j!=j&&(j=0),T.alloc(+j)}T.isBuffer=function(v){return v!=null&&v._isBuffer===!0&&v!==T.prototype},T.compare=function(v,C){if(rn(v,Uint8Array)&&(v=T.from(v,v.offset,v.byteLength)),rn(C,Uint8Array)&&(C=T.from(C,C.offset,C.byteLength)),!T.isBuffer(v)||!T.isBuffer(C))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===C)return 0;let Y=v.length,oe=C.length;for(let ge=0,Te=Math.min(Y,oe);ge<Te;++ge)if(v[ge]!==C[ge]){Y=v[ge],oe=C[ge];break}return Y<oe?-1:oe<Y?1:0},T.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},T.concat=function(v,C){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return T.alloc(0);let Y;if(C===void 0)for(C=0,Y=0;Y<v.length;++Y)C+=v[Y].length;const oe=T.allocUnsafe(C);let ge=0;for(Y=0;Y<v.length;++Y){let Te=v[Y];if(rn(Te,Uint8Array))ge+Te.length>oe.length?(T.isBuffer(Te)||(Te=T.from(Te)),Te.copy(oe,ge)):Uint8Array.prototype.set.call(oe,Te,ge);else if(T.isBuffer(Te))Te.copy(oe,ge);else throw new TypeError('"list" argument must be an Array of Buffers');ge+=Te.length}return oe};function ye(j,v){if(T.isBuffer(j))return j.length;if(ArrayBuffer.isView(j)||rn(j,ArrayBuffer))return j.byteLength;if(typeof j!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof j);const C=j.length,Y=arguments.length>2&&arguments[2]===!0;if(!Y&&C===0)return 0;let oe=!1;for(;;)switch(v){case"ascii":case"latin1":case"binary":return C;case"utf8":case"utf-8":return br(j).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C*2;case"hex":return C>>>1;case"base64":return Mn(j).length;default:if(oe)return Y?-1:br(j).length;v=(""+v).toLowerCase(),oe=!0}}T.byteLength=ye;function Ce(j,v,C){let Y=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((C===void 0||C>this.length)&&(C=this.length),C<=0)||(C>>>=0,v>>>=0,C<=v))return"";for(j||(j="utf8");;)switch(j){case"hex":return qe(this,v,C);case"utf8":case"utf-8":return we(this,v,C);case"ascii":return Ze(this,v,C);case"latin1":case"binary":return $e(this,v,C);case"base64":return ke(this,v,C);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Et(this,v,C);default:if(Y)throw new TypeError("Unknown encoding: "+j);j=(j+"").toLowerCase(),Y=!0}}T.prototype._isBuffer=!0;function he(j,v,C){const Y=j[v];j[v]=j[C],j[C]=Y}T.prototype.swap16=function(){const v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let C=0;C<v;C+=2)he(this,C,C+1);return this},T.prototype.swap32=function(){const v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let C=0;C<v;C+=4)he(this,C,C+3),he(this,C+1,C+2);return this},T.prototype.swap64=function(){const v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let C=0;C<v;C+=8)he(this,C,C+7),he(this,C+1,C+6),he(this,C+2,C+5),he(this,C+3,C+4);return this},T.prototype.toString=function(){const v=this.length;return v===0?"":arguments.length===0?we(this,0,v):Ce.apply(this,arguments)},T.prototype.toLocaleString=T.prototype.toString,T.prototype.equals=function(v){if(!T.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:T.compare(this,v)===0},T.prototype.inspect=function(){let v="";const C=P.IS;return v=this.toString("hex",0,C).replace(/(.{2})/g,"$1 ").trim(),this.length>C&&(v+=" ... "),"<Buffer "+v+">"},O&&(T.prototype[O]=T.prototype.inspect),T.prototype.compare=function(v,C,Y,oe,ge){if(rn(v,Uint8Array)&&(v=T.from(v,v.offset,v.byteLength)),!T.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(C===void 0&&(C=0),Y===void 0&&(Y=v?v.length:0),oe===void 0&&(oe=0),ge===void 0&&(ge=this.length),C<0||Y>v.length||oe<0||ge>this.length)throw new RangeError("out of range index");if(oe>=ge&&C>=Y)return 0;if(oe>=ge)return-1;if(C>=Y)return 1;if(C>>>=0,Y>>>=0,oe>>>=0,ge>>>=0,this===v)return 0;let Te=ge-oe,rt=Y-C;const Nt=Math.min(Te,rt),St=this.slice(oe,ge),Bt=v.slice(C,Y);for(let yt=0;yt<Nt;++yt)if(St[yt]!==Bt[yt]){Te=St[yt],rt=Bt[yt];break}return Te<rt?-1:rt<Te?1:0};function We(j,v,C,Y,oe){if(j.length===0)return-1;if(typeof C=="string"?(Y=C,C=0):C>2147483647?C=2147483647:C<-2147483648&&(C=-2147483648),C=+C,sr(C)&&(C=oe?0:j.length-1),C<0&&(C=j.length+C),C>=j.length){if(oe)return-1;C=j.length-1}else if(C<0)if(oe)C=0;else return-1;if(typeof v=="string"&&(v=T.from(v,Y)),T.isBuffer(v))return v.length===0?-1:ze(j,v,C,Y,oe);if(typeof v=="number")return v=v&255,typeof Uint8Array.prototype.indexOf=="function"?oe?Uint8Array.prototype.indexOf.call(j,v,C):Uint8Array.prototype.lastIndexOf.call(j,v,C):ze(j,[v],C,Y,oe);throw new TypeError("val must be string, number or Buffer")}function ze(j,v,C,Y,oe){let ge=1,Te=j.length,rt=v.length;if(Y!==void 0&&(Y=String(Y).toLowerCase(),Y==="ucs2"||Y==="ucs-2"||Y==="utf16le"||Y==="utf-16le")){if(j.length<2||v.length<2)return-1;ge=2,Te/=2,rt/=2,C/=2}function Nt(Bt,yt){return ge===1?Bt[yt]:Bt.readUInt16BE(yt*ge)}let St;if(oe){let Bt=-1;for(St=C;St<Te;St++)if(Nt(j,St)===Nt(v,Bt===-1?0:St-Bt)){if(Bt===-1&&(Bt=St),St-Bt+1===rt)return Bt*ge}else Bt!==-1&&(St-=St-Bt),Bt=-1}else for(C+rt>Te&&(C=Te-rt),St=C;St>=0;St--){let Bt=!0;for(let yt=0;yt<rt;yt++)if(Nt(j,St+yt)!==Nt(v,yt)){Bt=!1;break}if(Bt)return St}return-1}T.prototype.includes=function(v,C,Y){return this.indexOf(v,C,Y)!==-1},T.prototype.indexOf=function(v,C,Y){return We(this,v,C,Y,!0)},T.prototype.lastIndexOf=function(v,C,Y){return We(this,v,C,Y,!1)};function Le(j,v,C,Y){C=Number(C)||0;const oe=j.length-C;Y?(Y=Number(Y),Y>oe&&(Y=oe)):Y=oe;const ge=v.length;Y>ge/2&&(Y=ge/2);let Te;for(Te=0;Te<Y;++Te){const rt=parseInt(v.substr(Te*2,2),16);if(sr(rt))return Te;j[C+Te]=rt}return Te}function de(j,v,C,Y){return ln(br(v,j.length-C),j,C,Y)}function ve(j,v,C,Y){return ln(ms(v),j,C,Y)}function Pe(j,v,C,Y){return ln(Mn(v),j,C,Y)}function Re(j,v,C,Y){return ln(Wn(v,j.length-C),j,C,Y)}T.prototype.write=function(v,C,Y,oe){if(C===void 0)oe="utf8",Y=this.length,C=0;else if(Y===void 0&&typeof C=="string")oe=C,Y=this.length,C=0;else if(isFinite(C))C=C>>>0,isFinite(Y)?(Y=Y>>>0,oe===void 0&&(oe="utf8")):(oe=Y,Y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ge=this.length-C;if((Y===void 0||Y>ge)&&(Y=ge),v.length>0&&(Y<0||C<0)||C>this.length)throw new RangeError("Attempt to write outside buffer bounds");oe||(oe="utf8");let Te=!1;for(;;)switch(oe){case"hex":return Le(this,v,C,Y);case"utf8":case"utf-8":return de(this,v,C,Y);case"ascii":case"latin1":case"binary":return ve(this,v,C,Y);case"base64":return Pe(this,v,C,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Re(this,v,C,Y);default:if(Te)throw new TypeError("Unknown encoding: "+oe);oe=(""+oe).toLowerCase(),Te=!0}},T.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ke(j,v,C){return v===0&&C===j.length?E.fromByteArray(j):E.fromByteArray(j.slice(v,C))}function we(j,v,C){C=Math.min(j.length,C);const Y=[];let oe=v;for(;oe<C;){const ge=j[oe];let Te=null,rt=ge>239?4:ge>223?3:ge>191?2:1;if(oe+rt<=C){let Nt,St,Bt,yt;switch(rt){case 1:ge<128&&(Te=ge);break;case 2:Nt=j[oe+1],(Nt&192)===128&&(yt=(ge&31)<<6|Nt&63,yt>127&&(Te=yt));break;case 3:Nt=j[oe+1],St=j[oe+2],(Nt&192)===128&&(St&192)===128&&(yt=(ge&15)<<12|(Nt&63)<<6|St&63,yt>2047&&(yt<55296||yt>57343)&&(Te=yt));break;case 4:Nt=j[oe+1],St=j[oe+2],Bt=j[oe+3],(Nt&192)===128&&(St&192)===128&&(Bt&192)===128&&(yt=(ge&15)<<18|(Nt&63)<<12|(St&63)<<6|Bt&63,yt>65535&&yt<1114112&&(Te=yt))}}Te===null?(Te=65533,rt=1):Te>65535&&(Te-=65536,Y.push(Te>>>10&1023|55296),Te=56320|Te&1023),Y.push(Te),oe+=rt}return De(Y)}const Ae=4096;function De(j){const v=j.length;if(v<=Ae)return String.fromCharCode.apply(String,j);let C="",Y=0;for(;Y<v;)C+=String.fromCharCode.apply(String,j.slice(Y,Y+=Ae));return C}function Ze(j,v,C){let Y="";C=Math.min(j.length,C);for(let oe=v;oe<C;++oe)Y+=String.fromCharCode(j[oe]&127);return Y}function $e(j,v,C){let Y="";C=Math.min(j.length,C);for(let oe=v;oe<C;++oe)Y+=String.fromCharCode(j[oe]);return Y}function qe(j,v,C){const Y=j.length;(!v||v<0)&&(v=0),(!C||C<0||C>Y)&&(C=Y);let oe="";for(let ge=v;ge<C;++ge)oe+=Ur[j[ge]];return oe}function Et(j,v,C){const Y=j.slice(v,C);let oe="";for(let ge=0;ge<Y.length-1;ge+=2)oe+=String.fromCharCode(Y[ge]+Y[ge+1]*256);return oe}T.prototype.slice=function(v,C){const Y=this.length;v=~~v,C=C===void 0?Y:~~C,v<0?(v+=Y,v<0&&(v=0)):v>Y&&(v=Y),C<0?(C+=Y,C<0&&(C=0)):C>Y&&(C=Y),C<v&&(C=v);const oe=this.subarray(v,C);return Object.setPrototypeOf(oe,T.prototype),oe};function At(j,v,C){if(j%1!==0||j<0)throw new RangeError("offset is not uint");if(j+v>C)throw new RangeError("Trying to access beyond buffer length")}T.prototype.readUintLE=T.prototype.readUIntLE=function(v,C,Y){v=v>>>0,C=C>>>0,Y||At(v,C,this.length);let oe=this[v],ge=1,Te=0;for(;++Te<C&&(ge*=256);)oe+=this[v+Te]*ge;return oe},T.prototype.readUintBE=T.prototype.readUIntBE=function(v,C,Y){v=v>>>0,C=C>>>0,Y||At(v,C,this.length);let oe=this[v+--C],ge=1;for(;C>0&&(ge*=256);)oe+=this[v+--C]*ge;return oe},T.prototype.readUint8=T.prototype.readUInt8=function(v,C){return v=v>>>0,C||At(v,1,this.length),this[v]},T.prototype.readUint16LE=T.prototype.readUInt16LE=function(v,C){return v=v>>>0,C||At(v,2,this.length),this[v]|this[v+1]<<8},T.prototype.readUint16BE=T.prototype.readUInt16BE=function(v,C){return v=v>>>0,C||At(v,2,this.length),this[v]<<8|this[v+1]},T.prototype.readUint32LE=T.prototype.readUInt32LE=function(v,C){return v=v>>>0,C||At(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},T.prototype.readUint32BE=T.prototype.readUInt32BE=function(v,C){return v=v>>>0,C||At(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},T.prototype.readBigUInt64LE=Cn(function(v){v=v>>>0,Pt(v,"offset");const C=this[v],Y=this[v+7];(C===void 0||Y===void 0)&&mt(v,this.length-8);const oe=C+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24,ge=this[++v]+this[++v]*2**8+this[++v]*2**16+Y*2**24;return BigInt(oe)+(BigInt(ge)<<BigInt(32))}),T.prototype.readBigUInt64BE=Cn(function(v){v=v>>>0,Pt(v,"offset");const C=this[v],Y=this[v+7];(C===void 0||Y===void 0)&&mt(v,this.length-8);const oe=C*2**24+this[++v]*2**16+this[++v]*2**8+this[++v],ge=this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+Y;return(BigInt(oe)<<BigInt(32))+BigInt(ge)}),T.prototype.readIntLE=function(v,C,Y){v=v>>>0,C=C>>>0,Y||At(v,C,this.length);let oe=this[v],ge=1,Te=0;for(;++Te<C&&(ge*=256);)oe+=this[v+Te]*ge;return ge*=128,oe>=ge&&(oe-=Math.pow(2,8*C)),oe},T.prototype.readIntBE=function(v,C,Y){v=v>>>0,C=C>>>0,Y||At(v,C,this.length);let oe=C,ge=1,Te=this[v+--oe];for(;oe>0&&(ge*=256);)Te+=this[v+--oe]*ge;return ge*=128,Te>=ge&&(Te-=Math.pow(2,8*C)),Te},T.prototype.readInt8=function(v,C){return v=v>>>0,C||At(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},T.prototype.readInt16LE=function(v,C){v=v>>>0,C||At(v,2,this.length);const Y=this[v]|this[v+1]<<8;return Y&32768?Y|4294901760:Y},T.prototype.readInt16BE=function(v,C){v=v>>>0,C||At(v,2,this.length);const Y=this[v+1]|this[v]<<8;return Y&32768?Y|4294901760:Y},T.prototype.readInt32LE=function(v,C){return v=v>>>0,C||At(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},T.prototype.readInt32BE=function(v,C){return v=v>>>0,C||At(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},T.prototype.readBigInt64LE=Cn(function(v){v=v>>>0,Pt(v,"offset");const C=this[v],Y=this[v+7];(C===void 0||Y===void 0)&&mt(v,this.length-8);const oe=this[v+4]+this[v+5]*2**8+this[v+6]*2**16+(Y<<24);return(BigInt(oe)<<BigInt(32))+BigInt(C+this[++v]*256+this[++v]*65536+this[++v]*16777216)}),T.prototype.readBigInt64BE=Cn(function(v){v=v>>>0,Pt(v,"offset");const C=this[v],Y=this[v+7];(C===void 0||Y===void 0)&&mt(v,this.length-8);const oe=(C<<24)+this[++v]*2**16+this[++v]*2**8+this[++v];return(BigInt(oe)<<BigInt(32))+BigInt(this[++v]*16777216+this[++v]*65536+this[++v]*256+Y)}),T.prototype.readFloatLE=function(v,C){return v=v>>>0,C||At(v,4,this.length),I.read(this,v,!0,23,4)},T.prototype.readFloatBE=function(v,C){return v=v>>>0,C||At(v,4,this.length),I.read(this,v,!1,23,4)},T.prototype.readDoubleLE=function(v,C){return v=v>>>0,C||At(v,8,this.length),I.read(this,v,!0,52,8)},T.prototype.readDoubleBE=function(v,C){return v=v>>>0,C||At(v,8,this.length),I.read(this,v,!1,52,8)};function Wt(j,v,C,Y,oe,ge){if(!T.isBuffer(j))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>oe||v<ge)throw new RangeError('"value" argument is out of bounds');if(C+Y>j.length)throw new RangeError("Index out of range")}T.prototype.writeUintLE=T.prototype.writeUIntLE=function(v,C,Y,oe){if(v=+v,C=C>>>0,Y=Y>>>0,!oe){const rt=Math.pow(2,8*Y)-1;Wt(this,v,C,Y,rt,0)}let ge=1,Te=0;for(this[C]=v&255;++Te<Y&&(ge*=256);)this[C+Te]=v/ge&255;return C+Y},T.prototype.writeUintBE=T.prototype.writeUIntBE=function(v,C,Y,oe){if(v=+v,C=C>>>0,Y=Y>>>0,!oe){const rt=Math.pow(2,8*Y)-1;Wt(this,v,C,Y,rt,0)}let ge=Y-1,Te=1;for(this[C+ge]=v&255;--ge>=0&&(Te*=256);)this[C+ge]=v/Te&255;return C+Y},T.prototype.writeUint8=T.prototype.writeUInt8=function(v,C,Y){return v=+v,C=C>>>0,Y||Wt(this,v,C,1,255,0),this[C]=v&255,C+1},T.prototype.writeUint16LE=T.prototype.writeUInt16LE=function(v,C,Y){return v=+v,C=C>>>0,Y||Wt(this,v,C,2,65535,0),this[C]=v&255,this[C+1]=v>>>8,C+2},T.prototype.writeUint16BE=T.prototype.writeUInt16BE=function(v,C,Y){return v=+v,C=C>>>0,Y||Wt(this,v,C,2,65535,0),this[C]=v>>>8,this[C+1]=v&255,C+2},T.prototype.writeUint32LE=T.prototype.writeUInt32LE=function(v,C,Y){return v=+v,C=C>>>0,Y||Wt(this,v,C,4,4294967295,0),this[C+3]=v>>>24,this[C+2]=v>>>16,this[C+1]=v>>>8,this[C]=v&255,C+4},T.prototype.writeUint32BE=T.prototype.writeUInt32BE=function(v,C,Y){return v=+v,C=C>>>0,Y||Wt(this,v,C,4,4294967295,0),this[C]=v>>>24,this[C+1]=v>>>16,this[C+2]=v>>>8,this[C+3]=v&255,C+4};function $r(j,v,C,Y,oe){kt(v,Y,oe,j,C,7);let ge=Number(v&BigInt(4294967295));j[C++]=ge,ge=ge>>8,j[C++]=ge,ge=ge>>8,j[C++]=ge,ge=ge>>8,j[C++]=ge;let Te=Number(v>>BigInt(32)&BigInt(4294967295));return j[C++]=Te,Te=Te>>8,j[C++]=Te,Te=Te>>8,j[C++]=Te,Te=Te>>8,j[C++]=Te,C}function Ws(j,v,C,Y,oe){kt(v,Y,oe,j,C,7);let ge=Number(v&BigInt(4294967295));j[C+7]=ge,ge=ge>>8,j[C+6]=ge,ge=ge>>8,j[C+5]=ge,ge=ge>>8,j[C+4]=ge;let Te=Number(v>>BigInt(32)&BigInt(4294967295));return j[C+3]=Te,Te=Te>>8,j[C+2]=Te,Te=Te>>8,j[C+1]=Te,Te=Te>>8,j[C]=Te,C+8}T.prototype.writeBigUInt64LE=Cn(function(v,C=0){return $r(this,v,C,BigInt(0),BigInt("0xffffffffffffffff"))}),T.prototype.writeBigUInt64BE=Cn(function(v,C=0){return Ws(this,v,C,BigInt(0),BigInt("0xffffffffffffffff"))}),T.prototype.writeIntLE=function(v,C,Y,oe){if(v=+v,C=C>>>0,!oe){const Nt=Math.pow(2,8*Y-1);Wt(this,v,C,Y,Nt-1,-Nt)}let ge=0,Te=1,rt=0;for(this[C]=v&255;++ge<Y&&(Te*=256);)v<0&&rt===0&&this[C+ge-1]!==0&&(rt=1),this[C+ge]=(v/Te>>0)-rt&255;return C+Y},T.prototype.writeIntBE=function(v,C,Y,oe){if(v=+v,C=C>>>0,!oe){const Nt=Math.pow(2,8*Y-1);Wt(this,v,C,Y,Nt-1,-Nt)}let ge=Y-1,Te=1,rt=0;for(this[C+ge]=v&255;--ge>=0&&(Te*=256);)v<0&&rt===0&&this[C+ge+1]!==0&&(rt=1),this[C+ge]=(v/Te>>0)-rt&255;return C+Y},T.prototype.writeInt8=function(v,C,Y){return v=+v,C=C>>>0,Y||Wt(this,v,C,1,127,-128),v<0&&(v=255+v+1),this[C]=v&255,C+1},T.prototype.writeInt16LE=function(v,C,Y){return v=+v,C=C>>>0,Y||Wt(this,v,C,2,32767,-32768),this[C]=v&255,this[C+1]=v>>>8,C+2},T.prototype.writeInt16BE=function(v,C,Y){return v=+v,C=C>>>0,Y||Wt(this,v,C,2,32767,-32768),this[C]=v>>>8,this[C+1]=v&255,C+2},T.prototype.writeInt32LE=function(v,C,Y){return v=+v,C=C>>>0,Y||Wt(this,v,C,4,2147483647,-2147483648),this[C]=v&255,this[C+1]=v>>>8,this[C+2]=v>>>16,this[C+3]=v>>>24,C+4},T.prototype.writeInt32BE=function(v,C,Y){return v=+v,C=C>>>0,Y||Wt(this,v,C,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[C]=v>>>24,this[C+1]=v>>>16,this[C+2]=v>>>8,this[C+3]=v&255,C+4},T.prototype.writeBigInt64LE=Cn(function(v,C=0){return $r(this,v,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),T.prototype.writeBigInt64BE=Cn(function(v,C=0){return Ws(this,v,C,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Gs(j,v,C,Y,oe,ge){if(C+Y>j.length)throw new RangeError("Index out of range");if(C<0)throw new RangeError("Index out of range")}function $n(j,v,C,Y,oe){return v=+v,C=C>>>0,oe||Gs(j,v,C,4,34028234663852886e22,-34028234663852886e22),I.write(j,v,C,Y,23,4),C+4}T.prototype.writeFloatLE=function(v,C,Y){return $n(this,v,C,!0,Y)},T.prototype.writeFloatBE=function(v,C,Y){return $n(this,v,C,!1,Y)};function mr(j,v,C,Y,oe){return v=+v,C=C>>>0,oe||Gs(j,v,C,8,17976931348623157e292,-17976931348623157e292),I.write(j,v,C,Y,52,8),C+8}T.prototype.writeDoubleLE=function(v,C,Y){return mr(this,v,C,!0,Y)},T.prototype.writeDoubleBE=function(v,C,Y){return mr(this,v,C,!1,Y)},T.prototype.copy=function(v,C,Y,oe){if(!T.isBuffer(v))throw new TypeError("argument should be a Buffer");if(Y||(Y=0),!oe&&oe!==0&&(oe=this.length),C>=v.length&&(C=v.length),C||(C=0),oe>0&&oe<Y&&(oe=Y),oe===Y||v.length===0||this.length===0)return 0;if(C<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("sourceEnd out of bounds");oe>this.length&&(oe=this.length),v.length-C<oe-Y&&(oe=v.length-C+Y);const ge=oe-Y;return this===v&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(C,Y,oe):Uint8Array.prototype.set.call(v,this.subarray(Y,oe),C),ge},T.prototype.fill=function(v,C,Y,oe){if(typeof v=="string"){if(typeof C=="string"?(oe=C,C=0,Y=this.length):typeof Y=="string"&&(oe=Y,Y=this.length),oe!==void 0&&typeof oe!="string")throw new TypeError("encoding must be a string");if(typeof oe=="string"&&!T.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);if(v.length===1){const Te=v.charCodeAt(0);(oe==="utf8"&&Te<128||oe==="latin1")&&(v=Te)}}else typeof v=="number"?v=v&255:typeof v=="boolean"&&(v=Number(v));if(C<0||this.length<C||this.length<Y)throw new RangeError("Out of range index");if(Y<=C)return this;C=C>>>0,Y=Y===void 0?this.length:Y>>>0,v||(v=0);let ge;if(typeof v=="number")for(ge=C;ge<Y;++ge)this[ge]=v;else{const Te=T.isBuffer(v)?v:T.from(v,oe),rt=Te.length;if(rt===0)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for(ge=0;ge<Y-C;++ge)this[ge+C]=Te[ge%rt]}return this};const Un={};function un(j,v,C){Un[j]=class extends C{constructor(){super(),Object.defineProperty(this,"message",{value:v.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${j}]`,this.stack,delete this.name}get code(){return j}set code(oe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:oe,writable:!0})}toString(){return`${this.name} [${j}]: ${this.message}`}}}un("ERR_BUFFER_OUT_OF_BOUNDS",function(j){return j?`${j} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),un("ERR_INVALID_ARG_TYPE",function(j,v){return`The "${j}" argument must be of type number. Received type ${typeof v}`},TypeError),un("ERR_OUT_OF_RANGE",function(j,v,C){let Y=`The value of "${j}" is out of range.`,oe=C;return Number.isInteger(C)&&Math.abs(C)>4294967296?oe=Tt(String(C)):typeof C=="bigint"&&(oe=String(C),(C>BigInt(2)**BigInt(32)||C<-(BigInt(2)**BigInt(32)))&&(oe=Tt(oe)),oe+="n"),Y+=` It must be ${v}. Received ${oe}`,Y},RangeError);function Tt(j){let v="",C=j.length;const Y=j[0]==="-"?1:0;for(;C>=Y+4;C-=3)v=`_${j.slice(C-3,C)}${v}`;return`${j.slice(0,C)}${v}`}function Gt(j,v,C){Pt(v,"offset"),(j[v]===void 0||j[v+C]===void 0)&&mt(v,j.length-(C+1))}function kt(j,v,C,Y,oe,ge){if(j>C||j<v){const Te=typeof v=="bigint"?"n":"";let rt;throw ge>3?v===0||v===BigInt(0)?rt=`>= 0${Te} and < 2${Te} ** ${(ge+1)*8}${Te}`:rt=`>= -(2${Te} ** ${(ge+1)*8-1}${Te}) and < 2 ** ${(ge+1)*8-1}${Te}`:rt=`>= ${v}${Te} and <= ${C}${Te}`,new Un.ERR_OUT_OF_RANGE("value",rt,j)}Gt(Y,oe,ge)}function Pt(j,v){if(typeof j!="number")throw new Un.ERR_INVALID_ARG_TYPE(v,"number",j)}function mt(j,v,C){throw Math.floor(j)!==j?(Pt(j,C),new Un.ERR_OUT_OF_RANGE(C||"offset","an integer",j)):v<0?new Un.ERR_BUFFER_OUT_OF_BOUNDS:new Un.ERR_OUT_OF_RANGE(C||"offset",`>= ${C?1:0} and <= ${v}`,j)}const yr=/[^+/0-9A-Za-z-_]/g;function nn(j){if(j=j.split("=")[0],j=j.trim().replace(yr,""),j.length<2)return"";for(;j.length%4!==0;)j=j+"=";return j}function br(j,v){v=v||1/0;let C;const Y=j.length;let oe=null;const ge=[];for(let Te=0;Te<Y;++Te){if(C=j.charCodeAt(Te),C>55295&&C<57344){if(!oe){if(C>56319){(v-=3)>-1&&ge.push(239,191,189);continue}else if(Te+1===Y){(v-=3)>-1&&ge.push(239,191,189);continue}oe=C;continue}if(C<56320){(v-=3)>-1&&ge.push(239,191,189),oe=C;continue}C=(oe-55296<<10|C-56320)+65536}else oe&&(v-=3)>-1&&ge.push(239,191,189);if(oe=null,C<128){if((v-=1)<0)break;ge.push(C)}else if(C<2048){if((v-=2)<0)break;ge.push(C>>6|192,C&63|128)}else if(C<65536){if((v-=3)<0)break;ge.push(C>>12|224,C>>6&63|128,C&63|128)}else if(C<1114112){if((v-=4)<0)break;ge.push(C>>18|240,C>>12&63|128,C>>6&63|128,C&63|128)}else throw new Error("Invalid code point")}return ge}function ms(j){const v=[];for(let C=0;C<j.length;++C)v.push(j.charCodeAt(C)&255);return v}function Wn(j,v){let C,Y,oe;const ge=[];for(let Te=0;Te<j.length&&!((v-=2)<0);++Te)C=j.charCodeAt(Te),Y=C>>8,oe=C%256,ge.push(oe),ge.push(Y);return ge}function Mn(j){return E.toByteArray(nn(j))}function ln(j,v,C,Y){let oe;for(oe=0;oe<Y&&!(oe+C>=v.length||oe>=j.length);++oe)v[oe+C]=j[oe];return oe}function rn(j,v){return j instanceof v||j!=null&&j.constructor!=null&&j.constructor.name!=null&&j.constructor.name===v.name}function sr(j){return j!==j}const Ur=function(){const j="0123456789abcdef",v=new Array(256);for(let C=0;C<16;++C){const Y=C*16;for(let oe=0;oe<16;++oe)v[Y+oe]=j[C]+j[oe]}return v}();function Cn(j){return typeof BigInt>"u"?hi:j}function hi(){throw new Error("BigInt not supported")}},97785:(M,P,m)=>{"use strict";var S=m(79524),E=m(64811),I=m(46255),O=m(12728);M.exports=O||S.call(I,E)},96440:(M,P,m)=>{"use strict";var S=m(79524),E=m(64811),I=m(97785);M.exports=function(){return I(S,E,arguments)}},64811:M=>{"use strict";M.exports=Function.prototype.apply},46255:M=>{"use strict";M.exports=Function.prototype.call},92427:(M,P,m)=>{"use strict";var S=m(79524),E=m(71102),I=m(46255),O=m(97785);M.exports=function(N){if(N.length<1||typeof N[0]!="function")throw new E("a function is required");return O(S,I,N)}},12728:M=>{"use strict";M.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply},17695:(M,P,m)=>{"use strict";var S=m(7755),E=m(39886),I=m(92427),O=m(96440);M.exports=function(N){var R=I(arguments),T=N.length-(arguments.length-1);return S(R,1+(T>0?T:0),!0)},E?E(M.exports,"apply",{value:O}):M.exports.apply=O},98801:(M,P,m)=>{"use strict";var S=m(49336),E=m(92427),I=E([S("%String.prototype.indexOf%")]);M.exports=function(D,N){var R=S(D,!!N);return typeof R=="function"&&I(D,".prototype.")>-1?E([R]):R}},19757:(M,P,m)=>{"use strict";var S=m(67016),E=m(19632),I=m(79197),O=m(87303),D=m(26781),N=M.exports=function(R,T){var U,H,G,Q,X;return arguments.length<2||typeof R!="string"?(Q=T,T=R,R=null):Q=arguments[2],S(R)?(U=D.call(R,"c"),H=D.call(R,"e"),G=D.call(R,"w")):(U=G=!0,H=!1),X={value:T,configurable:U,enumerable:H,writable:G},Q?I(O(Q),X):X};N.gs=function(R,T,U){var H,G,Q,X;return typeof R!="string"?(Q=U,U=T,T=R,R=null):Q=arguments[3],S(T)?E(T)?S(U)?E(U)||(Q=U,U=void 0):U=void 0:(Q=T,T=U=void 0):T=void 0,S(R)?(H=D.call(R,"c"),G=D.call(R,"e")):(H=!0,G=!1),X={get:T,set:U,configurable:H,enumerable:G},Q?I(O(Q),X):X}},20022:(M,P,m)=>{"use strict";var S=m(39886),E=m(63429),I=m(71102),O=m(25667);M.exports=function(N,R,T){if(!N||typeof N!="object"&&typeof N!="function")throw new I("`obj` must be an object or a function`");if(typeof R!="string"&&typeof R!="symbol")throw new I("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new I("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new I("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new I("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new I("`loose`, if provided, must be a boolean");var U=arguments.length>3?arguments[3]:null,H=arguments.length>4?arguments[4]:null,G=arguments.length>5?arguments[5]:null,Q=arguments.length>6?arguments[6]:!1,X=!!O&&O(N,R);if(S)S(N,R,{configurable:G===null&&X?X.configurable:!G,enumerable:U===null&&X?X.enumerable:!U,value:T,writable:H===null&&X?X.writable:!H});else if(Q||!U&&!H&&!G)N[R]=T;else throw new E("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}},57678:(M,P,m)=>{"use strict";var S=m(92427),E=m(25667),I;try{I=[].__proto__===Array.prototype}catch(R){if(!R||typeof R!="object"||!("code"in R)||R.code!=="ERR_PROTO_ACCESS")throw R}var O=!!I&&E&&E(Object.prototype,"__proto__"),D=Object,N=D.getPrototypeOf;M.exports=O&&typeof O.get=="function"?S([O.get]):typeof N=="function"?function(T){return N(T==null?T:D(T))}:!1},39886:M=>{"use strict";var P=Object.defineProperty||!1;if(P)try{P({},"a",{value:1})}catch{P=!1}M.exports=P},38004:M=>{"use strict";M.exports=EvalError},41488:M=>{"use strict";M.exports=Error},96469:M=>{"use strict";M.exports=RangeError},12557:M=>{"use strict";M.exports=ReferenceError},63429:M=>{"use strict";M.exports=SyntaxError},71102:M=>{"use strict";M.exports=TypeError},85966:M=>{"use strict";M.exports=URIError},25153:M=>{"use strict";M.exports=Object},69759:(M,P,m)=>{"use strict";var S=m(92582),E=m(48036),I=m(89273),O=Array.prototype.indexOf,D=Object.prototype.hasOwnProperty,N=Math.abs,R=Math.floor;M.exports=function(T){var U,H,G,Q;if(!S(T))return O.apply(this,arguments);for(H=E(I(this).length),G=arguments[1],isNaN(G)?G=0:G>=0?G=R(G):G=E(this.length)-R(N(G)),U=G;U<H;++U)if(D.call(this,U)&&(Q=this[U],S(Q)))return U;return-1}},41386:(M,P,m)=>{"use strict";M.exports=m(19585)()?Array.from:m(7789)},19585:M=>{"use strict";M.exports=function(){var P=Array.from,m,S;return typeof P!="function"?!1:(m=["raz","dwa"],S=P(m),!!(S&&S!==m&&S[1]==="dwa"))}},7789:(M,P,m)=>{"use strict";var S=m(36176).iterator,E=m(15119),I=m(41147),O=m(48036),D=m(11166),N=m(89273),R=m(42095),T=m(88479),U=Array.isArray,H=Function.prototype.call,G={configurable:!0,enumerable:!0,writable:!0,value:null},Q=Object.defineProperty;M.exports=function(X){var V=arguments[1],se=arguments[2],ue,ae,te,re,ye,Ce,he,We,ze,Le;if(X=Object(N(X)),R(V)&&D(V),!this||this===Array||!I(this)){if(!V){if(E(X))return ye=X.length,ye!==1?Array.apply(null,X):(re=new Array(1),re[0]=X[0],re);if(U(X)){for(re=new Array(ye=X.length),ae=0;ae<ye;++ae)re[ae]=X[ae];return re}}re=[]}else ue=this;if(!U(X)){if((ze=X[S])!==void 0){for(he=D(ze).call(X),ue&&(re=new ue),We=he.next(),ae=0;!We.done;)Le=V?H.call(V,se,We.value,ae):We.value,ue?(G.value=Le,Q(re,ae,G)):re[ae]=Le,We=he.next(),++ae;ye=ae}else if(T(X)){for(ye=X.length,ue&&(re=new ue),ae=0,te=0;ae<ye;++ae)Le=X[ae],ae+1<ye&&(Ce=Le.charCodeAt(0),Ce>=55296&&Ce<=56319&&(Le+=X[++ae])),Le=V?H.call(V,se,Le,te):Le,ue?(G.value=Le,Q(re,te,G)):re[te]=Le,++te;ye=te}}if(ye===void 0)for(ye=O(X.length),ue&&(re=new ue(ye)),ae=0;ae<ye;++ae)Le=V?H.call(V,se,X[ae],ae):X[ae],ue?(G.value=Le,Q(re,ae,G)):re[ae]=Le;return ue&&(G.value=null,re.length=ye),re}},78948:(M,P,m)=>{"use strict";var S=m(41386),E=Array.isArray;M.exports=function(I){return E(I)?I:S(I)}},58563:(M,P,m)=>{"use strict";var S=m(79197),E=m(99927),I=m(42095),O=Error.captureStackTrace;M.exports=function(D){var N=new Error(D),R=arguments[1],T=arguments[2];return I(T)||E(R)&&(T=R,R=null),I(T)&&S(N,T),I(R)&&(N.code=R),O&&O(N,M.exports),N}},5715:(M,P,m)=>{"use strict";var S=m(48036),E=function(R,T){return T},I,O,D,N;try{Object.defineProperty(E,"length",{configurable:!0,writable:!1,enumerable:!1,value:1})}catch{}E.length===1?(I={configurable:!0,writable:!1,enumerable:!1},O=Object.defineProperty,M.exports=function(R,T){return T=S(T),R.length===T?R:(I.value=T,O(R,"length",I))}):(N=m(22982),D=function(){var R=[];return function(T){var U,H=0;if(R[T])return R[T];for(U=[];T--;)U.push("a"+(++H).toString(36));return new Function("fn","return function ("+U.join(", ")+") { return fn.apply(this, arguments); };")}}(),M.exports=function(R,T){var U;if(T=S(T),R.length===T)return R;U=D(T)(R);try{N(U,R)}catch{}return U})},15119:M=>{"use strict";var P=Object.prototype.toString,m=P.call(function(){return arguments}());M.exports=function(S){return P.call(S)===m}},41147:M=>{"use strict";var P=Object.prototype.toString,m=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);M.exports=function(S){return typeof S=="function"&&m(P.call(S))}},71306:M=>{"use strict";M.exports=function(){}},19102:(M,P,m)=>{"use strict";M.exports=m(82997)()?Math.sign:m(23849)},82997:M=>{"use strict";M.exports=function(){var P=Math.sign;return typeof P!="function"?!1:P(10)===1&&P(-20)===-1}},23849:M=>{"use strict";M.exports=function(P){return P=Number(P),isNaN(P)||P===0?P:P>0?1:-1}},92582:(M,P,m)=>{"use strict";M.exports=m(67565)()?Number.isNaN:m(59393)},67565:M=>{"use strict";M.exports=function(){var P=Number.isNaN;return typeof P!="function"?!1:!P({})&&P(NaN)&&!P(34)}},59393:M=>{"use strict";M.exports=function(P){return P!==P}},27243:(M,P,m)=>{"use strict";var S=m(19102),E=Math.abs,I=Math.floor;M.exports=function(O){return isNaN(O)?0:(O=Number(O),O===0||!isFinite(O)?O:S(O)*I(E(O)))}},48036:(M,P,m)=>{"use strict";var S=m(27243),E=Math.max;M.exports=function(I){return E(0,S(I))}},11682:(M,P,m)=>{"use strict";var S=m(11166),E=m(89273),I=Function.prototype.bind,O=Function.prototype.call,D=Object.keys,N=Object.prototype.propertyIsEnumerable;M.exports=function(R,T){return function(U,H){var G,Q=arguments[2],X=arguments[3];return U=Object(E(U)),S(H),G=D(U),X&&G.sort(typeof X=="function"?I.call(X,U):void 0),typeof R!="function"&&(R=G[R]),O.call(R,G,function(V,se){return N.call(U,V)?O.call(H,Q,U[V],V,U,se):T})}}},79197:(M,P,m)=>{"use strict";M.exports=m(73380)()?Object.assign:m(55480)},73380:M=>{"use strict";M.exports=function(){var P=Object.assign,m;return typeof P!="function"?!1:(m={foo:"raz"},P(m,{bar:"dwa"},{trzy:"trzy"}),m.foo+m.bar+m.trzy==="razdwatrzy")}},55480:(M,P,m)=>{"use strict";var S=m(24232),E=m(89273),I=Math.max;M.exports=function(O,D){var N,R,T=I(arguments.length,2),U;for(O=Object(E(O)),U=function(H){try{O[H]=D[H]}catch(G){N||(N=G)}},R=1;R<T;++R)D=arguments[R],S(D).forEach(U);if(N!==void 0)throw N;return O}},40676:(M,P,m)=>{"use strict";M.exports=m(11682)("forEach")},75860:M=>{"use strict";M.exports=function(P){return typeof P=="function"}},99927:(M,P,m)=>{"use strict";var S=m(42095),E={function:!0,object:!0};M.exports=function(I){return S(I)&&E[typeof I]||!1}},42095:(M,P,m)=>{"use strict";var S=m(71306)();M.exports=function(E){return E!==S&&E!==null}},24232:(M,P,m)=>{"use strict";M.exports=m(19183)()?Object.keys:m(79991)},19183:M=>{"use strict";M.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},79991:(M,P,m)=>{"use strict";var S=m(42095),E=Object.keys;M.exports=function(I){return E(S(I)?Object(I):I)}},1381:(M,P,m)=>{"use strict";var S=m(11166),E=m(40676),I=Function.prototype.call;M.exports=function(O,D){var N={},R=arguments[2];return S(D),E(O,function(T,U,H,G){N[U]=I.call(D,R,T,U,H,G)}),N}},22982:(M,P,m)=>{"use strict";var S=m(89273),E=Object.defineProperty,I=Object.getOwnPropertyDescriptor,O=Object.getOwnPropertyNames,D=Object.getOwnPropertySymbols;M.exports=function(N,R){var T,U=Object(S(R));if(N=Object(S(N)),O(U).forEach(function(H){try{E(N,H,I(R,H))}catch(G){T=G}}),typeof D=="function"&&D(U).forEach(function(H){try{E(N,H,I(R,H))}catch(G){T=G}}),T!==void 0)throw T;return N}},87303:(M,P,m)=>{"use strict";var S=m(42095),E=Array.prototype.forEach,I=Object.create,O=function(D,N){var R;for(R in D)N[R]=D[R]};M.exports=function(D){var N=I(null);return E.call(arguments,function(R){S(R)&&O(Object(R),N)}),N}},90583:M=>{"use strict";var P=Array.prototype.forEach,m=Object.create;M.exports=function(S){var E=m(null);return P.call(arguments,function(I){E[I]=!0}),E}},11166:M=>{"use strict";M.exports=function(P){if(typeof P!="function")throw new TypeError(P+" is not a function");return P}},89273:(M,P,m)=>{"use strict";var S=m(42095);M.exports=function(E){if(!S(E))throw new TypeError("Cannot use null or undefined");return E}},19921:(M,P,m)=>{"use strict";var S=m(89273),E=m(33809);M.exports=function(I){return E(S(I))}},33809:(M,P,m)=>{"use strict";var S=m(75860);M.exports=function(E){try{return E&&S(E.toString)?E.toString():String(E)}catch{throw new TypeError("Passed argument cannot be stringifed")}}},50602:(M,P,m)=>{"use strict";var S=m(75860);M.exports=function(E){try{return E&&S(E.toString)?E.toString():String(E)}catch{return"<Non-coercible to string value>"}}},26781:(M,P,m)=>{"use strict";M.exports=m(66532)()?String.prototype.contains:m(78744)},66532:M=>{"use strict";var P="razdwatrzy";M.exports=function(){return typeof P.contains!="function"?!1:P.contains("dwa")===!0&&P.contains("foo")===!1}},78744:M=>{"use strict";var P=String.prototype.indexOf;M.exports=function(m){return P.call(this,m,arguments[1])>-1}},88479:M=>{"use strict";var P=Object.prototype.toString,m=P.call("");M.exports=function(S){return typeof S=="string"||S&&typeof S=="object"&&(S instanceof String||P.call(S)===m)||!1}},31389:(M,P,m)=>{"use strict";var S=m(50602),E=/[\n\r\u2028\u2029]/g;M.exports=function(I){var O=S(I);return O.length>100&&(O=O.slice(0,99)+"\u2026"),O=O.replace(E,function(D){return JSON.stringify(D).slice(1,-1)}),O}},36176:(M,P,m)=>{"use strict";M.exports=m(94535)()?m(45567).Symbol:m(82625)},94535:(M,P,m)=>{"use strict";var S=m(45567),E={object:!0,symbol:!0};M.exports=function(){var I=S.Symbol,O;if(typeof I!="function")return!1;O=I("test symbol");try{String(O)}catch{return!1}return!(!E[typeof I.iterator]||!E[typeof I.toPrimitive]||!E[typeof I.toStringTag])}},89179:M=>{"use strict";M.exports=function(P){return P?typeof P=="symbol"?!0:!P.constructor||P.constructor.name!=="Symbol"?!1:P[P.constructor.toStringTag]==="Symbol":!1}},5577:(M,P,m)=>{"use strict";var S=m(19757),E=Object.create,I=Object.defineProperty,O=Object.prototype,D=E(null);M.exports=function(N){for(var R=0,T,U;D[N+(R||"")];)++R;return N+=R||"",D[N]=!0,T="@@"+N,I(O,T,S.gs(null,function(H){U||(U=!0,I(this,T,S(H)),U=!1)})),T}},49449:(M,P,m)=>{"use strict";var S=m(19757),E=m(45567).Symbol;M.exports=function(I){return Object.defineProperties(I,{hasInstance:S("",E&&E.hasInstance||I("hasInstance")),isConcatSpreadable:S("",E&&E.isConcatSpreadable||I("isConcatSpreadable")),iterator:S("",E&&E.iterator||I("iterator")),match:S("",E&&E.match||I("match")),replace:S("",E&&E.replace||I("replace")),search:S("",E&&E.search||I("search")),species:S("",E&&E.species||I("species")),split:S("",E&&E.split||I("split")),toPrimitive:S("",E&&E.toPrimitive||I("toPrimitive")),toStringTag:S("",E&&E.toStringTag||I("toStringTag")),unscopables:S("",E&&E.unscopables||I("unscopables"))})}},68826:(M,P,m)=>{"use strict";var S=m(19757),E=m(67973),I=Object.create(null);M.exports=function(O){return Object.defineProperties(O,{for:S(function(D){return I[D]?I[D]:I[D]=O(String(D))}),keyFor:S(function(D){var N;E(D);for(N in I)if(I[N]===D)return N})})}},82625:(M,P,m)=>{"use strict";var S=m(19757),E=m(67973),I=m(45567).Symbol,O=m(5577),D=m(49449),N=m(68826),R=Object.create,T=Object.defineProperties,U=Object.defineProperty,H,G,Q;if(typeof I=="function")try{String(I()),Q=!0}catch{}else I=null;G=function(V){if(this instanceof G)throw new TypeError("Symbol is not a constructor");return H(V)},M.exports=H=function X(V){var se;if(this instanceof X)throw new TypeError("Symbol is not a constructor");return Q?I(V):(se=R(G.prototype),V=V===void 0?"":String(V),T(se,{__description__:S("",V),__name__:S("",O(V))}))},D(H),N(H),T(G.prototype,{constructor:S(H),toString:S("",function(){return this.__name__})}),T(H.prototype,{toString:S(function(){return"Symbol ("+E(this).__description__+")"}),valueOf:S(function(){return E(this)})}),U(H.prototype,H.toPrimitive,S("",function(){var X=E(this);return typeof X=="symbol"?X:X.toString()})),U(H.prototype,H.toStringTag,S("c","Symbol")),U(G.prototype,H.toStringTag,S("c",H.prototype[H.toStringTag])),U(G.prototype,H.toPrimitive,S("c",H.prototype[H.toPrimitive]))},67973:(M,P,m)=>{"use strict";var S=m(89179);M.exports=function(E){if(!S(E))throw new TypeError(E+" is not a symbol");return E}},50514:(M,P,m)=>{"use strict";var S=m(19757),E=m(11166),I=Function.prototype.apply,O=Function.prototype.call,D=Object.create,N=Object.defineProperty,R=Object.defineProperties,T=Object.prototype.hasOwnProperty,U={configurable:!0,enumerable:!1,writable:!0},H,G,Q,X,V,se,ue;H=function(ae,te){var re;return E(te),T.call(this,"__ee__")?re=this.__ee__:(re=U.value=D(null),N(this,"__ee__",U),U.value=null),re[ae]?typeof re[ae]=="object"?re[ae].push(te):re[ae]=[re[ae],te]:re[ae]=te,this},G=function(ae,te){var re,ye;return E(te),ye=this,H.call(this,ae,re=function(){Q.call(ye,ae,re),I.call(te,this,arguments)}),re.__eeOnceListener__=te,this},Q=function(ae,te){var re,ye,Ce,he;if(E(te),!T.call(this,"__ee__"))return this;if(re=this.__ee__,!re[ae])return this;if(ye=re[ae],typeof ye=="object")for(he=0;Ce=ye[he];++he)(Ce===te||Ce.__eeOnceListener__===te)&&(ye.length===2?re[ae]=ye[he?0:1]:ye.splice(he,1));else(ye===te||ye.__eeOnceListener__===te)&&delete re[ae];return this},X=function(ae){var te,re,ye,Ce,he;if(T.call(this,"__ee__")&&(Ce=this.__ee__[ae],!!Ce))if(typeof Ce=="object"){for(re=arguments.length,he=new Array(re-1),te=1;te<re;++te)he[te-1]=arguments[te];for(Ce=Ce.slice(),te=0;ye=Ce[te];++te)I.call(ye,this,he)}else switch(arguments.length){case 1:O.call(Ce,this);break;case 2:O.call(Ce,this,arguments[1]);break;case 3:O.call(Ce,this,arguments[1],arguments[2]);break;default:for(re=arguments.length,he=new Array(re-1),te=1;te<re;++te)he[te-1]=arguments[te];I.call(Ce,this,he)}},V={on:H,once:G,off:Q,emit:X},se={on:S(H),once:S(G),off:S(Q),emit:S(X)},ue=R({},se),M.exports=P=function(ae){return ae==null?D(ue):R(Object(ae),se)},P.methods=V},81553:M=>{var P=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};M.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return P()}try{return __global__||P()}finally{delete Object.prototype.__global__}}()},45567:(M,P,m)=>{"use strict";M.exports=m(73542)()?globalThis:m(81553)},73542:M=>{"use strict";M.exports=function(){return typeof globalThis!="object"||!globalThis?!1:globalThis.Array===Array}},69992:M=>{"use strict";var P="Function.prototype.bind called on incompatible ",m=Object.prototype.toString,S=Math.max,E="[object Function]",I=function(R,T){for(var U=[],H=0;H<R.length;H+=1)U[H]=R[H];for(var G=0;G<T.length;G+=1)U[G+R.length]=T[G];return U},O=function(R,T){for(var U=[],H=T||0,G=0;H<R.length;H+=1,G+=1)U[G]=R[H];return U},D=function(N,R){for(var T="",U=0;U<N.length;U+=1)T+=N[U],U+1<N.length&&(T+=R);return T};M.exports=function(R){var T=this;if(typeof T!="function"||m.apply(T)!==E)throw new TypeError(P+T);for(var U=O(arguments,1),H,G=function(){if(this instanceof H){var ue=T.apply(this,I(U,arguments));return Object(ue)===ue?ue:this}return T.apply(R,I(U,arguments))},Q=S(0,T.length-U.length),X=[],V=0;V<Q;V++)X[V]="$"+V;if(H=Function("binder","return function ("+D(X,",")+"){ return binder.apply(this,arguments); }")(G),T.prototype){var se=function(){};se.prototype=T.prototype,H.prototype=new se,se.prototype=null}return H}},79524:(M,P,m)=>{"use strict";var S=m(69992);M.exports=Function.prototype.bind||S},49336:(M,P,m)=>{"use strict";var S,E=m(25153),I=m(41488),O=m(38004),D=m(96469),N=m(12557),R=m(63429),T=m(71102),U=m(85966),H=m(77412),G=m(52418),Q=m(57958),X=m(47384),V=m(250),se=m(51844),ue=m(47279),ae=Function,te=function(un){try{return ae('"use strict"; return ('+un+").constructor;")()}catch{}},re=m(25667),ye=m(39886),Ce=function(){throw new T},he=re?function(){try{return arguments.callee,Ce}catch{try{return re(arguments,"callee").get}catch{return Ce}}}():Ce,We=m(21514)(),ze=m(14252),Le=m(23752),de=m(60248),ve=m(64811),Pe=m(46255),Re={},ke=typeof Uint8Array>"u"||!ze?S:ze(Uint8Array),we={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?S:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?S:ArrayBuffer,"%ArrayIteratorPrototype%":We&&ze?ze([][Symbol.iterator]()):S,"%AsyncFromSyncIteratorPrototype%":S,"%AsyncFunction%":Re,"%AsyncGenerator%":Re,"%AsyncGeneratorFunction%":Re,"%AsyncIteratorPrototype%":Re,"%Atomics%":typeof Atomics>"u"?S:Atomics,"%BigInt%":typeof BigInt>"u"?S:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?S:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?S:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?S:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":I,"%eval%":eval,"%EvalError%":O,"%Float16Array%":typeof Float16Array>"u"?S:Float16Array,"%Float32Array%":typeof Float32Array>"u"?S:Float32Array,"%Float64Array%":typeof Float64Array>"u"?S:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?S:FinalizationRegistry,"%Function%":ae,"%GeneratorFunction%":Re,"%Int8Array%":typeof Int8Array>"u"?S:Int8Array,"%Int16Array%":typeof Int16Array>"u"?S:Int16Array,"%Int32Array%":typeof Int32Array>"u"?S:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":We&&ze?ze(ze([][Symbol.iterator]())):S,"%JSON%":typeof JSON=="object"?JSON:S,"%Map%":typeof Map>"u"?S:Map,"%MapIteratorPrototype%":typeof Map>"u"||!We||!ze?S:ze(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":E,"%Object.getOwnPropertyDescriptor%":re,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?S:Promise,"%Proxy%":typeof Proxy>"u"?S:Proxy,"%RangeError%":D,"%ReferenceError%":N,"%Reflect%":typeof Reflect>"u"?S:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?S:Set,"%SetIteratorPrototype%":typeof Set>"u"||!We||!ze?S:ze(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?S:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":We&&ze?ze(""[Symbol.iterator]()):S,"%Symbol%":We?Symbol:S,"%SyntaxError%":R,"%ThrowTypeError%":he,"%TypedArray%":ke,"%TypeError%":T,"%Uint8Array%":typeof Uint8Array>"u"?S:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?S:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?S:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?S:Uint32Array,"%URIError%":U,"%WeakMap%":typeof WeakMap>"u"?S:WeakMap,"%WeakRef%":typeof WeakRef>"u"?S:WeakRef,"%WeakSet%":typeof WeakSet>"u"?S:WeakSet,"%Function.prototype.call%":Pe,"%Function.prototype.apply%":ve,"%Object.defineProperty%":ye,"%Object.getPrototypeOf%":Le,"%Math.abs%":H,"%Math.floor%":G,"%Math.max%":Q,"%Math.min%":X,"%Math.pow%":V,"%Math.round%":se,"%Math.sign%":ue,"%Reflect.getPrototypeOf%":de};if(ze)try{null.error}catch(un){var Ae=ze(ze(un));we["%Error.prototype%"]=Ae}var De=function un(Tt){var Gt;if(Tt==="%AsyncFunction%")Gt=te("async function () {}");else if(Tt==="%GeneratorFunction%")Gt=te("function* () {}");else if(Tt==="%AsyncGeneratorFunction%")Gt=te("async function* () {}");else if(Tt==="%AsyncGenerator%"){var kt=un("%AsyncGeneratorFunction%");kt&&(Gt=kt.prototype)}else if(Tt==="%AsyncIteratorPrototype%"){var Pt=un("%AsyncGenerator%");Pt&&ze&&(Gt=ze(Pt.prototype))}return we[Tt]=Gt,Gt},Ze={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},$e=m(79524),qe=m(75630),Et=$e.call(Pe,Array.prototype.concat),At=$e.call(ve,Array.prototype.splice),Wt=$e.call(Pe,String.prototype.replace),$r=$e.call(Pe,String.prototype.slice),Ws=$e.call(Pe,RegExp.prototype.exec),Gs=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,$n=/\\(\\)?/g,mr=function(Tt){var Gt=$r(Tt,0,1),kt=$r(Tt,-1);if(Gt==="%"&&kt!=="%")throw new R("invalid intrinsic syntax, expected closing `%`");if(kt==="%"&&Gt!=="%")throw new R("invalid intrinsic syntax, expected opening `%`");var Pt=[];return Wt(Tt,Gs,function(mt,yr,nn,br){Pt[Pt.length]=nn?Wt(br,$n,"$1"):yr||mt}),Pt},Un=function(Tt,Gt){var kt=Tt,Pt;if(qe(Ze,kt)&&(Pt=Ze[kt],kt="%"+Pt[0]+"%"),qe(we,kt)){var mt=we[kt];if(mt===Re&&(mt=De(kt)),typeof mt>"u"&&!Gt)throw new T("intrinsic "+Tt+" exists, but is not available. Please file an issue!");return{alias:Pt,name:kt,value:mt}}throw new R("intrinsic "+Tt+" does not exist!")};M.exports=function(Tt,Gt){if(typeof Tt!="string"||Tt.length===0)throw new T("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Gt!="boolean")throw new T('"allowMissing" argument must be a boolean');if(Ws(/^%?[^%]*%?$/,Tt)===null)throw new R("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var kt=mr(Tt),Pt=kt.length>0?kt[0]:"",mt=Un("%"+Pt+"%",Gt),yr=mt.name,nn=mt.value,br=!1,ms=mt.alias;ms&&(Pt=ms[0],At(kt,Et([0,1],ms)));for(var Wn=1,Mn=!0;Wn<kt.length;Wn+=1){var ln=kt[Wn],rn=$r(ln,0,1),sr=$r(ln,-1);if((rn==='"'||rn==="'"||rn==="`"||sr==='"'||sr==="'"||sr==="`")&&rn!==sr)throw new R("property names with quotes must have matching quotes");if((ln==="constructor"||!Mn)&&(br=!0),Pt+="."+ln,yr="%"+Pt+"%",qe(we,yr))nn=we[yr];else if(nn!=null){if(!(ln in nn)){if(!Gt)throw new T("base intrinsic for "+Tt+" exists, but the property is not available.");return}if(re&&Wn+1>=kt.length){var Ur=re(nn,ln);Mn=!!Ur,Mn&&"get"in Ur&&!("originalValue"in Ur.get)?nn=Ur.get:nn=nn[ln]}else Mn=qe(nn,ln),nn=nn[ln];Mn&&!br&&(we[yr]=nn)}}return nn}},23752:(M,P,m)=>{"use strict";var S=m(25153);M.exports=S.getPrototypeOf||null},60248:M=>{"use strict";M.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null},14252:(M,P,m)=>{"use strict";var S=m(60248),E=m(23752),I=m(57678);M.exports=S?function(D){return S(D)}:E?function(D){if(!D||typeof D!="object"&&typeof D!="function")throw new TypeError("getProto: not an object");return E(D)}:I?function(D){return I(D)}:null},51333:M=>{"use strict";M.exports=Object.getOwnPropertyDescriptor},25667:(M,P,m)=>{"use strict";var S=m(51333);if(S)try{S([],"length")}catch{S=null}M.exports=S},491:(M,P,m)=>{"use strict";var S=m(39886),E=function(){return!!S};E.hasArrayLengthDefineBug=function(){if(!S)return null;try{return S([],"length",{value:1}).length!==1}catch{return!0}},M.exports=E},21514:(M,P,m)=>{"use strict";var S=typeof Symbol<"u"&&Symbol,E=m(9712);M.exports=function(){return typeof S!="function"||typeof Symbol!="function"||typeof S("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:E()}},9712:M=>{"use strict";M.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var m={},S=Symbol("test"),E=Object(S);if(typeof S=="string"||Object.prototype.toString.call(S)!=="[object Symbol]"||Object.prototype.toString.call(E)!=="[object Symbol]")return!1;var I=42;m[S]=I;for(var O in m)return!1;if(typeof Object.keys=="function"&&Object.keys(m).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(m).length!==0)return!1;var D=Object.getOwnPropertySymbols(m);if(D.length!==1||D[0]!==S||!Object.prototype.propertyIsEnumerable.call(m,S))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var N=Object.getOwnPropertyDescriptor(m,S);if(N.value!==I||N.enumerable!==!0)return!1}return!0}},75630:(M,P,m)=>{"use strict";var S=Function.prototype.call,E=Object.prototype.hasOwnProperty,I=m(79524);M.exports=I.call(S,E)},40947:(M,P)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */P.read=function(m,S,E,I,O){var D,N,R=O*8-I-1,T=(1<<R)-1,U=T>>1,H=-7,G=E?O-1:0,Q=E?-1:1,X=m[S+G];for(G+=Q,D=X&(1<<-H)-1,X>>=-H,H+=R;H>0;D=D*256+m[S+G],G+=Q,H-=8);for(N=D&(1<<-H)-1,D>>=-H,H+=I;H>0;N=N*256+m[S+G],G+=Q,H-=8);if(D===0)D=1-U;else{if(D===T)return N?NaN:(X?-1:1)*(1/0);N=N+Math.pow(2,I),D=D-U}return(X?-1:1)*N*Math.pow(2,D-I)},P.write=function(m,S,E,I,O,D){var N,R,T,U=D*8-O-1,H=(1<<U)-1,G=H>>1,Q=O===23?Math.pow(2,-24)-Math.pow(2,-77):0,X=I?0:D-1,V=I?1:-1,se=S<0||S===0&&1/S<0?1:0;for(S=Math.abs(S),isNaN(S)||S===1/0?(R=isNaN(S)?1:0,N=H):(N=Math.floor(Math.log(S)/Math.LN2),S*(T=Math.pow(2,-N))<1&&(N--,T*=2),N+G>=1?S+=Q/T:S+=Q*Math.pow(2,1-G),S*T>=2&&(N++,T/=2),N+G>=H?(R=0,N=H):N+G>=1?(R=(S*T-1)*Math.pow(2,O),N=N+G):(R=S*Math.pow(2,G-1)*Math.pow(2,O),N=0));O>=8;m[E+X]=R&255,X+=V,R/=256,O-=8);for(N=N<<O|R,U+=O;U>0;m[E+X]=N&255,X+=V,N/=256,U-=8);m[E+X-V]|=se*128}},15480:M=>{M.exports=P,M.exports.default=P;function P(m){return!!m&&(typeof m=="object"||typeof m=="function")&&typeof m.then=="function"}},16111:M=>{var P={}.toString;M.exports=Array.isArray||function(m){return P.call(m)=="[object Array]"}},29969:(M,P,m)=>{m(71428),M.exports=self.fetch.bind(self)},38376:(M,P,m)=>{"use strict";var S=(typeof JSON<"u"?JSON:m(60627)).stringify,E=m(16111),I=m(5187),O=m(17695),D=m(98801),N=D("Array.prototype.join"),R=D("Array.prototype.indexOf"),T=D("Array.prototype.splice"),U=D("Array.prototype.sort"),H=function(X,V){for(var se="",ue=0;ue<X;ue+=1)se+=V;return se},G=function(Q,X,V){return V};M.exports=function(X){var V=arguments.length>1?arguments[1]:void 0,se=V&&V.space||"";typeof se=="number"&&(se=H(se," "));var ue=!!V&&typeof V.cycles=="boolean"&&V.cycles,ae=V&&V.replacer?O(V.replacer):G;if(V&&typeof V.collapseEmpty<"u"&&typeof V.collapseEmpty!="boolean")throw new TypeError("`collapseEmpty` must be a boolean, if provided");var te=!!V&&V.collapseEmpty,re=typeof V=="function"?V:V&&V.cmp,ye=re&&function(he){var We=re.length>2&&function(Le){return he[Le]};return function(ze,Le){return re({key:ze,value:he[ze]},{key:Le,value:he[Le]},We?{__proto__:null,get:We}:void 0)}},Ce=[];return function he(We,ze,Le,de){var ve=se?`
`+H(de,se):"",Pe=se?": ":":";if(Le&&Le.toJSON&&typeof Le.toJSON=="function"&&(Le=Le.toJSON()),Le=ae(We,ze,Le),Le!==void 0){if(typeof Le!="object"||Le===null)return S(Le);var Re=function(qe,Et){return te&&qe.length===0?Et:(Et==="[]"?"[":"{")+N(qe,",")+ve+(Et==="[]"?"]":"}")};if(E(Le)){for(var De=[],ke=0;ke<Le.length;ke++){var we=he(Le,ke,Le[ke],de+1)||S(null);De[De.length]=ve+se+we}return Re(De,"[]")}if(R(Ce,Le)!==-1){if(ue)return S("__cycle__");throw new TypeError("Converting circular structure to JSON")}else Ce[Ce.length]=Le;for(var Ae=U(I(Le),ye&&ye(Le)),De=[],ke=0;ke<Ae.length;ke++){var ze=Ae[ke],Ze=he(Le,ze,Le[ze],de+1);if(Ze){var $e=S(ze)+Pe+Ze;De[De.length]=ve+se+$e}}return T(Ce,R(Ce,Le),1),Re(De,"{}")}}({"":X},"",X,0)}},60627:(M,P,m)=>{"use strict";P.parse=m(64268),P.stringify=m(43202)},64268:M=>{"use strict";var P,m,S={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},E;function I(Q){throw{name:"SyntaxError",message:Q,at:P,text:E}}function O(Q){return Q&&Q!==m&&I("Expected '"+Q+"' instead of '"+m+"'"),m=E.charAt(P),P+=1,m}function D(){var Q,X="";for(m==="-"&&(X="-",O("-"));m>="0"&&m<="9";)X+=m,O();if(m===".")for(X+=".";O()&&m>="0"&&m<="9";)X+=m;if(m==="e"||m==="E")for(X+=m,O(),(m==="-"||m==="+")&&(X+=m,O());m>="0"&&m<="9";)X+=m,O();return Q=Number(X),isFinite(Q)||I("Bad number"),Q}function N(){var Q,X,V="",se;if(m==='"')for(;O();){if(m==='"')return O(),V;if(m==="\\")if(O(),m==="u"){for(se=0,X=0;X<4&&(Q=parseInt(O(),16),!!isFinite(Q));X+=1)se=se*16+Q;V+=String.fromCharCode(se)}else if(typeof S[m]=="string")V+=S[m];else break;else V+=m}I("Bad string")}function R(){for(;m&&m<=" ";)O()}function T(){switch(m){case"t":return O("t"),O("r"),O("u"),O("e"),!0;case"f":return O("f"),O("a"),O("l"),O("s"),O("e"),!1;case"n":return O("n"),O("u"),O("l"),O("l"),null;default:I("Unexpected '"+m+"'")}}function U(){var Q=[];if(m==="["){if(O("["),R(),m==="]")return O("]"),Q;for(;m;){if(Q.push(G()),R(),m==="]")return O("]"),Q;O(","),R()}}I("Bad array")}function H(){var Q,X={};if(m==="{"){if(O("{"),R(),m==="}")return O("}"),X;for(;m;){if(Q=N(),R(),O(":"),Object.prototype.hasOwnProperty.call(X,Q)&&I('Duplicate key "'+Q+'"'),X[Q]=G(),R(),m==="}")return O("}"),X;O(","),R()}}I("Bad object")}function G(){switch(R(),m){case"{":return H();case"[":return U();case'"':return N();case"-":return D();default:return m>="0"&&m<="9"?D():T()}}M.exports=function(Q,X){var V;return E=Q,P=0,m=" ",V=G(),R(),m&&I("Syntax error"),typeof X=="function"?function se(ue,ae){var te,re,ye=ue[ae];if(ye&&typeof ye=="object")for(te in G)Object.prototype.hasOwnProperty.call(ye,te)&&(re=se(ye,te),typeof re>"u"?delete ye[te]:ye[te]=re);return X.call(ue,ae,ye)}({"":V},""):V}},43202:M=>{"use strict";var P=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,m,S,E={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},I;function O(N){return P.lastIndex=0,P.test(N)?'"'+N.replace(P,function(R){var T=E[R];return typeof T=="string"?T:"\\u"+("0000"+R.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+N+'"'}function D(N,R){var T,U,H,G,Q=m,X,V=R[N];switch(V&&typeof V=="object"&&typeof V.toJSON=="function"&&(V=V.toJSON(N)),typeof I=="function"&&(V=I.call(R,N,V)),typeof V){case"string":return O(V);case"number":return isFinite(V)?String(V):"null";case"boolean":case"null":return String(V);case"object":if(!V)return"null";if(m+=S,X=[],Object.prototype.toString.apply(V)==="[object Array]"){for(G=V.length,T=0;T<G;T+=1)X[T]=D(T,V)||"null";return H=X.length===0?"[]":m?`[
`+m+X.join(`,
`+m)+`
`+Q+"]":"["+X.join(",")+"]",m=Q,H}if(I&&typeof I=="object")for(G=I.length,T=0;T<G;T+=1)U=I[T],typeof U=="string"&&(H=D(U,V),H&&X.push(O(U)+(m?": ":":")+H));else for(U in V)Object.prototype.hasOwnProperty.call(V,U)&&(H=D(U,V),H&&X.push(O(U)+(m?": ":":")+H));return H=X.length===0?"{}":m?`{
`+m+X.join(`,
`+m)+`
`+Q+"}":"{"+X.join(",")+"}",m=Q,H;default:}}M.exports=function(N,R,T){var U;if(m="",S="",typeof T=="number")for(U=0;U<T;U+=1)S+=" ";else typeof T=="string"&&(S=T);if(I=R,R&&typeof R!="function"&&(typeof R!="object"||typeof R.length!="number"))throw new Error("JSON.stringify");return D("",{"":N})}},25705:(M,P,m)=>{"use strict";var S=m(48036),E=Object.create,I=Object.prototype.hasOwnProperty;M.exports=function(O){var D=0,N=1,R=E(null),T=E(null),U=0,H;return O=S(O),{hit:function(G){var Q=T[G],X=++U;if(R[X]=G,T[G]=X,!Q)return++D,D<=O?void 0:(G=R[N],H(G),G);if(delete R[Q],N===Q)for(;!I.call(R,++N););},delete:H=function(G){var Q=T[G];if(Q&&(delete R[Q],delete T[G],--D,N===Q)){if(!D){U=0,N=1;return}for(;!I.call(R,++N););}},clear:function(){D=0,N=1,R=E(null),T=E(null),U=0}}}},77412:M=>{"use strict";M.exports=Math.abs},52418:M=>{"use strict";M.exports=Math.floor},19313:M=>{"use strict";M.exports=Number.isNaN||function(m){return m!==m}},57958:M=>{"use strict";M.exports=Math.max},47384:M=>{"use strict";M.exports=Math.min},250:M=>{"use strict";M.exports=Math.pow},51844:M=>{"use strict";M.exports=Math.round},47279:(M,P,m)=>{"use strict";var S=m(19313);M.exports=function(I){return S(I)||I===0?I:I<0?-1:1}},99492:(M,P,m)=>{"use strict";var S=m(41386),E=m(1381),I=m(22982),O=m(5715),D=m(8988),N=Array.prototype.slice,R=Function.prototype.apply,T=Object.create;m(63321).async=function(U,H){var G=T(null),Q=T(null),X=H.memoized,V=H.original,se,ue,ae;H.memoized=O(function(te){var re=arguments,ye=re[re.length-1];return typeof ye=="function"&&(se=ye,re=N.call(re,0,-1)),X.apply(ue=this,ae=re)},X);try{I(H.memoized,X)}catch{}H.on("get",function(te){var re,ye,Ce;if(se){if(G[te]){typeof G[te]=="function"?G[te]=[G[te],se]:G[te].push(se),se=null;return}re=se,ye=ue,Ce=ae,se=ue=ae=null,D(function(){var he;hasOwnProperty.call(Q,te)?(he=Q[te],H.emit("getasync",te,Ce,ye),R.call(re,he.context,he.args)):(se=re,ue=ye,ae=Ce,X.apply(ye,Ce))})}}),H.original=function(){var te,re,ye,Ce;return se?(te=S(arguments),re=function he(We){var ze,Le,de=he.id;if(de==null){D(R.bind(he,this,arguments));return}if(delete he.id,ze=G[de],delete G[de],!!ze)return Le=S(arguments),H.has(de)&&(We?H.delete(de):(Q[de]={context:this,args:Le},H.emit("setasync",de,typeof ze=="function"?1:ze.length))),typeof ze=="function"?Ce=R.call(ze,this,Le):ze.forEach(function(ve){Ce=R.call(ve,this,Le)},this),Ce},ye=se,se=ue=ae=null,te.push(re),Ce=R.call(V,this,te),re.cb=ye,se=re,Ce):R.call(V,this,arguments)},H.on("set",function(te){if(!se){H.delete(te);return}G[te]?typeof G[te]=="function"?G[te]=[G[te],se.cb]:G[te].push(se.cb):G[te]=se.cb,delete se.cb,se.id=te,se=null}),H.on("delete",function(te){var re;hasOwnProperty.call(G,te)||Q[te]&&(re=Q[te],delete Q[te],H.emit("deleteasync",te,N.call(re.args,1)))}),H.on("clear",function(){var te=Q;Q=T(null),H.emit("clearasync",E(te,function(re){return N.call(re.args,1)}))})}},94105:(M,P,m)=>{"use strict";var S=m(11166),E=m(40676),I=m(63321),O=Function.prototype.apply;I.dispose=function(D,N,R){var T;if(S(D),R.async&&I.async||R.promise&&I.promise){N.on("deleteasync",T=function(U,H){O.call(D,null,H)}),N.on("clearasync",function(U){E(U,function(H,G){T(G,H)})});return}N.on("delete",T=function(U,H){D(H)}),N.on("clear",function(U){E(U,function(H,G){T(G,H)})})}},80892:(M,P,m)=>{"use strict";var S=m(41386),E=m(40676),I=m(8988),O=m(15480),D=m(43949),N=m(63321),R=Function.prototype,T=Math.max,U=Math.min,H=Object.create;N.maxAge=function(G,Q,X){var V,se,ue,ae;G=D(G),G&&(V=H(null),se=X.async&&N.async||X.promise&&N.promise?"async":"",Q.on("set"+se,function(te){V[te]=setTimeout(function(){Q.delete(te)},G),typeof V[te].unref=="function"&&V[te].unref(),ae&&(ae[te]&&ae[te]!=="nextTick"&&clearTimeout(ae[te]),ae[te]=setTimeout(function(){delete ae[te]},ue),typeof ae[te].unref=="function"&&ae[te].unref())}),Q.on("delete"+se,function(te){clearTimeout(V[te]),delete V[te],ae&&(ae[te]!=="nextTick"&&clearTimeout(ae[te]),delete ae[te])}),X.preFetch&&(X.preFetch===!0||isNaN(X.preFetch)?ue=.333:ue=T(U(Number(X.preFetch),1),0),ue&&(ae={},ue=(1-ue)*G,Q.on("get"+se,function(te,re,ye){ae[te]||(ae[te]="nextTick",I(function(){var Ce;ae[te]==="nextTick"&&(delete ae[te],Q.delete(te),X.async&&(re=S(re),re.push(R)),Ce=Q.memoized.apply(ye,re),X.promise&&O(Ce)&&(typeof Ce.done=="function"?Ce.done(R,R):Ce.then(R,R)))}))}))),Q.on("clear"+se,function(){E(V,function(te){clearTimeout(te)}),V={},ae&&(E(ae,function(te){te!=="nextTick"&&clearTimeout(te)}),ae={})}))}},80762:(M,P,m)=>{"use strict";var S=m(48036),E=m(25705),I=m(63321);I.max=function(O,D,N){var R,T,U;O=S(O),O&&(T=E(O),R=N.async&&I.async||N.promise&&I.promise?"async":"",D.on("set"+R,U=function(H){H=T.hit(H),H!==void 0&&D.delete(H)}),D.on("get"+R,U),D.on("delete"+R,T.delete),D.on("clear"+R,T.clear))}},48973:(M,P,m)=>{"use strict";var S=m(1381),E=m(90583),I=m(19921),O=m(31389),D=m(15480),N=m(8988),R=Object.create,T=E("then","then:finally","done","done:finally");m(63321).promise=function(U,H){var G=R(null),Q=R(null),X=R(null);if(U===!0)U=null;else if(U=I(U),!T[U])throw new TypeError("'"+O(U)+"' is not valid promise mode");H.on("set",function(V,se,ue){var ae=!1;if(!D(ue)){Q[V]=ue,H.emit("setasync",V,1);return}G[V]=1,X[V]=ue;var te=function(he){var We=G[V];if(ae)throw new Error(`Memoizee error: Detected unordered then|done & finally resolution, which in turn makes proper detection of success/failure impossible (when in 'done:finally' mode)
Consider to rely on 'then' or 'done' mode instead.`);We&&(delete G[V],Q[V]=he,H.emit("setasync",V,We))},re=function(){ae=!0,G[V]&&(delete G[V],delete X[V],H.delete(V))},ye=U;if(ye||(ye="then"),ye==="then"){var Ce=function(){N(re)};ue=ue.then(function(he){N(te.bind(this,he))},Ce),typeof ue.finally=="function"&&ue.finally(Ce)}else if(ye==="done"){if(typeof ue.done!="function")throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done' mode");ue.done(te,re)}else if(ye==="done:finally"){if(typeof ue.done!="function")throw new Error("Memoizee error: Retrieved promise does not implement 'done' in 'done:finally' mode");if(typeof ue.finally!="function")throw new Error("Memoizee error: Retrieved promise does not implement 'finally' in 'done:finally' mode");ue.done(te),ue.finally(re)}}),H.on("get",function(V,se,ue){var ae;if(G[V]){++G[V];return}ae=X[V];var te=function(){H.emit("getasync",V,se,ue)};D(ae)?typeof ae.done=="function"?ae.done(te):ae.then(function(){N(te)}):te()}),H.on("delete",function(V){if(delete X[V],G[V]){delete G[V];return}if(hasOwnProperty.call(Q,V)){var se=Q[V];delete Q[V],H.emit("deleteasync",V,[se])}}),H.on("clear",function(){var V=Q;Q=R(null),G=R(null),X=R(null),H.emit("clearasync",S(V,function(se){return[se]}))})}},69024:(M,P,m)=>{"use strict";var S=m(19757),E=m(63321),I=Object.create,O=Object.defineProperties;E.refCounter=function(D,N,R){var T,U;T=I(null),U=R.async&&E.async||R.promise&&E.promise?"async":"",N.on("set"+U,function(H,G){T[H]=G||1}),N.on("get"+U,function(H){++T[H]}),N.on("delete"+U,function(H){delete T[H]}),N.on("clear"+U,function(){T={}}),O(N.memoized,{deleteRef:S(function(){var H=N.get(arguments);return H===null||!T[H]?null:--T[H]?!1:(N.delete(H),!0)}),getRefCount:S(function(){var H=N.get(arguments);return H===null||!T[H]?0:T[H]})})}},21956:(M,P,m)=>{"use strict";var S=m(87303),E=m(2305),I=m(79976);M.exports=function(O){var D=S(arguments[1]),N;return D.normalizer||(N=D.length=E(D.length,O.length,D.async),N!==0&&(D.primitive?N===!1?D.normalizer=m(20090):N>1&&(D.normalizer=m(59848)(N)):N===!1?D.normalizer=m(51147)():N===1?D.normalizer=m(29041)():D.normalizer=m(64212)(N))),D.async&&m(99492),D.promise&&m(48973),D.dispose&&m(94105),D.maxAge&&m(80892),D.max&&m(80762),D.refCounter&&m(69024),I(O,D)}},27739:(M,P,m)=>{"use strict";var S=m(58563),E=m(5715),I=m(19757),O=m(50514).methods,D=m(86445),N=m(41226),R=Function.prototype.apply,T=Function.prototype.call,U=Object.create,H=Object.defineProperties,G=O.on,Q=O.emit;M.exports=function(X,V,se){var ue=U(null),ae,te,re,ye,Ce,he,We,ze,Le,de,ve,Pe,Re,ke,we;return V!==!1?te=V:isNaN(X.length)?te=1:te=X.length,se.normalizer&&(de=N(se.normalizer),re=de.get,ye=de.set,Ce=de.delete,he=de.clear),se.resolvers!=null&&(we=D(se.resolvers)),re?ke=E(function(Ae){var De,Ze,$e=arguments;if(we&&($e=we($e)),De=re($e),De!==null&&hasOwnProperty.call(ue,De))return ve&&ae.emit("get",De,$e,this),ue[De];if($e.length===1?Ze=T.call(X,this,$e[0]):Ze=R.call(X,this,$e),De===null){if(De=re($e),De!==null)throw S("Circular invocation","CIRCULAR_INVOCATION");De=ye($e)}else if(hasOwnProperty.call(ue,De))throw S("Circular invocation","CIRCULAR_INVOCATION");return ue[De]=Ze,Pe&&ae.emit("set",De,null,Ze),Ze},te):V===0?ke=function(){var Ae;if(hasOwnProperty.call(ue,"data"))return ve&&ae.emit("get","data",arguments,this),ue.data;if(arguments.length?Ae=R.call(X,this,arguments):Ae=T.call(X,this),hasOwnProperty.call(ue,"data"))throw S("Circular invocation","CIRCULAR_INVOCATION");return ue.data=Ae,Pe&&ae.emit("set","data",null,Ae),Ae}:ke=function(Ae){var De,Ze=arguments,$e;if(we&&(Ze=we(arguments)),$e=String(Ze[0]),hasOwnProperty.call(ue,$e))return ve&&ae.emit("get",$e,Ze,this),ue[$e];if(Ze.length===1?De=T.call(X,this,Ze[0]):De=R.call(X,this,Ze),hasOwnProperty.call(ue,$e))throw S("Circular invocation","CIRCULAR_INVOCATION");return ue[$e]=De,Pe&&ae.emit("set",$e,null,De),De},ae={original:X,memoized:ke,profileName:se.profileName,get:function(Ae){return we&&(Ae=we(Ae)),re?re(Ae):String(Ae[0])},has:function(Ae){return hasOwnProperty.call(ue,Ae)},delete:function(Ae){var De;hasOwnProperty.call(ue,Ae)&&(Ce&&Ce(Ae),De=ue[Ae],delete ue[Ae],Re&&ae.emit("delete",Ae,De))},clear:function(){var Ae=ue;he&&he(),ue=U(null),ae.emit("clear",Ae)},on:function(Ae,De){return Ae==="get"?ve=!0:Ae==="set"?Pe=!0:Ae==="delete"&&(Re=!0),G.call(this,Ae,De)},emit:Q,updateEnv:function(){X=ae.original}},re?We=E(function(Ae){var De,Ze=arguments;we&&(Ze=we(Ze)),De=re(Ze),De!==null&&ae.delete(De)},te):V===0?We=function(){return ae.delete("data")}:We=function(Ae){return we&&(Ae=we(arguments)[0]),ae.delete(Ae)},ze=E(function(){var Ae,De=arguments;return V===0?ue.data:(we&&(De=we(De)),re?Ae=re(De):Ae=String(De[0]),ue[Ae])}),Le=E(function(){var Ae,De=arguments;return V===0?ae.has("data"):(we&&(De=we(De)),re?Ae=re(De):Ae=String(De[0]),Ae===null?!1:ae.has(Ae))}),H(ke,{__memoized__:I(!0),delete:I(We),clear:I(ae.clear),_get:I(ze),_has:I(Le)}),ae}},63321:()=>{"use strict"},2305:(M,P,m)=>{"use strict";var S=m(48036);M.exports=function(E,I,O){var D;return isNaN(E)?(D=I,D>=0?O&&D?D-1:D:1):E===!1?!1:S(E)}},41226:(M,P,m)=>{"use strict";var S=m(11166);M.exports=function(E){var I;return typeof E=="function"?{set:E,get:E}:(I={get:S(E.get)},E.set!==void 0?(I.set=S(E.set),E.delete&&(I.delete=S(E.delete)),E.clear&&(I.clear=S(E.clear)),I):(I.set=I.get,I))}},86445:(M,P,m)=>{"use strict";var S=m(78948),E=m(42095),I=m(11166),O=Array.prototype.slice,D;D=function(N){return this.map(function(R,T){return R?R(N[T]):N[T]}).concat(O.call(N,this.length))},M.exports=function(N){return N=S(N),N.forEach(function(R){E(R)&&I(R)}),D.bind(N)}},29041:(M,P,m)=>{"use strict";var S=m(69759);M.exports=function(){var E=0,I=[],O=[];return{get:function(D){var N=S.call(I,D[0]);return N===-1?null:O[N]},set:function(D){return I.push(D[0]),O.push(++E),E},delete:function(D){var N=S.call(O,D);N!==-1&&(I.splice(N,1),O.splice(N,1))},clear:function(){I=[],O=[]}}}},64212:(M,P,m)=>{"use strict";var S=m(69759),E=Object.create;M.exports=function(I){var O=0,D=[[],[]],N=E(null);return{get:function(R){for(var T=0,U=D,H;T<I-1;){if(H=S.call(U[0],R[T]),H===-1)return null;U=U[1][H],++T}return H=S.call(U[0],R[T]),H===-1?null:U[1][H]||null},set:function(R){for(var T=0,U=D,H;T<I-1;)H=S.call(U[0],R[T]),H===-1&&(H=U[0].push(R[T])-1,U[1].push([[],[]])),U=U[1][H],++T;return H=S.call(U[0],R[T]),H===-1&&(H=U[0].push(R[T])-1),U[1][H]=++O,N[O]=R,O},delete:function(R){for(var T=0,U=D,H,G=[],Q=N[R];T<I-1;){if(H=S.call(U[0],Q[T]),H===-1)return;G.push(U,H),U=U[1][H],++T}if(H=S.call(U[0],Q[T]),H!==-1){for(R=U[1][H],U[0].splice(H,1),U[1].splice(H,1);!U[0].length&&G.length;)H=G.pop(),U=G.pop(),U[0].splice(H,1),U[1].splice(H,1);delete N[R]}},clear:function(){D=[[],[]],N=E(null)}}}},59848:M=>{"use strict";M.exports=function(P){return P?function(m){for(var S=String(m[0]),E=0,I=P;--I;)S+=""+m[++E];return S}:function(){return""}}},51147:(M,P,m)=>{"use strict";var S=m(69759),E=Object.create;M.exports=function(){var I=0,O=[],D=E(null);return{get:function(N){var R=0,T=O,U,H=N.length;if(H===0)return T[H]||null;if(T=T[H]){for(;R<H-1;){if(U=S.call(T[0],N[R]),U===-1)return null;T=T[1][U],++R}return U=S.call(T[0],N[R]),U===-1?null:T[1][U]||null}return null},set:function(N){var R=0,T=O,U,H=N.length;if(H===0)T[H]=++I;else{for(T[H]||(T[H]=[[],[]]),T=T[H];R<H-1;)U=S.call(T[0],N[R]),U===-1&&(U=T[0].push(N[R])-1,T[1].push([[],[]])),T=T[1][U],++R;U=S.call(T[0],N[R]),U===-1&&(U=T[0].push(N[R])-1),T[1][U]=++I}return D[I]=N,I},delete:function(N){var R=0,T=O,U,H=D[N],G=H.length,Q=[];if(G===0)delete T[G];else if(T=T[G]){for(;R<G-1;){if(U=S.call(T[0],H[R]),U===-1)return;Q.push(T,U),T=T[1][U],++R}if(U=S.call(T[0],H[R]),U===-1)return;for(N=T[1][U],T[0].splice(U,1),T[1].splice(U,1);!T[0].length&&Q.length;)U=Q.pop(),T=Q.pop(),T[0].splice(U,1),T[1].splice(U,1)}delete D[N]},clear:function(){O=[],D=E(null)}}}},20090:M=>{"use strict";M.exports=function(P){var m,S,E=P.length;if(!E)return"";for(m=String(P[S=0]);--E;)m+=""+P[++S];return m}},79976:(M,P,m)=>{"use strict";var S=m(11166),E=m(40676),I=m(63321),O=m(27739),D=m(2305);M.exports=function N(R){var T,U,H;if(S(R),T=Object(arguments[1]),T.async&&T.promise)throw new Error("Options 'async' and 'promise' cannot be used together");return hasOwnProperty.call(R,"__memoized__")&&!T.force?R:(U=D(T.length,R.length,T.async&&I.async),H=O(R,U,T),E(I,function(G,Q){T[Q]&&G(T[Q],H,T)}),N.__profiler__&&N.__profiler__(H),H.updateEnv(),H.memoized)}},8988:M=>{"use strict";var P=function(S){if(typeof S!="function")throw new TypeError(S+" is not a function");return S},m=function(S){var E=document.createTextNode(""),I,O,D=0;return new S(function(){var N;if(I)O&&(I=O.concat(I));else{if(!O)return;I=O}if(O=I,I=null,typeof O=="function"){N=O,O=null,N();return}for(E.data=D=++D%2;O;)N=O.shift(),O.length||(O=null),N()}).observe(E,{characterData:!0}),function(N){if(P(N),I){typeof I=="function"?I=[I,N]:I.push(N);return}I=N,E.data=D=++D%2}};M.exports=function(){if(typeof process=="object"&&process&&typeof process.nextTick=="function")return process.nextTick;if(typeof queueMicrotask=="function")return function(S){queueMicrotask(P(S))};if(typeof document=="object"&&document){if(typeof MutationObserver=="function")return m(MutationObserver);if(typeof WebKitMutationObserver=="function")return m(WebKitMutationObserver)}return typeof setImmediate=="function"?function(S){setImmediate(P(S))}:typeof setTimeout=="function"||typeof setTimeout=="object"?function(S){setTimeout(P(S),0)}:null}()},25717:(M,P,m)=>{"use strict";var S;if(!Object.keys){var E=Object.prototype.hasOwnProperty,I=Object.prototype.toString,O=m(14635),D=Object.prototype.propertyIsEnumerable,N=!D.call({toString:null},"toString"),R=D.call(function(){},"prototype"),T=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],U=function(X){var V=X.constructor;return V&&V.prototype===X},H={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},G=function(){if(typeof window>"u")return!1;for(var X in window)try{if(!H["$"+X]&&E.call(window,X)&&window[X]!==null&&typeof window[X]=="object")try{U(window[X])}catch{return!0}}catch{return!0}return!1}(),Q=function(X){if(typeof window>"u"||!G)return U(X);try{return U(X)}catch{return!1}};S=function(V){var se=V!==null&&typeof V=="object",ue=I.call(V)==="[object Function]",ae=O(V),te=se&&I.call(V)==="[object String]",re=[];if(!se&&!ue&&!ae)throw new TypeError("Object.keys called on a non-object");var ye=R&&ue;if(te&&V.length>0&&!E.call(V,0))for(var Ce=0;Ce<V.length;++Ce)re.push(String(Ce));if(ae&&V.length>0)for(var he=0;he<V.length;++he)re.push(String(he));else for(var We in V)!(ye&&We==="prototype")&&E.call(V,We)&&re.push(String(We));if(N)for(var ze=Q(V),Le=0;Le<T.length;++Le)!(ze&&T[Le]==="constructor")&&E.call(V,T[Le])&&re.push(T[Le]);return re}}M.exports=S},5187:(M,P,m)=>{"use strict";var S=Array.prototype.slice,E=m(14635),I=Object.keys,O=I?function(R){return I(R)}:m(25717),D=Object.keys;O.shim=function(){if(Object.keys){var R=function(){var T=Object.keys(arguments);return T&&T.length===arguments.length}(1,2);R||(Object.keys=function(U){return E(U)?D(S.call(U)):D(U)})}else Object.keys=O;return Object.keys||O},M.exports=O},14635:M=>{"use strict";var P=Object.prototype.toString;M.exports=function(S){var E=P.call(S),I=E==="[object Arguments]";return I||(I=E!=="[object Array]"&&S!==null&&typeof S=="object"&&typeof S.length=="number"&&S.length>=0&&P.call(S.callee)==="[object Function]"),I}},7755:(M,P,m)=>{"use strict";var S=m(49336),E=m(20022),I=m(491)(),O=m(25667),D=m(71102),N=S("%Math.floor%");M.exports=function(T,U){if(typeof T!="function")throw new D("`fn` is not a function");if(typeof U!="number"||U<0||U>4294967295||N(U)!==U)throw new D("`length` must be a positive 32-bit integer");var H=arguments.length>2&&!!arguments[2],G=!0,Q=!0;if("length"in T&&O){var X=O(T,"length");X&&!X.configurable&&(G=!1),X&&!X.writable&&(Q=!1)}return(G||Q||!H)&&(I?E(T,"length",U,!0,!0):E(T,"length",U)),T}},31181:M=>{"use strict";M.exports=2147483647},43949:(M,P,m)=>{"use strict";var S=m(48036),E=m(31181);M.exports=function(I){if(I=S(I),I>E)throw new TypeError(I+" exceeds maximum possible timeout");return I}},51383:(M,P,m)=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.chromeLink=void 0;const S=m(62958),E=I=>(0,S.createBaseLink)({postMessage(O){I.port.postMessage(O)},addMessageListener(O){I.port.onMessage.addListener(O)},removeMessageListener(O){I.port.onMessage.removeListener(O)},addCloseListener(O){I.port.onDisconnect.addListener(O)},removeCloseListener(O){I.port.onDisconnect.removeListener(O)}});P.chromeLink=E},6201:function(M,P,m){"use strict";var S=this&&this.__createBinding||(Object.create?function(I,O,D,N){N===void 0&&(N=D);var R=Object.getOwnPropertyDescriptor(O,D);(!R||("get"in R?!O.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return O[D]}}),Object.defineProperty(I,N,R)}:function(I,O,D,N){N===void 0&&(N=D),I[N]=O[D]}),E=this&&this.__exportStar||function(I,O){for(var D in I)D!=="default"&&!Object.prototype.hasOwnProperty.call(O,D)&&S(O,I,D)};Object.defineProperty(P,"__esModule",{value:!0}),E(m(51383),P),E(m(40649),P),E(m(88059),P)},62958:(M,P,m)=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.createBaseLink=void 0;const S=m(83931),E=m(33067),I=m(95402),O=D=>N=>({op:R})=>(0,E.observable)(T=>{const U=[],{id:H,type:G,path:Q}=R;try{const X=N.transformer.serialize(R.input),V=()=>{T.error(new S.TRPCClientError("Port disconnected prematurely"))};D.addCloseListener(V),U.push(()=>D.removeCloseListener(V));const se=ue=>{if(!(0,I.isTRPCResponse)(ue))return;const{trpc:ae}=ue;if(H===ae.id){if("error"in ae)return T.error(S.TRPCClientError.from(ae));T.next({result:Object.assign(Object.assign({},ae.result),(!ae.result.type||ae.result.type==="data")&&{type:"data",data:N.transformer.deserialize(ae.result.data)})}),(G!=="subscription"||ae.result.type==="stopped")&&T.complete()}};D.addMessageListener(se),U.push(()=>D.removeMessageListener(se)),D.postMessage({trpc:{id:H,jsonrpc:void 0,method:G,params:{path:Q,input:X}}})}catch(X){T.error(new S.TRPCClientError(X instanceof Error?X.message:"Unknown error"))}return()=>{G==="subscription"&&D.postMessage({trpc:{id:H,jsonrpc:void 0,method:"subscription.stop"}}),U.forEach(X=>X())}});P.createBaseLink=O},88059:(M,P,m)=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.popupLink=void 0;const S=m(76913),E=m(62958),I=O=>{const D=new Map,N=new Set;let R=null;async function T(U){if(!R||R.closed){R=O.createPopup(),await Promise.race([new Promise(H=>{var G;try{(G=R?.addEventListener)===null||G===void 0||G.call(R,"load",H)}catch{}}),new Promise(H=>{U.addEventListener("message",G=>{G.data===S.TRPC_BROWSER_LOADED_EVENT&&H()})}),new Promise(H=>{console.warn("Could not detect if popup loading succeeded after 15s timeout, continuing anyway"),setTimeout(H,15e3)})]);try{if(!R.addEventListener)throw new Error("popupWindow.addEventListener is not a function");R.addEventListener("beforeunload",()=>{R=null})}catch{const G=setInterval(()=>{R&&R.closed&&(R=null,N.forEach(Q=>{Q()}),clearInterval(G))},1e3)}}return R}return(0,E.createBaseLink)({async postMessage(U){return(await T(O.listenWindow)).postMessage(U,{targetOrigin:O.postOrigin})},addMessageListener(U){const H=G=>{U(G.data)};D.set(U,H),O.listenWindow.addEventListener("message",H)},removeMessageListener(U){const H=D.get(U);H&&O.listenWindow.removeEventListener("message",H)},addCloseListener(U){O.listenWindow.addEventListener("beforeunload",U),N.add(U)},removeCloseListener(U){O.listenWindow.removeEventListener("beforeunload",U),N.delete(U)}})};P.popupLink=I},40649:(M,P,m)=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.windowLink=void 0;const S=m(62958),E=I=>{var O;const D=new Map,N=I.window,R=(O=I.postWindow)!==null&&O!==void 0?O:N;return(0,S.createBaseLink)({postMessage(T){R.postMessage(T,{targetOrigin:I.postOrigin})},addMessageListener(T){const U=H=>{T(H.data)};D.set(T,U),N.addEventListener("message",U)},removeMessageListener(T){const U=D.get(T);U&&N.removeEventListener("message",U)},addCloseListener(T){N.addEventListener("beforeunload",T)},removeCloseListener(T){N.removeEventListener("beforeunload",T)}})};P.windowLink=E},76913:(M,P)=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.TRPC_BROWSER_LOADED_EVENT=void 0,P.TRPC_BROWSER_LOADED_EVENT="TRPC_BROWSER::POPUP_LOADED"},95402:(M,P)=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.isTRPCRequestWithId=P.isTRPCRequest=P.isTRPCResponse=P.isTRPCMessage=void 0;function m(R){return typeof R=="object"&&R!==null&&!Array.isArray(R)}function S(R){return R==null}function E(R){return!!(m(R)&&"trpc"in R&&m(R.trpc))}P.isTRPCMessage=E;function I(R){return E(R)&&"id"in R.trpc&&!S(R.trpc.id)}function O(R){return I(R)&&("error"in R.trpc||"result"in R.trpc)}P.isTRPCResponse=O;function D(R){return I(R)&&"method"in R.trpc}P.isTRPCRequest=D;function N(R){return D(R)&&I(R)}P.isTRPCRequestWithId=N},28313:(M,P,m)=>{"use strict";var S=m(24921);M.exports=function(E){if(typeof E!="function"||!hasOwnProperty.call(E,"length"))return!1;try{if(typeof E.length!="number"||typeof E.call!="function"||typeof E.apply!="function")return!1}catch{return!1}return!S(E)}},41720:(M,P,m)=>{"use strict";var S=m(67016),E={object:!0,function:!0,undefined:!0};M.exports=function(I){return S(I)?hasOwnProperty.call(E,typeof I):!1}},19632:(M,P,m)=>{"use strict";var S=m(28313),E=/^\s*class[\s{/}]/,I=Function.prototype.toString;M.exports=function(O){return!(!S(O)||E.test(I.call(O)))}},24921:(M,P,m)=>{"use strict";var S=m(41720);M.exports=function(E){if(!S(E))return!1;try{return E.constructor?E.constructor.prototype===E:!1}catch{return!1}}},67016:M=>{"use strict";var P=void 0;M.exports=function(m){return m!==P&&m!==null}},62797:function(M,P,m){var S,E;(function(I,O,D){M.exports?M.exports=D():(S=D,E=typeof S=="function"?S.call(P,m,P,M):S,E!==void 0&&(M.exports=E))})("urljoin",this,function(){function I(O){var D=[];if(O.length===0)return"";if(typeof O[0]!="string")throw new TypeError("Url must be a string. Received "+O[0]);if(O[0].match(/^[^/:]+:\/*$/)&&O.length>1){var N=O.shift();O[0]=N+O[0]}O[0].match(/^file:\/\/\//)?O[0]=O[0].replace(/^([^/:]+):\/*/,"$1:///"):O[0]=O[0].replace(/^([^/:]+):\/*/,"$1://");for(var R=0;R<O.length;R++){var T=O[R];if(typeof T!="string")throw new TypeError("Url must be a string. Received "+T);T!==""&&(R>0&&(T=T.replace(/^[\/]+/,"")),R<O.length-1?T=T.replace(/[\/]+$/,""):T=T.replace(/[\/]+$/,"/"),D.push(T))}var U=D.join("/");U=U.replace(/\/(\?|&|#[^!])/g,"$1");var H=U.split("?");return U=H.shift()+(H.length>0?"?":"")+H.join("&"),U}return function(){var O;return typeof arguments[0]=="object"?O=arguments[0]:O=[].slice.call(arguments),I(O)}})},71428:(M,P,m)=>{"use strict";m.r(P),m.d(P,{DOMException:()=>ze,Headers:()=>U,Request:()=>re,Response:()=>he,fetch:()=>Le});var S=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof globalThis<"u"&&globalThis||{},E={searchParams:"URLSearchParams"in S,iterable:"Symbol"in S&&"iterator"in Symbol,blob:"FileReader"in S&&"Blob"in S&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in S,arrayBuffer:"ArrayBuffer"in S};function I(de){return de&&DataView.prototype.isPrototypeOf(de)}if(E.arrayBuffer)var O=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],D=ArrayBuffer.isView||function(de){return de&&O.indexOf(Object.prototype.toString.call(de))>-1};function N(de){if(typeof de!="string"&&(de=String(de)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(de)||de==="")throw new TypeError('Invalid character in header field name: "'+de+'"');return de.toLowerCase()}function R(de){return typeof de!="string"&&(de=String(de)),de}function T(de){var ve={next:function(){var Pe=de.shift();return{done:Pe===void 0,value:Pe}}};return E.iterable&&(ve[Symbol.iterator]=function(){return ve}),ve}function U(de){this.map={},de instanceof U?de.forEach(function(ve,Pe){this.append(Pe,ve)},this):Array.isArray(de)?de.forEach(function(ve){if(ve.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+ve.length);this.append(ve[0],ve[1])},this):de&&Object.getOwnPropertyNames(de).forEach(function(ve){this.append(ve,de[ve])},this)}U.prototype.append=function(de,ve){de=N(de),ve=R(ve);var Pe=this.map[de];this.map[de]=Pe?Pe+", "+ve:ve},U.prototype.delete=function(de){delete this.map[N(de)]},U.prototype.get=function(de){return de=N(de),this.has(de)?this.map[de]:null},U.prototype.has=function(de){return this.map.hasOwnProperty(N(de))},U.prototype.set=function(de,ve){this.map[N(de)]=R(ve)},U.prototype.forEach=function(de,ve){for(var Pe in this.map)this.map.hasOwnProperty(Pe)&&de.call(ve,this.map[Pe],Pe,this)},U.prototype.keys=function(){var de=[];return this.forEach(function(ve,Pe){de.push(Pe)}),T(de)},U.prototype.values=function(){var de=[];return this.forEach(function(ve){de.push(ve)}),T(de)},U.prototype.entries=function(){var de=[];return this.forEach(function(ve,Pe){de.push([Pe,ve])}),T(de)},E.iterable&&(U.prototype[Symbol.iterator]=U.prototype.entries);function H(de){if(!de._noBody){if(de.bodyUsed)return Promise.reject(new TypeError("Already read"));de.bodyUsed=!0}}function G(de){return new Promise(function(ve,Pe){de.onload=function(){ve(de.result)},de.onerror=function(){Pe(de.error)}})}function Q(de){var ve=new FileReader,Pe=G(ve);return ve.readAsArrayBuffer(de),Pe}function X(de){var ve=new FileReader,Pe=G(ve),Re=/charset=([A-Za-z0-9_-]+)/.exec(de.type),ke=Re?Re[1]:"utf-8";return ve.readAsText(de,ke),Pe}function V(de){for(var ve=new Uint8Array(de),Pe=new Array(ve.length),Re=0;Re<ve.length;Re++)Pe[Re]=String.fromCharCode(ve[Re]);return Pe.join("")}function se(de){if(de.slice)return de.slice(0);var ve=new Uint8Array(de.byteLength);return ve.set(new Uint8Array(de)),ve.buffer}function ue(){return this.bodyUsed=!1,this._initBody=function(de){this.bodyUsed=this.bodyUsed,this._bodyInit=de,de?typeof de=="string"?this._bodyText=de:E.blob&&Blob.prototype.isPrototypeOf(de)?this._bodyBlob=de:E.formData&&FormData.prototype.isPrototypeOf(de)?this._bodyFormData=de:E.searchParams&&URLSearchParams.prototype.isPrototypeOf(de)?this._bodyText=de.toString():E.arrayBuffer&&E.blob&&I(de)?(this._bodyArrayBuffer=se(de.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):E.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(de)||D(de))?this._bodyArrayBuffer=se(de):this._bodyText=de=Object.prototype.toString.call(de):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof de=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):E.searchParams&&URLSearchParams.prototype.isPrototypeOf(de)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},E.blob&&(this.blob=function(){var de=H(this);if(de)return de;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var de=H(this);return de||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(E.blob)return this.blob().then(Q);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var de=H(this);if(de)return de;if(this._bodyBlob)return X(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(V(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},E.formData&&(this.formData=function(){return this.text().then(ye)}),this.json=function(){return this.text().then(JSON.parse)},this}var ae=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function te(de){var ve=de.toUpperCase();return ae.indexOf(ve)>-1?ve:de}function re(de,ve){if(!(this instanceof re))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');ve=ve||{};var Pe=ve.body;if(de instanceof re){if(de.bodyUsed)throw new TypeError("Already read");this.url=de.url,this.credentials=de.credentials,ve.headers||(this.headers=new U(de.headers)),this.method=de.method,this.mode=de.mode,this.signal=de.signal,!Pe&&de._bodyInit!=null&&(Pe=de._bodyInit,de.bodyUsed=!0)}else this.url=String(de);if(this.credentials=ve.credentials||this.credentials||"same-origin",(ve.headers||!this.headers)&&(this.headers=new U(ve.headers)),this.method=te(ve.method||this.method||"GET"),this.mode=ve.mode||this.mode||null,this.signal=ve.signal||this.signal||function(){if("AbortController"in S){var we=new AbortController;return we.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Pe)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(Pe),(this.method==="GET"||this.method==="HEAD")&&(ve.cache==="no-store"||ve.cache==="no-cache")){var Re=/([?&])_=[^&]*/;if(Re.test(this.url))this.url=this.url.replace(Re,"$1_="+new Date().getTime());else{var ke=/\?/;this.url+=(ke.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}re.prototype.clone=function(){return new re(this,{body:this._bodyInit})};function ye(de){var ve=new FormData;return de.trim().split("&").forEach(function(Pe){if(Pe){var Re=Pe.split("="),ke=Re.shift().replace(/\+/g," "),we=Re.join("=").replace(/\+/g," ");ve.append(decodeURIComponent(ke),decodeURIComponent(we))}}),ve}function Ce(de){var ve=new U,Pe=de.replace(/\r?\n[\t ]+/g," ");return Pe.split("\r").map(function(Re){return Re.indexOf(`
`)===0?Re.substr(1,Re.length):Re}).forEach(function(Re){var ke=Re.split(":"),we=ke.shift().trim();if(we){var Ae=ke.join(":").trim();try{ve.append(we,Ae)}catch(De){console.warn("Response "+De.message)}}}),ve}ue.call(re.prototype);function he(de,ve){if(!(this instanceof he))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(ve||(ve={}),this.type="default",this.status=ve.status===void 0?200:ve.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=ve.statusText===void 0?"":""+ve.statusText,this.headers=new U(ve.headers),this.url=ve.url||"",this._initBody(de)}ue.call(he.prototype),he.prototype.clone=function(){return new he(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new U(this.headers),url:this.url})},he.error=function(){var de=new he(null,{status:200,statusText:""});return de.ok=!1,de.status=0,de.type="error",de};var We=[301,302,303,307,308];he.redirect=function(de,ve){if(We.indexOf(ve)===-1)throw new RangeError("Invalid status code");return new he(null,{status:ve,headers:{location:de}})};var ze=S.DOMException;try{new ze}catch{ze=function(ve,Pe){this.message=ve,this.name=Pe;var Re=Error(ve);this.stack=Re.stack},ze.prototype=Object.create(Error.prototype),ze.prototype.constructor=ze}function Le(de,ve){return new Promise(function(Pe,Re){var ke=new re(de,ve);if(ke.signal&&ke.signal.aborted)return Re(new ze("Aborted","AbortError"));var we=new XMLHttpRequest;function Ae(){we.abort()}we.onload=function(){var $e={statusText:we.statusText,headers:Ce(we.getAllResponseHeaders()||"")};ke.url.indexOf("file://")===0&&(we.status<200||we.status>599)?$e.status=200:$e.status=we.status,$e.url="responseURL"in we?we.responseURL:$e.headers.get("X-Request-URL");var qe="response"in we?we.response:we.responseText;setTimeout(function(){Pe(new he(qe,$e))},0)},we.onerror=function(){setTimeout(function(){Re(new TypeError("Network request failed"))},0)},we.ontimeout=function(){setTimeout(function(){Re(new TypeError("Network request timed out"))},0)},we.onabort=function(){setTimeout(function(){Re(new ze("Aborted","AbortError"))},0)};function De($e){try{return $e===""&&S.location.href?S.location.href:$e}catch{return $e}}if(we.open(ke.method,De(ke.url),!0),ke.credentials==="include"?we.withCredentials=!0:ke.credentials==="omit"&&(we.withCredentials=!1),"responseType"in we&&(E.blob?we.responseType="blob":E.arrayBuffer&&(we.responseType="arraybuffer")),ve&&typeof ve.headers=="object"&&!(ve.headers instanceof U||S.Headers&&ve.headers instanceof S.Headers)){var Ze=[];Object.getOwnPropertyNames(ve.headers).forEach(function($e){Ze.push(N($e)),we.setRequestHeader($e,R(ve.headers[$e]))}),ke.headers.forEach(function($e,qe){Ze.indexOf(qe)===-1&&we.setRequestHeader(qe,$e)})}else ke.headers.forEach(function($e,qe){we.setRequestHeader(qe,$e)});ke.signal&&(ke.signal.addEventListener("abort",Ae),we.onreadystatechange=function(){we.readyState===4&&ke.signal.removeEventListener("abort",Ae)}),we.send(typeof ke._bodyInit>"u"?null:ke._bodyInit)})}Le.polyfill=!0,S.fetch||(S.fetch=Le,S.Headers=U,S.Request=re,S.Response=he)},38236:(M,P,m)=>{"use strict";m.d(P,{DX:()=>S,Sc:()=>lg,X7:()=>fg,qd:()=>No});function S(u){return u=u||new Map,{all:u,on(p,A){const F=u.get(p);F?F.push(A):u.set(p,[A])},off(p,A){const F=u.get(p);F&&(A?F.splice(F.indexOf(A)>>>0,1):u.set(p,[]))},emit(p,A){let F=u?.get(p);F&&F.slice().map(W=>{W(A)}),F=u.get("*"),F&&F.slice().forEach(W=>{W(p,A)})}}}function E(u,p,A){function F(Ue,Ye){var Je;Object.defineProperty(Ue,"_zod",{value:Ue._zod??{},enumerable:!1}),(Je=Ue._zod).traits??(Je.traits=new Set),Ue._zod.traits.add(u),p(Ue,Ye);for(const Xe in Ee.prototype)Xe in Ue||Object.defineProperty(Ue,Xe,{value:Ee.prototype[Xe].bind(Ue)});Ue._zod.constr=Ee,Ue._zod.def=Ye}const W=A?.Parent??Object;class ce extends W{}Object.defineProperty(ce,"name",{value:u});function Ee(Ue){var Ye;const Je=A?.Parent?new ce:this;F(Je,Ue),(Ye=Je._zod).deferred??(Ye.deferred=[]);for(const Xe of Je._zod.deferred)Xe();return Je}return Object.defineProperty(Ee,"init",{value:F}),Object.defineProperty(Ee,Symbol.hasInstance,{value:Ue=>A?.Parent&&Ue instanceof A.Parent?!0:Ue?._zod?.traits?.has(u)}),Object.defineProperty(Ee,"name",{value:u}),Ee}class I extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const O={};function D(u){return O}function N(u){const p=Object.values(u).filter(A=>typeof A=="number");return Object.entries(u).filter(([A,F])=>p.indexOf(+A)===-1).map(([A,F])=>F)}function R(u,p){return typeof p=="bigint"?p.toString():p}function T(u){return{get value(){{const p=u();return Object.defineProperty(this,"value",{value:p}),p}}}}function U(u){return u==null}function H(u){const p=u.startsWith("^")?1:0,A=u.endsWith("$")?u.length-1:u.length;return u.slice(p,A)}function G(u,p){const A=(u.toString().split(".")[1]||"").length,F=(p.toString().split(".")[1]||"").length,W=A>F?A:F,ce=Number.parseInt(u.toFixed(W).replace(".","")),Ee=Number.parseInt(p.toFixed(W).replace(".",""));return ce%Ee/10**W}function Q(u,p,A){Object.defineProperty(u,p,{get(){{const F=A();return u[p]=F,F}},set(F){Object.defineProperty(u,p,{value:F})},configurable:!0})}function X(u,p,A){Object.defineProperty(u,p,{value:A,writable:!0,enumerable:!0,configurable:!0})}function V(u){return JSON.stringify(u)}const se=Error.captureStackTrace?Error.captureStackTrace:(...u)=>{};function ue(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)}const ae=T(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const u=Function;return new u(""),!0}catch{return!1}});function te(u){if(ue(u)===!1)return!1;const p=u.constructor;if(p===void 0)return!0;const A=p.prototype;return!(ue(A)===!1||Object.prototype.hasOwnProperty.call(A,"isPrototypeOf")===!1)}const re=new Set(["string","number","symbol"]);function ye(u){return u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ce(u,p,A){const F=new u._zod.constr(p??u._zod.def);return(!p||A?.parent)&&(F._zod.parent=u),F}function he(u){const p=u;if(!p)return{};if(typeof p=="string")return{error:()=>p};if(p?.message!==void 0){if(p?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");p.error=p.message}return delete p.message,typeof p.error=="string"?{...p,error:()=>p.error}:p}function We(u){return Object.keys(u).filter(p=>u[p]._zod.optin==="optional"&&u[p]._zod.optout==="optional")}const ze={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Le(u,p){const A={},F=u._zod.def;for(const W in p){if(!(W in F.shape))throw new Error(`Unrecognized key: "${W}"`);p[W]&&(A[W]=F.shape[W])}return Ce(u,{...u._zod.def,shape:A,checks:[]})}function de(u,p){const A={...u._zod.def.shape},F=u._zod.def;for(const W in p){if(!(W in F.shape))throw new Error(`Unrecognized key: "${W}"`);p[W]&&delete A[W]}return Ce(u,{...u._zod.def,shape:A,checks:[]})}function ve(u,p){if(!te(p))throw new Error("Invalid input to extend: expected a plain object");const A={...u._zod.def,get shape(){const F={...u._zod.def.shape,...p};return X(this,"shape",F),F},checks:[]};return Ce(u,A)}function Pe(u,p){return Ce(u,{...u._zod.def,get shape(){const A={...u._zod.def.shape,...p._zod.def.shape};return X(this,"shape",A),A},catchall:p._zod.def.catchall,checks:[]})}function Re(u,p,A){const F=p._zod.def.shape,W={...F};if(A)for(const ce in A){if(!(ce in F))throw new Error(`Unrecognized key: "${ce}"`);A[ce]&&(W[ce]=u?new u({type:"optional",innerType:F[ce]}):F[ce])}else for(const ce in F)W[ce]=u?new u({type:"optional",innerType:F[ce]}):F[ce];return Ce(p,{...p._zod.def,shape:W,checks:[]})}function ke(u,p,A){const F=p._zod.def.shape,W={...F};if(A)for(const ce in A){if(!(ce in W))throw new Error(`Unrecognized key: "${ce}"`);A[ce]&&(W[ce]=new u({type:"nonoptional",innerType:F[ce]}))}else for(const ce in F)W[ce]=new u({type:"nonoptional",innerType:F[ce]});return Ce(p,{...p._zod.def,shape:W,checks:[]})}function we(u,p=0){for(let A=p;A<u.issues.length;A++)if(u.issues[A]?.continue!==!0)return!0;return!1}function Ae(u,p){return p.map(A=>{var F;return(F=A).path??(F.path=[]),A.path.unshift(u),A})}function De(u){return typeof u=="string"?u:u?.message}function Ze(u,p,A){const F={...u,path:u.path??[]};if(!u.message){const W=De(u.inst?._zod.def?.error?.(u))??De(p?.error?.(u))??De(A.customError?.(u))??De(A.localeError?.(u))??"Invalid input";F.message=W}return delete F.inst,delete F.continue,p?.reportInput||delete F.input,F}function $e(u){return Array.isArray(u)?"array":typeof u=="string"?"string":"unknown"}function qe(...u){const[p,A,F]=u;return typeof p=="string"?{message:p,code:"custom",input:A,inst:F}:{...p}}const Et=(u,p)=>{u.name="$ZodError",Object.defineProperty(u,"_zod",{value:u._zod,enumerable:!1}),Object.defineProperty(u,"issues",{value:p,enumerable:!1}),Object.defineProperty(u,"message",{get(){return JSON.stringify(p,R,2)},enumerable:!0}),Object.defineProperty(u,"toString",{value:()=>u.message,enumerable:!1})},At=E("$ZodError",Et),Wt=E("$ZodError",Et,{Parent:Error});function $r(u,p=A=>A.message){const A={},F=[];for(const W of u.issues)W.path.length>0?(A[W.path[0]]=A[W.path[0]]||[],A[W.path[0]].push(p(W))):F.push(p(W));return{formErrors:F,fieldErrors:A}}function Ws(u,p){const A=p||function(ce){return ce.message},F={_errors:[]},W=ce=>{for(const Ee of ce.issues)if(Ee.code==="invalid_union"&&Ee.errors.length)Ee.errors.map(Ue=>W({issues:Ue}));else if(Ee.code==="invalid_key")W({issues:Ee.issues});else if(Ee.code==="invalid_element")W({issues:Ee.issues});else if(Ee.path.length===0)F._errors.push(A(Ee));else{let Ue=F,Ye=0;for(;Ye<Ee.path.length;){const Je=Ee.path[Ye];Ye===Ee.path.length-1?(Ue[Je]=Ue[Je]||{_errors:[]},Ue[Je]._errors.push(A(Ee))):Ue[Je]=Ue[Je]||{_errors:[]},Ue=Ue[Je],Ye++}}};return W(u),F}const Gs=u=>(p,A,F,W)=>{const ce=F?Object.assign(F,{async:!1}):{async:!1},Ee=p._zod.run({value:A,issues:[]},ce);if(Ee instanceof Promise)throw new I;if(Ee.issues.length){const Ue=new(W?.Err??u)(Ee.issues.map(Ye=>Ze(Ye,ce,D())));throw se(Ue,W?.callee),Ue}return Ee.value},$n=u=>async(p,A,F,W)=>{const ce=F?Object.assign(F,{async:!0}):{async:!0};let Ee=p._zod.run({value:A,issues:[]},ce);if(Ee instanceof Promise&&(Ee=await Ee),Ee.issues.length){const Ue=new(W?.Err??u)(Ee.issues.map(Ye=>Ze(Ye,ce,D())));throw se(Ue,W?.callee),Ue}return Ee.value},mr=u=>(p,A,F)=>{const W=F?{...F,async:!1}:{async:!1},ce=p._zod.run({value:A,issues:[]},W);if(ce instanceof Promise)throw new I;return ce.issues.length?{success:!1,error:new(u??At)(ce.issues.map(Ee=>Ze(Ee,W,D())))}:{success:!0,data:ce.value}},Un=mr(Wt),un=u=>async(p,A,F)=>{const W=F?Object.assign(F,{async:!0}):{async:!0};let ce=p._zod.run({value:A,issues:[]},W);return ce instanceof Promise&&(ce=await ce),ce.issues.length?{success:!1,error:new u(ce.issues.map(Ee=>Ze(Ee,W,D())))}:{success:!0,data:ce.value}},Tt=un(Wt),Gt=/^[cC][^\s-]{8,}$/,kt=/^[0-9a-z]+$/,Pt=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,mt=/^[0-9a-vA-V]{20}$/,yr=/^[A-Za-z0-9]{27}$/,nn=/^[a-zA-Z0-9_-]{21}$/,br=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,ms=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Wn=u=>u?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${u}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,Mn=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,ln="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function rn(){return new RegExp(ln,"u")}const sr=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ur=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,Cn=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,hi=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,j=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,v=/^[A-Za-z0-9_-]*$/,C=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,Y=/^\+(?:[0-9]){6,14}[0-9]$/,oe="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",ge=new RegExp(`^${oe}$`);function Te(u){const p="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof u.precision=="number"?u.precision===-1?`${p}`:u.precision===0?`${p}:[0-5]\\d`:`${p}:[0-5]\\d\\.\\d{${u.precision}}`:`${p}(?::[0-5]\\d(?:\\.\\d+)?)?`}function rt(u){return new RegExp(`^${Te(u)}$`)}function Nt(u){const p=Te({precision:u.precision}),A=["Z"];u.local&&A.push(""),u.offset&&A.push("([+-]\\d{2}:\\d{2})");const F=`${p}(?:${A.join("|")})`;return new RegExp(`^${oe}T(?:${F})$`)}const St=u=>{const p=u?`[\\s\\S]{${u?.minimum??0},${u?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${p}$`)},Bt=/^\d+n?$/,yt=/^\d+$/,id=/^-?\d+(?:\.\d+)?/i,ad=/true|false/i,cd=/^[^A-Z]*$/,ud=/^[^a-z]*$/,In=E("$ZodCheck",(u,p)=>{var A;u._zod??(u._zod={}),u._zod.def=p,(A=u._zod).onattach??(A.onattach=[])}),_a={number:"number",bigint:"bigint",object:"date"},bo=E("$ZodCheckLessThan",(u,p)=>{In.init(u,p);const A=_a[typeof p.value];u._zod.onattach.push(F=>{const W=F._zod.bag,ce=(p.inclusive?W.maximum:W.exclusiveMaximum)??Number.POSITIVE_INFINITY;p.value<ce&&(p.inclusive?W.maximum=p.value:W.exclusiveMaximum=p.value)}),u._zod.check=F=>{(p.inclusive?F.value<=p.value:F.value<p.value)||F.issues.push({origin:A,code:"too_big",maximum:p.value,input:F.value,inclusive:p.inclusive,inst:u,continue:!p.abort})}}),Ic=E("$ZodCheckGreaterThan",(u,p)=>{In.init(u,p);const A=_a[typeof p.value];u._zod.onattach.push(F=>{const W=F._zod.bag,ce=(p.inclusive?W.minimum:W.exclusiveMinimum)??Number.NEGATIVE_INFINITY;p.value>ce&&(p.inclusive?W.minimum=p.value:W.exclusiveMinimum=p.value)}),u._zod.check=F=>{(p.inclusive?F.value>=p.value:F.value>p.value)||F.issues.push({origin:A,code:"too_small",minimum:p.value,input:F.value,inclusive:p.inclusive,inst:u,continue:!p.abort})}}),ma=E("$ZodCheckMultipleOf",(u,p)=>{In.init(u,p),u._zod.onattach.push(A=>{var F;(F=A._zod.bag).multipleOf??(F.multipleOf=p.value)}),u._zod.check=A=>{if(typeof A.value!=typeof p.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof A.value=="bigint"?A.value%p.value===BigInt(0):G(A.value,p.value)===0)||A.issues.push({origin:typeof A.value,code:"not_multiple_of",divisor:p.value,input:A.value,inst:u,continue:!p.abort})}}),ld=E("$ZodCheckNumberFormat",(u,p)=>{In.init(u,p),p.format=p.format||"float64";const A=p.format?.includes("int"),F=A?"int":"number",[W,ce]=ze[p.format];u._zod.onattach.push(Ee=>{const Ue=Ee._zod.bag;Ue.format=p.format,Ue.minimum=W,Ue.maximum=ce,A&&(Ue.pattern=yt)}),u._zod.check=Ee=>{const Ue=Ee.value;if(A){if(!Number.isInteger(Ue)){Ee.issues.push({expected:F,format:p.format,code:"invalid_type",input:Ue,inst:u});return}if(!Number.isSafeInteger(Ue)){Ue>0?Ee.issues.push({input:Ue,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:u,origin:F,continue:!p.abort}):Ee.issues.push({input:Ue,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:u,origin:F,continue:!p.abort});return}}Ue<W&&Ee.issues.push({origin:"number",input:Ue,code:"too_small",minimum:W,inclusive:!0,inst:u,continue:!p.abort}),Ue>ce&&Ee.issues.push({origin:"number",input:Ue,code:"too_big",maximum:ce,inst:u})}}),dd=E("$ZodCheckMaxLength",(u,p)=>{var A;In.init(u,p),(A=u._zod.def).when??(A.when=F=>{const W=F.value;return!U(W)&&W.length!==void 0}),u._zod.onattach.push(F=>{const W=F._zod.bag.maximum??Number.POSITIVE_INFINITY;p.maximum<W&&(F._zod.bag.maximum=p.maximum)}),u._zod.check=F=>{const W=F.value;if(W.length<=p.maximum)return;const ce=$e(W);F.issues.push({origin:ce,code:"too_big",maximum:p.maximum,inclusive:!0,input:W,inst:u,continue:!p.abort})}}),fd=E("$ZodCheckMinLength",(u,p)=>{var A;In.init(u,p),(A=u._zod.def).when??(A.when=F=>{const W=F.value;return!U(W)&&W.length!==void 0}),u._zod.onattach.push(F=>{const W=F._zod.bag.minimum??Number.NEGATIVE_INFINITY;p.minimum>W&&(F._zod.bag.minimum=p.minimum)}),u._zod.check=F=>{const W=F.value;if(W.length>=p.minimum)return;const ce=$e(W);F.issues.push({origin:ce,code:"too_small",minimum:p.minimum,inclusive:!0,input:W,inst:u,continue:!p.abort})}}),hd=E("$ZodCheckLengthEquals",(u,p)=>{var A;In.init(u,p),(A=u._zod.def).when??(A.when=F=>{const W=F.value;return!U(W)&&W.length!==void 0}),u._zod.onattach.push(F=>{const W=F._zod.bag;W.minimum=p.length,W.maximum=p.length,W.length=p.length}),u._zod.check=F=>{const W=F.value,ce=W.length;if(ce===p.length)return;const Ee=$e(W),Ue=ce>p.length;F.issues.push({origin:Ee,...Ue?{code:"too_big",maximum:p.length}:{code:"too_small",minimum:p.length},inclusive:!0,exact:!0,input:F.value,inst:u,continue:!p.abort})}}),pi=E("$ZodCheckStringFormat",(u,p)=>{var A,F;In.init(u,p),u._zod.onattach.push(W=>{const ce=W._zod.bag;ce.format=p.format,p.pattern&&(ce.patterns??(ce.patterns=new Set),ce.patterns.add(p.pattern))}),p.pattern?(A=u._zod).check??(A.check=W=>{p.pattern.lastIndex=0,!p.pattern.test(W.value)&&W.issues.push({origin:"string",code:"invalid_format",format:p.format,input:W.value,...p.pattern?{pattern:p.pattern.toString()}:{},inst:u,continue:!p.abort})}):(F=u._zod).check??(F.check=()=>{})}),Mr=E("$ZodCheckRegex",(u,p)=>{pi.init(u,p),u._zod.check=A=>{p.pattern.lastIndex=0,!p.pattern.test(A.value)&&A.issues.push({origin:"string",code:"invalid_format",format:"regex",input:A.value,pattern:p.pattern.toString(),inst:u,continue:!p.abort})}}),pd=E("$ZodCheckLowerCase",(u,p)=>{p.pattern??(p.pattern=cd),pi.init(u,p)}),gd=E("$ZodCheckUpperCase",(u,p)=>{p.pattern??(p.pattern=ud),pi.init(u,p)}),_d=E("$ZodCheckIncludes",(u,p)=>{In.init(u,p);const A=ye(p.includes),F=new RegExp(typeof p.position=="number"?`^.{${p.position}}${A}`:A);p.pattern=F,u._zod.onattach.push(W=>{const ce=W._zod.bag;ce.patterns??(ce.patterns=new Set),ce.patterns.add(F)}),u._zod.check=W=>{W.value.includes(p.includes,p.position)||W.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:p.includes,input:W.value,inst:u,continue:!p.abort})}}),md=E("$ZodCheckStartsWith",(u,p)=>{In.init(u,p);const A=new RegExp(`^${ye(p.prefix)}.*`);p.pattern??(p.pattern=A),u._zod.onattach.push(F=>{const W=F._zod.bag;W.patterns??(W.patterns=new Set),W.patterns.add(A)}),u._zod.check=F=>{F.value.startsWith(p.prefix)||F.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:p.prefix,input:F.value,inst:u,continue:!p.abort})}}),wo=E("$ZodCheckEndsWith",(u,p)=>{In.init(u,p);const A=new RegExp(`.*${ye(p.suffix)}$`);p.pattern??(p.pattern=A),u._zod.onattach.push(F=>{const W=F._zod.bag;W.patterns??(W.patterns=new Set),W.patterns.add(A)}),u._zod.check=F=>{F.value.endsWith(p.suffix)||F.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:p.suffix,input:F.value,inst:u,continue:!p.abort})}}),yd=E("$ZodCheckOverwrite",(u,p)=>{In.init(u,p),u._zod.check=A=>{A.value=p.tx(A.value)}});class kc{constructor(p=[]){this.content=[],this.indent=0,this&&(this.args=p)}indented(p){this.indent+=1,p(this),this.indent-=1}write(p){if(typeof p=="function"){p(this,{execution:"sync"}),p(this,{execution:"async"});return}const A=p.split(`
`).filter(ce=>ce),F=Math.min(...A.map(ce=>ce.length-ce.trimStart().length)),W=A.map(ce=>ce.slice(F)).map(ce=>" ".repeat(this.indent*2)+ce);for(const ce of W)this.content.push(ce)}compile(){const p=Function,A=this?.args,F=[...(this?.content??[""]).map(W=>`  ${W}`)];return new p(...A,F.join(`
`))}}const Eo={major:4,minor:0,patch:5},lt=E("$ZodType",(u,p)=>{var A;u??(u={}),u._zod.def=p,u._zod.bag=u._zod.bag||{},u._zod.version=Eo;const F=[...u._zod.def.checks??[]];u._zod.traits.has("$ZodCheck")&&F.unshift(u);for(const W of F)for(const ce of W._zod.onattach)ce(u);if(F.length===0)(A=u._zod).deferred??(A.deferred=[]),u._zod.deferred?.push(()=>{u._zod.run=u._zod.parse});else{const W=(ce,Ee,Ue)=>{let Ye=we(ce),Je;for(const Xe of Ee){if(Xe._zod.def.when){if(!Xe._zod.def.when(ce))continue}else if(Ye)continue;const dt=ce.issues.length,Dt=Xe._zod.check(ce);if(Dt instanceof Promise&&Ue?.async===!1)throw new I;if(Je||Dt instanceof Promise)Je=(Je??Promise.resolve()).then(async()=>{await Dt,ce.issues.length!==dt&&(Ye||(Ye=we(ce,dt)))});else{if(ce.issues.length===dt)continue;Ye||(Ye=we(ce,dt))}}return Je?Je.then(()=>ce):ce};u._zod.run=(ce,Ee)=>{const Ue=u._zod.parse(ce,Ee);if(Ue instanceof Promise){if(Ee.async===!1)throw new I;return Ue.then(Ye=>W(Ye,F,Ee))}return W(Ue,F,Ee)}}u["~standard"]={validate:W=>{try{const ce=Un(u,W);return ce.success?{value:ce.data}:{issues:ce.error?.issues}}catch{return Tt(u,W).then(ce=>ce.success?{value:ce.data}:{issues:ce.error?.issues})}},vendor:"zod",version:1}}),bd=E("$ZodString",(u,p)=>{lt.init(u,p),u._zod.pattern=[...u?._zod.bag?.patterns??[]].pop()??St(u._zod.bag),u._zod.parse=(A,F)=>{if(p.coerce)try{A.value=String(A.value)}catch{}return typeof A.value=="string"||A.issues.push({expected:"string",code:"invalid_type",input:A.value,inst:u}),A}}),Ct=E("$ZodStringFormat",(u,p)=>{pi.init(u,p),bd.init(u,p)}),ya=E("$ZodGUID",(u,p)=>{p.pattern??(p.pattern=ms),Ct.init(u,p)}),Oc=E("$ZodUUID",(u,p)=>{if(p.version){const A={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[p.version];if(A===void 0)throw new Error(`Invalid UUID version: "${p.version}"`);p.pattern??(p.pattern=Wn(A))}else p.pattern??(p.pattern=Wn());Ct.init(u,p)}),kn=E("$ZodEmail",(u,p)=>{p.pattern??(p.pattern=Mn),Ct.init(u,p)}),zn=E("$ZodURL",(u,p)=>{Ct.init(u,p),u._zod.check=A=>{try{const F=A.value,W=new URL(F),ce=W.href;p.hostname&&(p.hostname.lastIndex=0,p.hostname.test(W.hostname)||A.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:C.source,input:A.value,inst:u,continue:!p.abort})),p.protocol&&(p.protocol.lastIndex=0,p.protocol.test(W.protocol.endsWith(":")?W.protocol.slice(0,-1):W.protocol)||A.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:p.protocol.source,input:A.value,inst:u,continue:!p.abort})),!F.endsWith("/")&&ce.endsWith("/")?A.value=ce.slice(0,-1):A.value=ce;return}catch{A.issues.push({code:"invalid_format",format:"url",input:A.value,inst:u,continue:!p.abort})}}}),Fn=E("$ZodEmoji",(u,p)=>{p.pattern??(p.pattern=rn()),Ct.init(u,p)}),gi=E("$ZodNanoID",(u,p)=>{p.pattern??(p.pattern=nn),Ct.init(u,p)}),wd=E("$ZodCUID",(u,p)=>{p.pattern??(p.pattern=Gt),Ct.init(u,p)}),Rc=E("$ZodCUID2",(u,p)=>{p.pattern??(p.pattern=kt),Ct.init(u,p)}),Ed=E("$ZodULID",(u,p)=>{p.pattern??(p.pattern=Pt),Ct.init(u,p)}),ba=E("$ZodXID",(u,p)=>{p.pattern??(p.pattern=mt),Ct.init(u,p)}),wa=E("$ZodKSUID",(u,p)=>{p.pattern??(p.pattern=yr),Ct.init(u,p)}),Ea=E("$ZodISODateTime",(u,p)=>{p.pattern??(p.pattern=Nt(p)),Ct.init(u,p)}),vd=E("$ZodISODate",(u,p)=>{p.pattern??(p.pattern=ge),Ct.init(u,p)}),Gn=E("$ZodISOTime",(u,p)=>{p.pattern??(p.pattern=rt(p)),Ct.init(u,p)}),Ad=E("$ZodISODuration",(u,p)=>{p.pattern??(p.pattern=br),Ct.init(u,p)}),Td=E("$ZodIPv4",(u,p)=>{p.pattern??(p.pattern=sr),Ct.init(u,p),u._zod.onattach.push(A=>{const F=A._zod.bag;F.format="ipv4"})}),Wy=E("$ZodIPv6",(u,p)=>{p.pattern??(p.pattern=Ur),Ct.init(u,p),u._zod.onattach.push(A=>{const F=A._zod.bag;F.format="ipv6"}),u._zod.check=A=>{try{new URL(`http://[${A.value}]`)}catch{A.issues.push({code:"invalid_format",format:"ipv6",input:A.value,inst:u,continue:!p.abort})}}}),lp=E("$ZodCIDRv4",(u,p)=>{p.pattern??(p.pattern=Cn),Ct.init(u,p)}),dp=E("$ZodCIDRv6",(u,p)=>{p.pattern??(p.pattern=hi),Ct.init(u,p),u._zod.check=A=>{const[F,W]=A.value.split("/");try{if(!W)throw new Error;const ce=Number(W);if(`${ce}`!==W)throw new Error;if(ce<0||ce>128)throw new Error;new URL(`http://[${F}]`)}catch{A.issues.push({code:"invalid_format",format:"cidrv6",input:A.value,inst:u,continue:!p.abort})}}});function fp(u){if(u==="")return!0;if(u.length%4!==0)return!1;try{return atob(u),!0}catch{return!1}}const Gy=E("$ZodBase64",(u,p)=>{p.pattern??(p.pattern=j),Ct.init(u,p),u._zod.onattach.push(A=>{A._zod.bag.contentEncoding="base64"}),u._zod.check=A=>{fp(A.value)||A.issues.push({code:"invalid_format",format:"base64",input:A.value,inst:u,continue:!p.abort})}});function Yy(u){if(!v.test(u))return!1;const p=u.replace(/[-_]/g,F=>F==="-"?"+":"/"),A=p.padEnd(Math.ceil(p.length/4)*4,"=");return fp(A)}const Xy=E("$ZodBase64URL",(u,p)=>{p.pattern??(p.pattern=v),Ct.init(u,p),u._zod.onattach.push(A=>{A._zod.bag.contentEncoding="base64url"}),u._zod.check=A=>{Yy(A.value)||A.issues.push({code:"invalid_format",format:"base64url",input:A.value,inst:u,continue:!p.abort})}}),Pc=E("$ZodE164",(u,p)=>{p.pattern??(p.pattern=Y),Ct.init(u,p)});function qy(u,p=null){try{const A=u.split(".");if(A.length!==3)return!1;const[F]=A;if(!F)return!1;const W=JSON.parse(atob(F));return!("typ"in W&&W?.typ!=="JWT"||!W.alg||p&&(!("alg"in W)||W.alg!==p))}catch{return!1}}const hp=E("$ZodJWT",(u,p)=>{Ct.init(u,p),u._zod.check=A=>{qy(A.value,p.alg)||A.issues.push({code:"invalid_format",format:"jwt",input:A.value,inst:u,continue:!p.abort})}}),pp=E("$ZodNumber",(u,p)=>{lt.init(u,p),u._zod.pattern=u._zod.bag.pattern??id,u._zod.parse=(A,F)=>{if(p.coerce)try{A.value=Number(A.value)}catch{}const W=A.value;if(typeof W=="number"&&!Number.isNaN(W)&&Number.isFinite(W))return A;const ce=typeof W=="number"?Number.isNaN(W)?"NaN":Number.isFinite(W)?void 0:"Infinity":void 0;return A.issues.push({expected:"number",code:"invalid_type",input:W,inst:u,...ce?{received:ce}:{}}),A}}),Nc=E("$ZodNumber",(u,p)=>{ld.init(u,p),pp.init(u,p)}),va=E("$ZodBoolean",(u,p)=>{lt.init(u,p),u._zod.pattern=ad,u._zod.parse=(A,F)=>{if(p.coerce)try{A.value=!!A.value}catch{}const W=A.value;return typeof W=="boolean"||A.issues.push({expected:"boolean",code:"invalid_type",input:W,inst:u}),A}}),Jy=E("$ZodBigInt",(u,p)=>{lt.init(u,p),u._zod.pattern=Bt,u._zod.parse=(A,F)=>{if(p.coerce)try{A.value=BigInt(A.value)}catch{}return typeof A.value=="bigint"||A.issues.push({expected:"bigint",code:"invalid_type",input:A.value,inst:u}),A}}),Qy=E("$ZodAny",(u,p)=>{lt.init(u,p),u._zod.parse=A=>A}),xd=E("$ZodUnknown",(u,p)=>{lt.init(u,p),u._zod.parse=A=>A}),gp=E("$ZodNever",(u,p)=>{lt.init(u,p),u._zod.parse=(A,F)=>(A.issues.push({expected:"never",code:"invalid_type",input:A.value,inst:u}),A)});function _p(u,p,A){u.issues.length&&p.issues.push(...Ae(A,u.issues)),p.value[A]=u.value}const eb=E("$ZodArray",(u,p)=>{lt.init(u,p),u._zod.parse=(A,F)=>{const W=A.value;if(!Array.isArray(W))return A.issues.push({expected:"array",code:"invalid_type",input:W,inst:u}),A;A.value=Array(W.length);const ce=[];for(let Ee=0;Ee<W.length;Ee++){const Ue=W[Ee],Ye=p.element._zod.run({value:Ue,issues:[]},F);Ye instanceof Promise?ce.push(Ye.then(Je=>_p(Je,A,Ee))):_p(Ye,A,Ee)}return ce.length?Promise.all(ce).then(()=>A):A}});function vo(u,p,A){u.issues.length&&p.issues.push(...Ae(A,u.issues)),p.value[A]=u.value}function Bc(u,p,A,F){u.issues.length?F[A]===void 0?A in F?p.value[A]=void 0:p.value[A]=u.value:p.issues.push(...Ae(A,u.issues)):u.value===void 0?A in F&&(p.value[A]=void 0):p.value[A]=u.value}const _i=E("$ZodObject",(u,p)=>{lt.init(u,p);const A=T(()=>{const Xe=Object.keys(p.shape);for(const Dt of Xe)if(!(p.shape[Dt]instanceof lt))throw new Error(`Invalid element at key "${Dt}": expected a Zod schema`);const dt=We(p.shape);return{shape:p.shape,keys:Xe,keySet:new Set(Xe),numKeys:Xe.length,optionalKeys:new Set(dt)}});Q(u._zod,"propValues",()=>{const Xe=p.shape,dt={};for(const Dt in Xe){const vr=Xe[Dt]._zod;if(vr.values){dt[Dt]??(dt[Dt]=new Set);for(const bs of vr.values)dt[Dt].add(bs)}}return dt});const F=Xe=>{const dt=new kc(["shape","payload","ctx"]),Dt=A.value,vr=tt=>{const bt=V(tt);return`shape[${bt}]._zod.run({ value: input[${bt}], issues: [] }, ctx)`};dt.write("const input = payload.value;");const bs=Object.create(null);let Qd=0;for(const tt of Dt.keys)bs[tt]=`key_${Qd++}`;dt.write("const newResult = {}");for(const tt of Dt.keys)if(Dt.optionalKeys.has(tt)){const bt=bs[tt];dt.write(`const ${bt} = ${vr(tt)};`);const sn=V(tt);dt.write(`
        if (${bt}.issues.length) {
          if (input[${sn}] === undefined) {
            if (${sn} in input) {
              newResult[${sn}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${bt}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${sn}, ...iss.path] : [${sn}],
              }))
            );
          }
        } else if (${bt}.value === undefined) {
          if (${sn} in input) newResult[${sn}] = undefined;
        } else {
          newResult[${sn}] = ${bt}.value;
        }
        `)}else{const bt=bs[tt];dt.write(`const ${bt} = ${vr(tt)};`),dt.write(`
          if (${bt}.issues.length) payload.issues = payload.issues.concat(${bt}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${V(tt)}, ...iss.path] : [${V(tt)}]
          })));`),dt.write(`newResult[${V(tt)}] = ${bt}.value`)}dt.write("payload.value = newResult;"),dt.write("return payload;");const Vt=dt.compile();return(tt,bt)=>Vt(Xe,tt,bt)};let W;const ce=ue,Ee=!O.jitless,Ue=Ee&&ae.value,Ye=p.catchall;let Je;u._zod.parse=(Xe,dt)=>{Je??(Je=A.value);const Dt=Xe.value;if(!ce(Dt))return Xe.issues.push({expected:"object",code:"invalid_type",input:Dt,inst:u}),Xe;const vr=[];if(Ee&&Ue&&dt?.async===!1&&dt.jitless!==!0)W||(W=F(p.shape)),Xe=W(Xe,dt);else{Xe.value={};const bt=Je.shape;for(const sn of Je.keys){const eo=bt[sn],Ii=eo._zod.run({value:Dt[sn],issues:[]},dt),cu=eo._zod.optin==="optional"&&eo._zod.optout==="optional";Ii instanceof Promise?vr.push(Ii.then(ef=>cu?Bc(ef,Xe,sn,Dt):vo(ef,Xe,sn))):cu?Bc(Ii,Xe,sn,Dt):vo(Ii,Xe,sn)}}if(!Ye)return vr.length?Promise.all(vr).then(()=>Xe):Xe;const bs=[],Qd=Je.keySet,Vt=Ye._zod,tt=Vt.def.type;for(const bt of Object.keys(Dt)){if(Qd.has(bt))continue;if(tt==="never"){bs.push(bt);continue}const sn=Vt.run({value:Dt[bt],issues:[]},dt);sn instanceof Promise?vr.push(sn.then(eo=>vo(eo,Xe,bt))):vo(sn,Xe,bt)}return bs.length&&Xe.issues.push({code:"unrecognized_keys",keys:bs,input:Dt,inst:u}),vr.length?Promise.all(vr).then(()=>Xe):Xe}});function Dc(u,p,A,F){for(const W of u)if(W.issues.length===0)return p.value=W.value,p;return p.issues.push({code:"invalid_union",input:p.value,inst:A,errors:u.map(W=>W.issues.map(ce=>Ze(ce,F,D())))}),p}const Sd=E("$ZodUnion",(u,p)=>{lt.init(u,p),Q(u._zod,"optin",()=>p.options.some(A=>A._zod.optin==="optional")?"optional":void 0),Q(u._zod,"optout",()=>p.options.some(A=>A._zod.optout==="optional")?"optional":void 0),Q(u._zod,"values",()=>{if(p.options.every(A=>A._zod.values))return new Set(p.options.flatMap(A=>Array.from(A._zod.values)))}),Q(u._zod,"pattern",()=>{if(p.options.every(A=>A._zod.pattern)){const A=p.options.map(F=>F._zod.pattern);return new RegExp(`^(${A.map(F=>H(F.source)).join("|")})$`)}}),u._zod.parse=(A,F)=>{let W=!1;const ce=[];for(const Ee of p.options){const Ue=Ee._zod.run({value:A.value,issues:[]},F);if(Ue instanceof Promise)ce.push(Ue),W=!0;else{if(Ue.issues.length===0)return Ue;ce.push(Ue)}}return W?Promise.all(ce).then(Ee=>Dc(Ee,A,u,F)):Dc(ce,A,u,F)}}),tb=E("$ZodIntersection",(u,p)=>{lt.init(u,p),u._zod.parse=(A,F)=>{const W=A.value,ce=p.left._zod.run({value:W,issues:[]},F),Ee=p.right._zod.run({value:W,issues:[]},F);return ce instanceof Promise||Ee instanceof Promise?Promise.all([ce,Ee]).then(([Ue,Ye])=>mp(A,Ue,Ye)):mp(A,ce,Ee)}});function Cd(u,p){if(u===p)return{valid:!0,data:u};if(u instanceof Date&&p instanceof Date&&+u==+p)return{valid:!0,data:u};if(te(u)&&te(p)){const A=Object.keys(p),F=Object.keys(u).filter(ce=>A.indexOf(ce)!==-1),W={...u,...p};for(const ce of F){const Ee=Cd(u[ce],p[ce]);if(!Ee.valid)return{valid:!1,mergeErrorPath:[ce,...Ee.mergeErrorPath]};W[ce]=Ee.data}return{valid:!0,data:W}}if(Array.isArray(u)&&Array.isArray(p)){if(u.length!==p.length)return{valid:!1,mergeErrorPath:[]};const A=[];for(let F=0;F<u.length;F++){const W=u[F],ce=p[F],Ee=Cd(W,ce);if(!Ee.valid)return{valid:!1,mergeErrorPath:[F,...Ee.mergeErrorPath]};A.push(Ee.data)}return{valid:!0,data:A}}return{valid:!1,mergeErrorPath:[]}}function mp(u,p,A){if(p.issues.length&&u.issues.push(...p.issues),A.issues.length&&u.issues.push(...A.issues),we(u))return u;const F=Cd(p.value,A.value);if(!F.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(F.mergeErrorPath)}`);return u.value=F.data,u}const nb=E("$ZodTuple",(u,p)=>{lt.init(u,p);const A=p.items,F=A.length-[...A].reverse().findIndex(W=>W._zod.optin!=="optional");u._zod.parse=(W,ce)=>{const Ee=W.value;if(!Array.isArray(Ee))return W.issues.push({input:Ee,inst:u,expected:"tuple",code:"invalid_type"}),W;W.value=[];const Ue=[];if(!p.rest){const Je=Ee.length>A.length,Xe=Ee.length<F-1;if(Je||Xe)return W.issues.push({input:Ee,inst:u,origin:"array",...Je?{code:"too_big",maximum:A.length}:{code:"too_small",minimum:A.length}}),W}let Ye=-1;for(const Je of A){if(Ye++,Ye>=Ee.length&&Ye>=F)continue;const Xe=Je._zod.run({value:Ee[Ye],issues:[]},ce);Xe instanceof Promise?Ue.push(Xe.then(dt=>Ys(dt,W,Ye))):Ys(Xe,W,Ye)}if(p.rest){const Je=Ee.slice(A.length);for(const Xe of Je){Ye++;const dt=p.rest._zod.run({value:Xe,issues:[]},ce);dt instanceof Promise?Ue.push(dt.then(Dt=>Ys(Dt,W,Ye))):Ys(dt,W,Ye)}}return Ue.length?Promise.all(Ue).then(()=>W):W}});function Ys(u,p,A){u.issues.length&&p.issues.push(...Ae(A,u.issues)),p.value[A]=u.value}const Id=E("$ZodRecord",(u,p)=>{lt.init(u,p),u._zod.parse=(A,F)=>{const W=A.value;if(!te(W))return A.issues.push({expected:"record",code:"invalid_type",input:W,inst:u}),A;const ce=[];if(p.keyType._zod.values){const Ee=p.keyType._zod.values;A.value={};for(const Ye of Ee)if(typeof Ye=="string"||typeof Ye=="number"||typeof Ye=="symbol"){const Je=p.valueType._zod.run({value:W[Ye],issues:[]},F);Je instanceof Promise?ce.push(Je.then(Xe=>{Xe.issues.length&&A.issues.push(...Ae(Ye,Xe.issues)),A.value[Ye]=Xe.value})):(Je.issues.length&&A.issues.push(...Ae(Ye,Je.issues)),A.value[Ye]=Je.value)}let Ue;for(const Ye in W)Ee.has(Ye)||(Ue=Ue??[],Ue.push(Ye));Ue&&Ue.length>0&&A.issues.push({code:"unrecognized_keys",input:W,inst:u,keys:Ue})}else{A.value={};for(const Ee of Reflect.ownKeys(W)){if(Ee==="__proto__")continue;const Ue=p.keyType._zod.run({value:Ee,issues:[]},F);if(Ue instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(Ue.issues.length){A.issues.push({origin:"record",code:"invalid_key",issues:Ue.issues.map(Je=>Ze(Je,F,D())),input:Ee,path:[Ee],inst:u}),A.value[Ue.value]=Ue.value;continue}const Ye=p.valueType._zod.run({value:W[Ee],issues:[]},F);Ye instanceof Promise?ce.push(Ye.then(Je=>{Je.issues.length&&A.issues.push(...Ae(Ee,Je.issues)),A.value[Ue.value]=Je.value})):(Ye.issues.length&&A.issues.push(...Ae(Ee,Ye.issues)),A.value[Ue.value]=Ye.value)}}return ce.length?Promise.all(ce).then(()=>A):A}}),rb=E("$ZodEnum",(u,p)=>{lt.init(u,p);const A=N(p.entries);u._zod.values=new Set(A),u._zod.pattern=new RegExp(`^(${A.filter(F=>re.has(typeof F)).map(F=>typeof F=="string"?ye(F):F.toString()).join("|")})$`),u._zod.parse=(F,W)=>{const ce=F.value;return u._zod.values.has(ce)||F.issues.push({code:"invalid_value",values:A,input:ce,inst:u}),F}}),sb=E("$ZodLiteral",(u,p)=>{lt.init(u,p),u._zod.values=new Set(p.values),u._zod.pattern=new RegExp(`^(${p.values.map(A=>typeof A=="string"?ye(A):A?A.toString():String(A)).join("|")})$`),u._zod.parse=(A,F)=>{const W=A.value;return u._zod.values.has(W)||A.issues.push({code:"invalid_value",values:p.values,input:W,inst:u}),A}}),ob=E("$ZodTransform",(u,p)=>{lt.init(u,p),u._zod.parse=(A,F)=>{const W=p.transform(A.value,A);if(F.async)return(W instanceof Promise?W:Promise.resolve(W)).then(ce=>(A.value=ce,A));if(W instanceof Promise)throw new I;return A.value=W,A}}),ib=E("$ZodOptional",(u,p)=>{lt.init(u,p),u._zod.optin="optional",u._zod.optout="optional",Q(u._zod,"values",()=>p.innerType._zod.values?new Set([...p.innerType._zod.values,void 0]):void 0),Q(u._zod,"pattern",()=>{const A=p.innerType._zod.pattern;return A?new RegExp(`^(${H(A.source)})?$`):void 0}),u._zod.parse=(A,F)=>p.innerType._zod.optin==="optional"?p.innerType._zod.run(A,F):A.value===void 0?A:p.innerType._zod.run(A,F)}),mi=E("$ZodNullable",(u,p)=>{lt.init(u,p),Q(u._zod,"optin",()=>p.innerType._zod.optin),Q(u._zod,"optout",()=>p.innerType._zod.optout),Q(u._zod,"pattern",()=>{const A=p.innerType._zod.pattern;return A?new RegExp(`^(${H(A.source)}|null)$`):void 0}),Q(u._zod,"values",()=>p.innerType._zod.values?new Set([...p.innerType._zod.values,null]):void 0),u._zod.parse=(A,F)=>A.value===null?A:p.innerType._zod.run(A,F)}),yp=E("$ZodDefault",(u,p)=>{lt.init(u,p),u._zod.optin="optional",Q(u._zod,"values",()=>p.innerType._zod.values),u._zod.parse=(A,F)=>{if(A.value===void 0)return A.value=p.defaultValue,A;const W=p.innerType._zod.run(A,F);return W instanceof Promise?W.then(ce=>Lc(ce,p)):Lc(W,p)}});function Lc(u,p){return u.value===void 0&&(u.value=p.defaultValue),u}const bp=E("$ZodPrefault",(u,p)=>{lt.init(u,p),u._zod.optin="optional",Q(u._zod,"values",()=>p.innerType._zod.values),u._zod.parse=(A,F)=>(A.value===void 0&&(A.value=p.defaultValue),p.innerType._zod.run(A,F))}),wp=E("$ZodNonOptional",(u,p)=>{lt.init(u,p),Q(u._zod,"values",()=>{const A=p.innerType._zod.values;return A?new Set([...A].filter(F=>F!==void 0)):void 0}),u._zod.parse=(A,F)=>{const W=p.innerType._zod.run(A,F);return W instanceof Promise?W.then(ce=>Xs(ce,u)):Xs(W,u)}});function Xs(u,p){return!u.issues.length&&u.value===void 0&&u.issues.push({code:"invalid_type",expected:"nonoptional",input:u.value,inst:p}),u}const kd=E("$ZodCatch",(u,p)=>{lt.init(u,p),u._zod.optin="optional",Q(u._zod,"optout",()=>p.innerType._zod.optout),Q(u._zod,"values",()=>p.innerType._zod.values),u._zod.parse=(A,F)=>{const W=p.innerType._zod.run(A,F);return W instanceof Promise?W.then(ce=>(A.value=ce.value,ce.issues.length&&(A.value=p.catchValue({...A,error:{issues:ce.issues.map(Ee=>Ze(Ee,F,D()))},input:A.value}),A.issues=[]),A)):(A.value=W.value,W.issues.length&&(A.value=p.catchValue({...A,error:{issues:W.issues.map(ce=>Ze(ce,F,D()))},input:A.value}),A.issues=[]),A)}}),ab=E("$ZodPipe",(u,p)=>{lt.init(u,p),Q(u._zod,"values",()=>p.in._zod.values),Q(u._zod,"optin",()=>p.in._zod.optin),Q(u._zod,"optout",()=>p.out._zod.optout),Q(u._zod,"propValues",()=>p.in._zod.propValues),u._zod.parse=(A,F)=>{const W=p.in._zod.run(A,F);return W instanceof Promise?W.then(ce=>$c(ce,p,F)):$c(W,p,F)}});function $c(u,p,A){return we(u)?u:p.out._zod.run({value:u.value,issues:u.issues},A)}const cb=E("$ZodReadonly",(u,p)=>{lt.init(u,p),Q(u._zod,"propValues",()=>p.innerType._zod.propValues),Q(u._zod,"values",()=>p.innerType._zod.values),Q(u._zod,"optin",()=>p.innerType._zod.optin),Q(u._zod,"optout",()=>p.innerType._zod.optout),u._zod.parse=(A,F)=>{const W=p.innerType._zod.run(A,F);return W instanceof Promise?W.then(Ep):Ep(W)}});function Ep(u){return u.value=Object.freeze(u.value),u}const Od=E("$ZodCustom",(u,p)=>{In.init(u,p),lt.init(u,p),u._zod.parse=(A,F)=>A,u._zod.check=A=>{const F=A.value,W=p.fn(F);if(W instanceof Promise)return W.then(ce=>Uc(ce,A,F,u));Uc(W,A,F,u)}});function Uc(u,p,A,F){if(!u){const W={code:"custom",input:A,inst:F,path:[...F._zod.def.path??[]],continue:!F._zod.def.abort};F._zod.def.params&&(W.params=F._zod.def.params),p.issues.push(qe(W))}}class Rd{constructor(){this._map=new Map,this._idmap=new Map}add(p,...A){const F=A[0];if(this._map.set(p,F),F&&typeof F=="object"&&"id"in F){if(this._idmap.has(F.id))throw new Error(`ID ${F.id} already exists in the registry`);this._idmap.set(F.id,p)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(p){const A=this._map.get(p);return A&&typeof A=="object"&&"id"in A&&this._idmap.delete(A.id),this._map.delete(p),this}get(p){const A=p._zod.parent;if(A){const F={...this.get(A)??{}};return delete F.id,{...F,...this._map.get(p)}}return this._map.get(p)}has(p){return this._map.has(p)}}function vp(){return new Rd}const Mc=vp();function ub(u,p){return new u({type:"string",...he(p)})}function Ap(u,p){return new u({type:"string",format:"email",check:"string_format",abort:!1,...he(p)})}function Pd(u,p){return new u({type:"string",format:"guid",check:"string_format",abort:!1,...he(p)})}function Tp(u,p){return new u({type:"string",format:"uuid",check:"string_format",abort:!1,...he(p)})}function zc(u,p){return new u({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...he(p)})}function xp(u,p){return new u({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...he(p)})}function Sp(u,p){return new u({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...he(p)})}function Nd(u,p){return new u({type:"string",format:"url",check:"string_format",abort:!1,...he(p)})}function Cp(u,p){return new u({type:"string",format:"emoji",check:"string_format",abort:!1,...he(p)})}function Aa(u,p){return new u({type:"string",format:"nanoid",check:"string_format",abort:!1,...he(p)})}function Ta(u,p){return new u({type:"string",format:"cuid",check:"string_format",abort:!1,...he(p)})}function Ip(u,p){return new u({type:"string",format:"cuid2",check:"string_format",abort:!1,...he(p)})}function kp(u,p){return new u({type:"string",format:"ulid",check:"string_format",abort:!1,...he(p)})}function Fc(u,p){return new u({type:"string",format:"xid",check:"string_format",abort:!1,...he(p)})}function Bd(u,p){return new u({type:"string",format:"ksuid",check:"string_format",abort:!1,...he(p)})}function Op(u,p){return new u({type:"string",format:"ipv4",check:"string_format",abort:!1,...he(p)})}function Rp(u,p){return new u({type:"string",format:"ipv6",check:"string_format",abort:!1,...he(p)})}function Pp(u,p){return new u({type:"string",format:"cidrv4",check:"string_format",abort:!1,...he(p)})}function Dd(u,p){return new u({type:"string",format:"cidrv6",check:"string_format",abort:!1,...he(p)})}function Np(u,p){return new u({type:"string",format:"base64",check:"string_format",abort:!1,...he(p)})}function Ld(u,p){return new u({type:"string",format:"base64url",check:"string_format",abort:!1,...he(p)})}function Bp(u,p){return new u({type:"string",format:"e164",check:"string_format",abort:!1,...he(p)})}function Dp(u,p){return new u({type:"string",format:"jwt",check:"string_format",abort:!1,...he(p)})}function Lp(u,p){return new u({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...he(p)})}function $p(u,p){return new u({type:"string",format:"date",check:"string_format",...he(p)})}function Hc(u,p){return new u({type:"string",format:"time",check:"string_format",precision:null,...he(p)})}function Up(u,p){return new u({type:"string",format:"duration",check:"string_format",...he(p)})}function $d(u,p){return new u({type:"number",checks:[],...he(p)})}function jc(u,p){return new u({type:"number",check:"number_format",abort:!1,format:"safeint",...he(p)})}function Mp(u,p){return new u({type:"boolean",...he(p)})}function Vc(u,p){return new u({type:"bigint",...he(p)})}function zp(u){return new u({type:"any"})}function Fp(u){return new u({type:"unknown"})}function Hp(u,p){return new u({type:"never",...he(p)})}function xa(u,p){return new bo({check:"less_than",...he(p),value:u,inclusive:!1})}function Ao(u,p){return new bo({check:"less_than",...he(p),value:u,inclusive:!0})}function Sa(u,p){return new Ic({check:"greater_than",...he(p),value:u,inclusive:!1})}function ys(u,p){return new Ic({check:"greater_than",...he(p),value:u,inclusive:!0})}function Zc(u,p){return new ma({check:"multiple_of",...he(p),value:u})}function Ud(u,p){return new dd({check:"max_length",...he(p),maximum:u})}function yi(u,p){return new fd({check:"min_length",...he(p),minimum:u})}function Md(u,p){return new hd({check:"length_equals",...he(p),length:u})}function Ca(u,p){return new Mr({check:"string_format",format:"regex",...he(p),pattern:u})}function Ia(u){return new pd({check:"string_format",format:"lowercase",...he(u)})}function jp(u){return new gd({check:"string_format",format:"uppercase",...he(u)})}function qs(u,p){return new _d({check:"string_format",format:"includes",...he(p),includes:u})}function bi(u,p){return new md({check:"string_format",format:"starts_with",...he(p),prefix:u})}function To(u,p){return new wo({check:"string_format",format:"ends_with",...he(p),suffix:u})}function wi(u){return new yd({check:"overwrite",tx:u})}function ts(u){return wi(p=>p.normalize(u))}function xo(){return wi(u=>u.trim())}function ka(){return wi(u=>u.toLowerCase())}function ns(){return wi(u=>u.toUpperCase())}function zd(u,p,A){return new u({type:"array",element:p,...he(A)})}function rs(u,p,A){return new u({type:"custom",check:"custom",fn:p,...he(A)})}const On=E("ZodISODateTime",(u,p)=>{Ea.init(u,p),Mt.init(u,p)});function Kc(u){return Lp(On,u)}const So=E("ZodISODate",(u,p)=>{vd.init(u,p),Mt.init(u,p)});function Wc(u){return $p(So,u)}const Gc=E("ZodISOTime",(u,p)=>{Gn.init(u,p),Mt.init(u,p)});function or(u){return Hc(Gc,u)}const Co=E("ZodISODuration",(u,p)=>{Ad.init(u,p),Mt.init(u,p)});function lb(u){return Up(Co,u)}const db=(u,p)=>{At.init(u,p),u.name="ZodError",Object.defineProperties(u,{format:{value:A=>Ws(u,A)},flatten:{value:A=>$r(u,A)},addIssue:{value:A=>u.issues.push(A)},addIssues:{value:A=>u.issues.push(...A)},isEmpty:{get(){return u.issues.length===0}}})},Io=E("ZodError",db,{Parent:Error}),Oa=Gs(Io),Js=$n(Io),Fd=mr(Io),fb=un(Io),Ut=E("ZodType",(u,p)=>(lt.init(u,p),u.def=p,Object.defineProperty(u,"_def",{value:p}),u.check=(...A)=>u.clone({...p,checks:[...p.checks??[],...A.map(F=>typeof F=="function"?{_zod:{check:F,def:{check:"custom"},onattach:[]}}:F)]}),u.clone=(A,F)=>Ce(u,A,F),u.brand=()=>u,u.register=(A,F)=>(A.add(u,F),u),u.parse=(A,F)=>Oa(u,A,F,{callee:u.parse}),u.safeParse=(A,F)=>Fd(u,A,F),u.parseAsync=async(A,F)=>Js(u,A,F,{callee:u.parseAsync}),u.safeParseAsync=async(A,F)=>fb(u,A,F),u.spa=u.safeParseAsync,u.refine=(A,F)=>u.check(Sb(A,F)),u.superRefine=A=>u.check(Cb(A)),u.overwrite=A=>u.check(wi(A)),u.optional=()=>ou(u),u.nullable=()=>Wd(u),u.nullish=()=>ou(Wd(u)),u.nonoptional=A=>og(u,A),u.array=()=>Yn(u),u.or=A=>Ti([u,A]),u.and=A=>qp(u,A),u.transform=A=>iu(u,ru(A)),u.default=A=>ng(u,A),u.prefault=A=>sg(u,A),u.catch=A=>Yd(u,A),u.pipe=A=>iu(u,A),u.readonly=()=>ag(u),u.describe=A=>{const F=u.clone();return Mc.add(F,{description:A}),F},Object.defineProperty(u,"description",{get(){return Mc.get(u)?.description},configurable:!0}),u.meta=(...A)=>{if(A.length===0)return Mc.get(u);const F=u.clone();return Mc.add(F,A[0]),F},u.isOptional=()=>u.safeParse(void 0).success,u.isNullable=()=>u.safeParse(null).success,u)),Ei=E("_ZodString",(u,p)=>{bd.init(u,p),Ut.init(u,p);const A=u._zod.bag;u.format=A.format??null,u.minLength=A.minimum??null,u.maxLength=A.maximum??null,u.regex=(...F)=>u.check(Ca(...F)),u.includes=(...F)=>u.check(qs(...F)),u.startsWith=(...F)=>u.check(bi(...F)),u.endsWith=(...F)=>u.check(To(...F)),u.min=(...F)=>u.check(yi(...F)),u.max=(...F)=>u.check(Ud(...F)),u.length=(...F)=>u.check(Md(...F)),u.nonempty=(...F)=>u.check(yi(1,...F)),u.lowercase=F=>u.check(Ia(F)),u.uppercase=F=>u.check(jp(F)),u.trim=()=>u.check(xo()),u.normalize=(...F)=>u.check(ts(...F)),u.toLowerCase=()=>u.check(ka()),u.toUpperCase=()=>u.check(ns())}),Yc=E("ZodString",(u,p)=>{bd.init(u,p),Ei.init(u,p),u.email=A=>u.check(Ap(Vp,A)),u.url=A=>u.check(Nd(qc,A)),u.jwt=A=>u.check(Dp(mb,A)),u.emoji=A=>u.check(Cp(vi,A)),u.guid=A=>u.check(Pd(ko,A)),u.uuid=A=>u.check(Tp(Xc,A)),u.uuidv4=A=>u.check(zc(Xc,A)),u.uuidv6=A=>u.check(xp(Xc,A)),u.uuidv7=A=>u.check(Sp(Xc,A)),u.nanoid=A=>u.check(Aa(Zp,A)),u.guid=A=>u.check(Pd(ko,A)),u.cuid=A=>u.check(Ta(Oo,A)),u.cuid2=A=>u.check(Ip(Hd,A)),u.ulid=A=>u.check(kp(Qs,A)),u.base64=A=>u.check(Np(Kp,A)),u.base64url=A=>u.check(Ld(Qc,A)),u.xid=A=>u.check(Fc(Jc,A)),u.ksuid=A=>u.check(Bd(hb,A)),u.ipv4=A=>u.check(Op(pb,A)),u.ipv6=A=>u.check(Rp(Ro,A)),u.cidrv4=A=>u.check(Pp(gb,A)),u.cidrv6=A=>u.check(Dd(_b,A)),u.e164=A=>u.check(Bp(zr,A)),u.datetime=A=>u.check(Kc(A)),u.date=A=>u.check(Wc(A)),u.time=A=>u.check(or(A)),u.duration=A=>u.check(lb(A))});function at(u){return ub(Yc,u)}const Mt=E("ZodStringFormat",(u,p)=>{Ct.init(u,p),Ei.init(u,p)}),Vp=E("ZodEmail",(u,p)=>{kn.init(u,p),Mt.init(u,p)}),ko=E("ZodGUID",(u,p)=>{ya.init(u,p),Mt.init(u,p)}),Xc=E("ZodUUID",(u,p)=>{Oc.init(u,p),Mt.init(u,p)}),qc=E("ZodURL",(u,p)=>{zn.init(u,p),Mt.init(u,p)}),vi=E("ZodEmoji",(u,p)=>{Fn.init(u,p),Mt.init(u,p)}),Zp=E("ZodNanoID",(u,p)=>{gi.init(u,p),Mt.init(u,p)}),Oo=E("ZodCUID",(u,p)=>{wd.init(u,p),Mt.init(u,p)}),Hd=E("ZodCUID2",(u,p)=>{Rc.init(u,p),Mt.init(u,p)}),Qs=E("ZodULID",(u,p)=>{Ed.init(u,p),Mt.init(u,p)}),Jc=E("ZodXID",(u,p)=>{ba.init(u,p),Mt.init(u,p)}),hb=E("ZodKSUID",(u,p)=>{wa.init(u,p),Mt.init(u,p)}),pb=E("ZodIPv4",(u,p)=>{Td.init(u,p),Mt.init(u,p)}),Ro=E("ZodIPv6",(u,p)=>{Wy.init(u,p),Mt.init(u,p)}),gb=E("ZodCIDRv4",(u,p)=>{lp.init(u,p),Mt.init(u,p)}),_b=E("ZodCIDRv6",(u,p)=>{dp.init(u,p),Mt.init(u,p)}),Kp=E("ZodBase64",(u,p)=>{Gy.init(u,p),Mt.init(u,p)}),Qc=E("ZodBase64URL",(u,p)=>{Xy.init(u,p),Mt.init(u,p)}),zr=E("ZodE164",(u,p)=>{Pc.init(u,p),Mt.init(u,p)}),mb=E("ZodJWT",(u,p)=>{hp.init(u,p),Mt.init(u,p)}),eu=E("ZodNumber",(u,p)=>{pp.init(u,p),Ut.init(u,p),u.gt=(F,W)=>u.check(Sa(F,W)),u.gte=(F,W)=>u.check(ys(F,W)),u.min=(F,W)=>u.check(ys(F,W)),u.lt=(F,W)=>u.check(xa(F,W)),u.lte=(F,W)=>u.check(Ao(F,W)),u.max=(F,W)=>u.check(Ao(F,W)),u.int=F=>u.check(tu(F)),u.safe=F=>u.check(tu(F)),u.positive=F=>u.check(Sa(0,F)),u.nonnegative=F=>u.check(ys(0,F)),u.negative=F=>u.check(xa(0,F)),u.nonpositive=F=>u.check(Ao(0,F)),u.multipleOf=(F,W)=>u.check(Zc(F,W)),u.step=(F,W)=>u.check(Zc(F,W)),u.finite=()=>u;const A=u._zod.bag;u.minValue=Math.max(A.minimum??Number.NEGATIVE_INFINITY,A.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,u.maxValue=Math.min(A.maximum??Number.POSITIVE_INFINITY,A.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,u.isInt=(A.format??"").includes("int")||Number.isSafeInteger(A.multipleOf??.5),u.isFinite=!0,u.format=A.format??null});function jd(u){return $d(eu,u)}const yb=E("ZodNumberFormat",(u,p)=>{Nc.init(u,p),eu.init(u,p)});function tu(u){return jc(yb,u)}const Wp=E("ZodBoolean",(u,p)=>{va.init(u,p),Ut.init(u,p)});function bb(u){return Mp(Wp,u)}const ss=E("ZodBigInt",(u,p)=>{Jy.init(u,p),Ut.init(u,p),u.gte=(F,W)=>u.check(ys(F,W)),u.min=(F,W)=>u.check(ys(F,W)),u.gt=(F,W)=>u.check(Sa(F,W)),u.gte=(F,W)=>u.check(ys(F,W)),u.min=(F,W)=>u.check(ys(F,W)),u.lt=(F,W)=>u.check(xa(F,W)),u.lte=(F,W)=>u.check(Ao(F,W)),u.max=(F,W)=>u.check(Ao(F,W)),u.positive=F=>u.check(Sa(BigInt(0),F)),u.negative=F=>u.check(xa(BigInt(0),F)),u.nonpositive=F=>u.check(Ao(BigInt(0),F)),u.nonnegative=F=>u.check(ys(BigInt(0),F)),u.multipleOf=(F,W)=>u.check(Zc(F,W));const A=u._zod.bag;u.minValue=A.minimum??null,u.maxValue=A.maximum??null,u.format=A.format??null});function Vd(u){return Vc(ss,u)}const wb=E("ZodAny",(u,p)=>{Qy.init(u,p),Ut.init(u,p)});function Gp(){return zp(wb)}const Eb=E("ZodUnknown",(u,p)=>{xd.init(u,p),Ut.init(u,p)});function Ai(){return Fp(Eb)}const Po=E("ZodNever",(u,p)=>{gp.init(u,p),Ut.init(u,p)});function Yp(u){return Hp(Po,u)}const nu=E("ZodArray",(u,p)=>{eb.init(u,p),Ut.init(u,p),u.element=p.element,u.min=(A,F)=>u.check(yi(A,F)),u.nonempty=A=>u.check(yi(1,A)),u.max=(A,F)=>u.check(Ud(A,F)),u.length=(A,F)=>u.check(Md(A,F)),u.unwrap=()=>u.element});function Yn(u,p){return zd(nu,u,p)}const Zd=E("ZodObject",(u,p)=>{_i.init(u,p),Ut.init(u,p),Q(u,"shape",()=>p.shape),u.keyof=()=>Kd(Object.keys(u._zod.def.shape)),u.catchall=A=>u.clone({...u._zod.def,catchall:A}),u.passthrough=()=>u.clone({...u._zod.def,catchall:Ai()}),u.loose=()=>u.clone({...u._zod.def,catchall:Ai()}),u.strict=()=>u.clone({...u._zod.def,catchall:Yp()}),u.strip=()=>u.clone({...u._zod.def,catchall:void 0}),u.extend=A=>ve(u,A),u.merge=A=>Pe(u,A),u.pick=A=>Le(u,A),u.omit=A=>de(u,A),u.partial=(...A)=>Re(su,u,A[0]),u.required=(...A)=>ke(Gd,u,A[0])});function wn(u,p){const A={type:"object",get shape(){return X(this,"shape",{...u}),this.shape},...he(p)};return new Zd(A)}const vb=E("ZodUnion",(u,p)=>{Sd.init(u,p),Ut.init(u,p),u.options=p.options});function Ti(u,p){return new vb({type:"union",options:u,...he(p)})}const Xp=E("ZodIntersection",(u,p)=>{tb.init(u,p),Ut.init(u,p)});function qp(u,p){return new Xp({type:"intersection",left:u,right:p})}const Jp=E("ZodTuple",(u,p)=>{nb.init(u,p),Ut.init(u,p),u.rest=A=>u.clone({...u._zod.def,rest:A})});function Fr(u,p,A){const F=p instanceof lt,W=F?A:p,ce=F?p:null;return new Jp({type:"tuple",items:u,rest:ce,...he(W)})}const Qp=E("ZodRecord",(u,p)=>{Id.init(u,p),Ut.init(u,p),u.keyType=p.keyType,u.valueType=p.valueType});function Hr(u,p,A){return new Qp({type:"record",keyType:u,valueType:p,...he(A)})}const wr=E("ZodEnum",(u,p)=>{rb.init(u,p),Ut.init(u,p),u.enum=p.entries,u.options=Object.values(p.entries);const A=new Set(Object.keys(p.entries));u.extract=(F,W)=>{const ce={};for(const Ee of F)if(A.has(Ee))ce[Ee]=p.entries[Ee];else throw new Error(`Key ${Ee} not found in enum`);return new wr({...p,checks:[],...he(W),entries:ce})},u.exclude=(F,W)=>{const ce={...p.entries};for(const Ee of F)if(A.has(Ee))delete ce[Ee];else throw new Error(`Key ${Ee} not found in enum`);return new wr({...p,checks:[],...he(W),entries:ce})}});function Kd(u,p){const A=Array.isArray(u)?Object.fromEntries(u.map(F=>[F,F])):u;return new wr({type:"enum",entries:A,...he(p)})}function Ab(u,p){return new wr({type:"enum",entries:u,...he(p)})}const xi=E("ZodLiteral",(u,p)=>{sb.init(u,p),Ut.init(u,p),u.values=new Set(p.values),Object.defineProperty(u,"value",{get(){if(p.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return p.values[0]}})});function Si(u,p){return new xi({type:"literal",values:Array.isArray(u)?u:[u],...he(p)})}const Ra=E("ZodTransform",(u,p)=>{ob.init(u,p),Ut.init(u,p),u._zod.parse=(A,F)=>{A.addIssue=ce=>{if(typeof ce=="string")A.issues.push(qe(ce,A.value,p));else{const Ee=ce;Ee.fatal&&(Ee.continue=!1),Ee.code??(Ee.code="custom"),Ee.input??(Ee.input=A.value),Ee.inst??(Ee.inst=u),Ee.continue??(Ee.continue=!0),A.issues.push(qe(Ee))}};const W=p.transform(A.value,A);return W instanceof Promise?W.then(ce=>(A.value=ce,A)):(A.value=W,A)}});function ru(u){return new Ra({type:"transform",transform:u})}const su=E("ZodOptional",(u,p)=>{ib.init(u,p),Ut.init(u,p),u.unwrap=()=>u._zod.def.innerType});function ou(u){return new su({type:"optional",innerType:u})}const eg=E("ZodNullable",(u,p)=>{mi.init(u,p),Ut.init(u,p),u.unwrap=()=>u._zod.def.innerType});function Wd(u){return new eg({type:"nullable",innerType:u})}const tg=E("ZodDefault",(u,p)=>{yp.init(u,p),Ut.init(u,p),u.unwrap=()=>u._zod.def.innerType,u.removeDefault=u.unwrap});function ng(u,p){return new tg({type:"default",innerType:u,get defaultValue(){return typeof p=="function"?p():p}})}const rg=E("ZodPrefault",(u,p)=>{bp.init(u,p),Ut.init(u,p),u.unwrap=()=>u._zod.def.innerType});function sg(u,p){return new rg({type:"prefault",innerType:u,get defaultValue(){return typeof p=="function"?p():p}})}const Gd=E("ZodNonOptional",(u,p)=>{wp.init(u,p),Ut.init(u,p),u.unwrap=()=>u._zod.def.innerType});function og(u,p){return new Gd({type:"nonoptional",innerType:u,...he(p)})}const ig=E("ZodCatch",(u,p)=>{kd.init(u,p),Ut.init(u,p),u.unwrap=()=>u._zod.def.innerType,u.removeCatch=u.unwrap});function Yd(u,p){return new ig({type:"catch",innerType:u,catchValue:typeof p=="function"?p:()=>p})}const Xd=E("ZodPipe",(u,p)=>{ab.init(u,p),Ut.init(u,p),u.in=p.in,u.out=p.out});function iu(u,p){return new Xd({type:"pipe",in:u,out:p})}const qd=E("ZodReadonly",(u,p)=>{cb.init(u,p),Ut.init(u,p)});function ag(u){return new qd({type:"readonly",innerType:u})}const Tb=E("ZodCustom",(u,p)=>{Od.init(u,p),Ut.init(u,p)});function xb(u){const p=new In({check:"custom"});return p._zod.check=u,p}function Sb(u,p={}){return rs(Tb,u,p)}function Cb(u){const p=xb(A=>(A.addIssue=F=>{if(typeof F=="string")A.issues.push(qe(F,A.value,p._zod.def));else{const W=F;W.fatal&&(W.continue=!1),W.code??(W.code="custom"),W.input??(W.input=A.value),W.inst??(W.inst=p),W.continue??(W.continue=!p._zod.def.abort),A.issues.push(qe(W))}},u(A.value,A)));return p}const cg=/^0x[0-9a-f]+$/i,ug=/^\d+$/,Ib=at().min(1,"The short string cannot be empty").max(31,"The short string cannot exceed 31 characters").refine(u=>!cg.test(u),"The shortString should not be a hex string").refine(u=>!ug.test(u),"The shortString should not be an integer string"),Er=Ti([at().regex(cg,"Only hex, integers and bigint are supported in calldata"),at().regex(ug,"Only hex, integers and bigint are supported in calldata"),Ib,jd().int("Only hex, integers and bigint are supported in calldata"),Vd()]),Ci=wn({contractAddress:at(),entrypoint:at(),calldata:Yn(Er.or(Yn(Er))).optional()}),Pa=Yn(Ci).nonempty(),Jd=wn({types:Hr(at(),Yn(Ti([wn({name:at(),type:Si("merkletree"),contains:at()}),wn({name:at(),type:Si("enum"),contains:at()}),wn({name:at(),type:at()})]))),primaryType:at(),domain:Hr(at(),Ai()),message:Hr(at(),Ai())}),au=wn({type:Si("ERC20"),options:wn({address:at(),symbol:at().optional(),decimals:jd().optional(),image:at().optional(),name:at().optional()})}),No=Ti([wn({id:at(),chain_id:at(),chain_name:at(),rpc_urls:Yn(at()).optional(),native_currency:au.optional(),block_explorer_url:Yn(at()).optional()}),wn({id:at(),chainId:at(),chainName:at(),rpcUrls:Yn(at()).optional(),nativeCurrency:au.optional(),blockExplorerUrl:Yn(at()).optional()}).transform(u=>({id:u.id,chain_id:u.chainId,chain_name:u.chainName,rpc_urls:u.rpcUrls,native_currency:u.nativeCurrency,block_explorer_url:u.blockExplorerUrl}))]),lg={enable:Fr([wn({starknetVersion:Ti([Si("v3"),Si("v4"),Si("v5")]).optional()}).optional()]).or(Fr([])),addStarknetChain:Fr([No]),switchStarknetChain:Fr([wn({chainId:at()})]),watchAsset:Fr([au]),requestAccounts:Fr([wn({silent_mode:bb().optional()})]),execute:Fr([Pa.or(Ci),wn({nonce:Er.optional(),maxFee:Er.optional(),version:Er.optional()}).optional()]),signMessage:Fr([Jd])},kb={execute:Fr([Pa.or(Ci),wn({nonce:Er.optional(),maxFee:Er.optional(),version:Er.optional()}).optional()]).or(Fr([Pa.or(Ci),Yn(Gp()).optional(),wn({nonce:Er.optional(),maxFee:Er.optional(),version:Er.optional()}).optional()]))},dg=wn({contract_address:at(),entry_point:at(),calldata:Yn(Er).optional()}).transform(({contract_address:u,entry_point:p,calldata:A})=>({contractAddress:u,entrypoint:p,calldata:A||[]})),fg=Yn(dg).nonempty(),hg={ZERO:0,ONE:1},Ob=wn({address:at(),class_hash:at(),salt:at(),calldata:Yn(at()),sigdata:Yn(at()).optional(),version:Ab(hg)})},93893:(M,P,m)=>{"use strict";m.d(P,{A:()=>R});var S=m(56776),E=m(61630),I=m(4169),O=m(33189),D=m(24333);function N(T){var U=-1,H=T==null?0:T.length;for(this.clear();++U<H;){var G=T[U];this.set(G[0],G[1])}}N.prototype.clear=S.A,N.prototype.delete=E.A,N.prototype.get=I.A,N.prototype.has=O.A,N.prototype.set=D.A;const R=N},80487:(M,P,m)=>{"use strict";m.d(P,{A:()=>R});var S=m(24302),E=m(23720),I=m(35787),O=m(58119),D=m(30927);function N(T){var U=-1,H=T==null?0:T.length;for(this.clear();++U<H;){var G=T[U];this.set(G[0],G[1])}}N.prototype.clear=S.A,N.prototype.delete=E.A,N.prototype.get=I.A,N.prototype.has=O.A,N.prototype.set=D.A;const R=N},62615:(M,P,m)=>{"use strict";m.d(P,{A:()=>O});var S=m(7542),E=m(83077),I=(0,S.A)(E.A,"Map");const O=I},18261:(M,P,m)=>{"use strict";m.d(P,{A:()=>R});var S=m(33240),E=m(9646),I=m(79225),O=m(65333),D=m(29597);function N(T){var U=-1,H=T==null?0:T.length;for(this.clear();++U<H;){var G=T[U];this.set(G[0],G[1])}}N.prototype.clear=S.A,N.prototype.delete=E.A,N.prototype.get=I.A,N.prototype.has=O.A,N.prototype.set=D.A;const R=N},24633:(M,P,m)=>{"use strict";m.d(P,{A:()=>I});var S=m(83077),E=S.A.Symbol;const I=E},44239:(M,P,m)=>{"use strict";m.d(P,{A:()=>H});var S=m(75064),E=m(15716),I=m(91689),O=m(54032),D=m(19329),N=m(56407),R=Object.prototype,T=R.hasOwnProperty;function U(G,Q){var X=(0,I.A)(G),V=!X&&(0,E.A)(G),se=!X&&!V&&(0,O.A)(G),ue=!X&&!V&&!se&&(0,N.A)(G),ae=X||V||se||ue,te=ae?(0,S.A)(G.length,String):[],re=te.length;for(var ye in G)(Q||T.call(G,ye))&&!(ae&&(ye=="length"||se&&(ye=="offset"||ye=="parent")||ue&&(ye=="buffer"||ye=="byteLength"||ye=="byteOffset")||(0,D.A)(ye,re)))&&te.push(ye);return te}const H=U},30828:(M,P,m)=>{"use strict";m.d(P,{A:()=>E});function S(I,O){for(var D=-1,N=I==null?0:I.length,R=Array(N);++D<N;)R[D]=O(I[D],D,I);return R}const E=S},26897:(M,P,m)=>{"use strict";m.d(P,{A:()=>I});var S=m(44336);function E(O,D){for(var N=O.length;N--;)if((0,S.A)(O[N][0],D))return N;return-1}const I=E},29408:(M,P,m)=>{"use strict";m.d(P,{A:()=>T});var S=m(24633),E=m(76187),I=m(38910),O="[object Null]",D="[object Undefined]",N=S.A?S.A.toStringTag:void 0;function R(U){return U==null?U===void 0?D:O:N&&N in Object(U)?(0,E.A)(U):(0,I.A)(U)}const T=R},8934:(M,P,m)=>{"use strict";m.d(P,{A:()=>D});var S=m(29408),E=m(45074),I="[object Arguments]";function O(N){return(0,E.A)(N)&&(0,S.A)(N)==I}const D=O},98211:(M,P,m)=>{"use strict";m.d(P,{A:()=>X});var S=m(96770),E=m(50408),I=m(20997),O=m(51465),D=/[\\^$.*+?()[\]{}|]/g,N=/^\[object .+?Constructor\]$/,R=Function.prototype,T=Object.prototype,U=R.toString,H=T.hasOwnProperty,G=RegExp("^"+U.call(H).replace(D,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Q(V){if(!(0,I.A)(V)||(0,E.A)(V))return!1;var se=(0,S.A)(V)?G:N;return se.test((0,O.A)(V))}const X=Q},18093:(M,P,m)=>{"use strict";m.d(P,{A:()=>ke});var S=m(29408),E=m(67246),I=m(45074),O="[object Arguments]",D="[object Array]",N="[object Boolean]",R="[object Date]",T="[object Error]",U="[object Function]",H="[object Map]",G="[object Number]",Q="[object Object]",X="[object RegExp]",V="[object Set]",se="[object String]",ue="[object WeakMap]",ae="[object ArrayBuffer]",te="[object DataView]",re="[object Float32Array]",ye="[object Float64Array]",Ce="[object Int8Array]",he="[object Int16Array]",We="[object Int32Array]",ze="[object Uint8Array]",Le="[object Uint8ClampedArray]",de="[object Uint16Array]",ve="[object Uint32Array]",Pe={};Pe[re]=Pe[ye]=Pe[Ce]=Pe[he]=Pe[We]=Pe[ze]=Pe[Le]=Pe[de]=Pe[ve]=!0,Pe[O]=Pe[D]=Pe[ae]=Pe[N]=Pe[te]=Pe[R]=Pe[T]=Pe[U]=Pe[H]=Pe[G]=Pe[Q]=Pe[X]=Pe[V]=Pe[se]=Pe[ue]=!1;function Re(we){return(0,I.A)(we)&&(0,E.A)(we.length)&&!!Pe[(0,S.A)(we)]}const ke=Re},82608:(M,P,m)=>{"use strict";m.d(P,{A:()=>N});var S=m(23759),E=m(36346),I=Object.prototype,O=I.hasOwnProperty;function D(R){if(!(0,S.A)(R))return(0,E.A)(R);var T=[];for(var U in Object(R))O.call(R,U)&&U!="constructor"&&T.push(U);return T}const N=D},75064:(M,P,m)=>{"use strict";m.d(P,{A:()=>E});function S(I,O){for(var D=-1,N=Array(I);++D<I;)N[D]=O(D);return N}const E=S},34573:(M,P,m)=>{"use strict";m.d(P,{A:()=>E});function S(I){return function(O){return I(O)}}const E=S},49047:(M,P,m)=>{"use strict";m.d(P,{A:()=>E});function S(I,O){var D=-1,N=I.length;for(O||(O=Array(N));++D<N;)O[D]=I[D];return O}const E=S},59441:(M,P,m)=>{"use strict";m.d(P,{A:()=>I});var S=m(83077),E=S.A["__core-js_shared__"];const I=E},42752:(M,P,m)=>{"use strict";m.d(P,{A:()=>E});var S=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;const E=S},32595:(M,P,m)=>{"use strict";m.d(P,{A:()=>I});var S=m(70066);function E(O,D){var N=O.__data__;return(0,S.A)(D)?N[typeof D=="string"?"string":"hash"]:N.map}const I=E},7542:(M,P,m)=>{"use strict";m.d(P,{A:()=>O});var S=m(98211),E=m(90752);function I(D,N){var R=(0,E.A)(D,N);return(0,S.A)(R)?R:void 0}const O=I},76187:(M,P,m)=>{"use strict";m.d(P,{A:()=>R});var S=m(24633),E=Object.prototype,I=E.hasOwnProperty,O=E.toString,D=S.A?S.A.toStringTag:void 0;function N(T){var U=I.call(T,D),H=T[D];try{T[D]=void 0;var G=!0}catch{}var Q=O.call(T);return G&&(U?T[D]=H:delete T[D]),Q}const R=N},90752:(M,P,m)=>{"use strict";m.d(P,{A:()=>E});function S(I,O){return I?.[O]}const E=S},56776:(M,P,m)=>{"use strict";m.d(P,{A:()=>I});var S=m(83402);function E(){this.__data__=S.A?(0,S.A)(null):{},this.size=0}const I=E},61630:(M,P,m)=>{"use strict";m.d(P,{A:()=>E});function S(I){var O=this.has(I)&&delete this.__data__[I];return this.size-=O?1:0,O}const E=S},4169:(M,P,m)=>{"use strict";m.d(P,{A:()=>N});var S=m(83402),E="__lodash_hash_undefined__",I=Object.prototype,O=I.hasOwnProperty;function D(R){var T=this.__data__;if(S.A){var U=T[R];return U===E?void 0:U}return O.call(T,R)?T[R]:void 0}const N=D},33189:(M,P,m)=>{"use strict";m.d(P,{A:()=>D});var S=m(83402),E=Object.prototype,I=E.hasOwnProperty;function O(N){var R=this.__data__;return S.A?R[N]!==void 0:I.call(R,N)}const D=O},24333:(M,P,m)=>{"use strict";m.d(P,{A:()=>O});var S=m(83402),E="__lodash_hash_undefined__";function I(D,N){var R=this.__data__;return this.size+=this.has(D)?0:1,R[D]=S.A&&N===void 0?E:N,this}const O=I},19329:(M,P,m)=>{"use strict";m.d(P,{A:()=>O});var S=9007199254740991,E=/^(?:0|[1-9]\d*)$/;function I(D,N){var R=typeof D;return N=N??S,!!N&&(R=="number"||R!="symbol"&&E.test(D))&&D>-1&&D%1==0&&D<N}const O=I},70066:(M,P,m)=>{"use strict";m.d(P,{A:()=>E});function S(I){var O=typeof I;return O=="string"||O=="number"||O=="symbol"||O=="boolean"?I!=="__proto__":I===null}const E=S},50408:(M,P,m)=>{"use strict";m.d(P,{A:()=>O});var S=m(59441),E=function(){var D=/[^.]+$/.exec(S.A&&S.A.keys&&S.A.keys.IE_PROTO||"");return D?"Symbol(src)_1."+D:""}();function I(D){return!!E&&E in D}const O=I},23759:(M,P,m)=>{"use strict";m.d(P,{A:()=>I});var S=Object.prototype;function E(O){var D=O&&O.constructor,N=typeof D=="function"&&D.prototype||S;return O===N}const I=E},24302:(M,P,m)=>{"use strict";m.d(P,{A:()=>E});function S(){this.__data__=[],this.size=0}const E=S},23720:(M,P,m)=>{"use strict";m.d(P,{A:()=>D});var S=m(26897),E=Array.prototype,I=E.splice;function O(N){var R=this.__data__,T=(0,S.A)(R,N);if(T<0)return!1;var U=R.length-1;return T==U?R.pop():I.call(R,T,1),--this.size,!0}const D=O},35787:(M,P,m)=>{"use strict";m.d(P,{A:()=>I});var S=m(26897);function E(O){var D=this.__data__,N=(0,S.A)(D,O);return N<0?void 0:D[N][1]}const I=E},58119:(M,P,m)=>{"use strict";m.d(P,{A:()=>I});var S=m(26897);function E(O){return(0,S.A)(this.__data__,O)>-1}const I=E},30927:(M,P,m)=>{"use strict";m.d(P,{A:()=>I});var S=m(26897);function E(O,D){var N=this.__data__,R=(0,S.A)(N,O);return R<0?(++this.size,N.push([O,D])):N[R][1]=D,this}const I=E},33240:(M,P,m)=>{"use strict";m.d(P,{A:()=>D});var S=m(93893),E=m(80487),I=m(62615);function O(){this.size=0,this.__data__={hash:new S.A,map:new(I.A||E.A),string:new S.A}}const D=O},9646:(M,P,m)=>{"use strict";m.d(P,{A:()=>I});var S=m(32595);function E(O){var D=(0,S.A)(this,O).delete(O);return this.size-=D?1:0,D}const I=E},79225:(M,P,m)=>{"use strict";m.d(P,{A:()=>I});var S=m(32595);function E(O){return(0,S.A)(this,O).get(O)}const I=E},65333:(M,P,m)=>{"use strict";m.d(P,{A:()=>I});var S=m(32595);function E(O){return(0,S.A)(this,O).has(O)}const I=E},29597:(M,P,m)=>{"use strict";m.d(P,{A:()=>I});var S=m(32595);function E(O,D){var N=(0,S.A)(this,O),R=N.size;return N.set(O,D),this.size+=N.size==R?0:1,this}const I=E},83402:(M,P,m)=>{"use strict";m.d(P,{A:()=>I});var S=m(7542),E=(0,S.A)(Object,"create");const I=E},36346:(M,P,m)=>{"use strict";m.d(P,{A:()=>I});var S=m(54327),E=(0,S.A)(Object.keys,Object);const I=E},43985:(M,P,m)=>{"use strict";m.d(P,{A:()=>R});var S=m(42752),E=typeof mo=="object"&&mo&&!mo.nodeType&&mo,I=E&&typeof yo=="object"&&yo&&!yo.nodeType&&yo,O=I&&I.exports===E,D=O&&S.A.process,N=function(){try{var T=I&&I.require&&I.require("util").types;return T||D&&D.binding&&D.binding("util")}catch{}}();const R=N},38910:(M,P,m)=>{"use strict";m.d(P,{A:()=>O});var S=Object.prototype,E=S.toString;function I(D){return E.call(D)}const O=I},54327:(M,P,m)=>{"use strict";m.d(P,{A:()=>E});function S(I,O){return function(D){return I(O(D))}}const E=S},83077:(M,P,m)=>{"use strict";m.d(P,{A:()=>O});var S=m(42752),E=typeof self=="object"&&self&&self.Object===Object&&self,I=S.A||E||Function("return this")();const O=I},51465:(M,P,m)=>{"use strict";m.d(P,{A:()=>O});var S=Function.prototype,E=S.toString;function I(D){if(D!=null){try{return E.call(D)}catch{}try{return D+""}catch{}}return""}const O=I},44336:(M,P,m)=>{"use strict";m.d(P,{A:()=>E});function S(I,O){return I===O||I!==I&&O!==O}const E=S},15716:(M,P,m)=>{"use strict";m.d(P,{A:()=>R});var S=m(8934),E=m(45074),I=Object.prototype,O=I.hasOwnProperty,D=I.propertyIsEnumerable,N=(0,S.A)(function(){return arguments}())?S.A:function(T){return(0,E.A)(T)&&O.call(T,"callee")&&!D.call(T,"callee")};const R=N},91689:(M,P,m)=>{"use strict";m.d(P,{A:()=>E});var S=Array.isArray;const E=S},16566:(M,P,m)=>{"use strict";m.d(P,{A:()=>O});var S=m(96770),E=m(67246);function I(D){return D!=null&&(0,E.A)(D.length)&&!(0,S.A)(D)}const O=I},54032:(M,P,m)=>{"use strict";m.d(P,{A:()=>U});var S=m(83077),E=m(71879),I=typeof mo=="object"&&mo&&!mo.nodeType&&mo,O=I&&typeof yo=="object"&&yo&&!yo.nodeType&&yo,D=O&&O.exports===I,N=D?S.A.Buffer:void 0,R=N?N.isBuffer:void 0,T=R||E.A;const U=T},96770:(M,P,m)=>{"use strict";m.d(P,{A:()=>T});var S=m(29408),E=m(20997),I="[object AsyncFunction]",O="[object Function]",D="[object GeneratorFunction]",N="[object Proxy]";function R(U){if(!(0,E.A)(U))return!1;var H=(0,S.A)(U);return H==O||H==D||H==I||H==N}const T=R},67246:(M,P,m)=>{"use strict";m.d(P,{A:()=>I});var S=9007199254740991;function E(O){return typeof O=="number"&&O>-1&&O%1==0&&O<=S}const I=E},20997:(M,P,m)=>{"use strict";m.d(P,{A:()=>E});function S(I){var O=typeof I;return I!=null&&(O=="object"||O=="function")}const E=S},45074:(M,P,m)=>{"use strict";m.d(P,{A:()=>E});function S(I){return I!=null&&typeof I=="object"}const E=S},56407:(M,P,m)=>{"use strict";m.d(P,{A:()=>N});var S=m(18093),E=m(34573),I=m(43985),O=I.A&&I.A.isTypedArray,D=O?(0,E.A)(O):S.A;const N=D},47686:(M,P,m)=>{"use strict";m.d(P,{A:()=>D});var S=m(44239),E=m(82608),I=m(16566);function O(N){return(0,I.A)(N)?(0,S.A)(N):(0,E.A)(N)}const D=O},95056:(M,P,m)=>{"use strict";m.d(P,{A:()=>O});var S=m(18261),E="Expected a function";function I(D,N){if(typeof D!="function"||N!=null&&typeof N!="function")throw new TypeError(E);var R=function(){var T=arguments,U=N?N.apply(this,T):T[0],H=R.cache;if(H.has(U))return H.get(U);var G=D.apply(this,T);return R.cache=H.set(U,G)||H,G};return R.cache=new(I.Cache||S.A),R}I.Cache=S.A;const O=I},71879:(M,P,m)=>{"use strict";m.d(P,{A:()=>E});function S(){return!1}const E=S}},bn={};function Be(M){var P=bn[M];if(P!==void 0)return P.exports;var m=bn[M]={exports:{}};return fn[M].call(m.exports,m,m.exports,Be),m.exports}Be.m=fn,Be.n=M=>{var P=M&&M.__esModule?()=>M.default:()=>M;return Be.d(P,{a:P}),P},Be.d=(M,P)=>{for(var m in P)Be.o(P,m)&&!Be.o(M,m)&&Object.defineProperty(M,m,{enumerable:!0,get:P[m]})},Be.f={},Be.e=M=>Promise.all(Object.keys(Be.f).reduce((P,m)=>(Be.f[m](M,P),P),[])),Be.u=M=>""+M+".js",Be.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Be.o=(M,P)=>Object.prototype.hasOwnProperty.call(M,P),(()=>{var M={},P="@argent-x/extension:";Be.l=(m,S,E,I)=>{if(M[m]){M[m].push(S);return}var O,D;if(E!==void 0)for(var N=document.getElementsByTagName("script"),R=0;R<N.length;R++){var T=N[R];if(T.getAttribute("src")==m||T.getAttribute("data-webpack")==P+E){O=T;break}}O||(D=!0,O=document.createElement("script"),O.charset="utf-8",O.timeout=120,Be.nc&&O.setAttribute("nonce",Be.nc),O.setAttribute("data-webpack",P+E),O.src=m),M[m]=[S];var U=(G,Q)=>{O.onerror=O.onload=null,clearTimeout(H);var X=M[m];if(delete M[m],O.parentNode&&O.parentNode.removeChild(O),X&&X.forEach(V=>V(Q)),G)return G(Q)},H=setTimeout(U.bind(null,void 0,{type:"timeout",target:O}),12e4);O.onerror=U.bind(null,O.onerror),O.onload=U.bind(null,O.onload),D&&document.head.appendChild(O)}})(),Be.r=M=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(M,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(M,"__esModule",{value:!0})},Be.j=727,(()=>{var M;Be.g.importScripts&&(M=Be.g.location+"");var P=Be.g.document;if(!M&&P&&(P.currentScript&&P.currentScript.tagName.toUpperCase()==="SCRIPT"&&(M=P.currentScript.src),!M)){var m=P.getElementsByTagName("script");if(m.length)for(var S=m.length-1;S>-1&&(!M||!/^http(s?):/.test(M));)M=m[S--].src}if(!M)throw new Error("Automatic publicPath is not supported in this browser");M=M.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),Be.p=M})(),(()=>{var M={727:0};Be.f.j=(S,E)=>{var I=Be.o(M,S)?M[S]:void 0;if(I!==0)if(I)E.push(I[2]);else{var O=new Promise((T,U)=>I=M[S]=[T,U]);E.push(I[2]=O);var D=Be.p+Be.u(S),N=new Error,R=T=>{if(Be.o(M,S)&&(I=M[S],I!==0&&(M[S]=void 0),I)){var U=T&&(T.type==="load"?"missing":T.type),H=T&&T.target&&T.target.src;N.message="Loading chunk "+S+` failed.
(`+U+": "+H+")",N.name="ChunkLoadError",N.type=U,N.request=H,I[1](N)}};Be.l(D,R,"chunk-"+S,S)}};var P=(S,E)=>{var[I,O,D]=E,N,R,T=0;if(I.some(H=>M[H]!==0)){for(N in O)Be.o(O,N)&&(Be.m[N]=O[N]);if(D)var U=D(Be)}for(S&&S(E);T<I.length;T++)R=I[T],Be.o(M,R)&&M[R]&&M[R][0](),M[R]=0},m=self.webpackChunk_argent_x_extension=self.webpackChunk_argent_x_extension||[];m.forEach(P.bind(null,0)),m.push=P.bind(null,m.push.bind(m))})();var nM={};(()=>{"use strict";var Vs,Zs,hs,ps,pr;var M={};Be.r(M);var P={};Be.r(P),Be.d(P,{ABI_TYPE_CONSTRUCTOR:()=>Ze,ABI_TYPE_ENUM:()=>qe,ABI_TYPE_FUNCTION:()=>De,ABI_TYPE_L1_HANDLER:()=>$e,CALL_TYPE:()=>Gs,CONTRACT:()=>M,EBlockTag:()=>Gt,EDAMode:()=>Pt,EDataAvailabilityMode:()=>kt,ESimulationFlag:()=>mr,ETransactionExecutionStatus:()=>Tt,ETransactionFinalityStatus:()=>un,ETransactionStatus:()=>Un,ETransactionType:()=>$n,ETransactionVersion:()=>mt,ETransactionVersion2:()=>yr,ETransactionVersion3:()=>nn,EVENT_ABI_TYPE:()=>Ae,L1_DA_MODE:()=>Ws,PRICE_UNIT_FRI:()=>$r,PRICE_UNIT_WEI:()=>Wt,STATE_MUTABILITY_EXTERNAL:()=>At,STATE_MUTABILITY_VIEW:()=>Et,STATUS_ACCEPTED_ON_L1:()=>ye,STATUS_ACCEPTED_ON_L2:()=>re,STATUS_PENDING:()=>We,STATUS_RECEIVED:()=>Le,STATUS_REJECTED:()=>ze,STATUS_REVERTED:()=>he,STATUS_SUCCEEDED:()=>Ce,STRUCT_ABI_TYPE:()=>we,TXN_TYPE_DECLARE:()=>de,TXN_TYPE_DEPLOY:()=>ve,TXN_TYPE_DEPLOY_ACCOUNT:()=>Pe,TXN_TYPE_INVOKE:()=>Re,TXN_TYPE_L1_HANDLER:()=>ke});var m={};Be.r(m),Be.d(m,{Permission:()=>br,TypedDataRevision:()=>ms});var S={};Be.r(S);var E={};Be.r(E),Be.d(E,{ABI_TYPE_CONSTRUCTOR:()=>Ze,ABI_TYPE_ENUM:()=>qe,ABI_TYPE_FUNCTION:()=>De,ABI_TYPE_L1_HANDLER:()=>$e,API:()=>P,CALL_TYPE:()=>Gs,CONTRACT:()=>M,EBlockTag:()=>Gt,EDAMode:()=>Pt,EDataAvailabilityMode:()=>kt,ESimulationFlag:()=>mr,ETransactionExecutionStatus:()=>Tt,ETransactionFinalityStatus:()=>un,ETransactionStatus:()=>Un,ETransactionType:()=>$n,ETransactionVersion:()=>mt,ETransactionVersion2:()=>yr,ETransactionVersion3:()=>nn,EVENT_ABI_TYPE:()=>Ae,L1_DA_MODE:()=>Ws,PAYMASTER_API:()=>S,PRICE_UNIT_FRI:()=>$r,PRICE_UNIT_WEI:()=>Wt,Permission:()=>br,STATE_MUTABILITY_EXTERNAL:()=>At,STATE_MUTABILITY_VIEW:()=>Et,STATUS_ACCEPTED_ON_L1:()=>ye,STATUS_ACCEPTED_ON_L2:()=>re,STATUS_PENDING:()=>We,STATUS_RECEIVED:()=>Le,STATUS_REJECTED:()=>ze,STATUS_REVERTED:()=>he,STATUS_SUCCEEDED:()=>Ce,STRUCT_ABI_TYPE:()=>we,TXN_TYPE_DECLARE:()=>de,TXN_TYPE_DEPLOY:()=>ve,TXN_TYPE_DEPLOY_ACCOUNT:()=>Pe,TXN_TYPE_INVOKE:()=>Re,TXN_TYPE_L1_HANDLER:()=>ke,TypedDataRevision:()=>ms,WALLET_API:()=>m});var I={};Be.r(I);var O={};Be.r(O),Be.d(O,{ABI_TYPE_CONSTRUCTOR:()=>Nt,ABI_TYPE_ENUM:()=>Bt,ABI_TYPE_FUNCTION:()=>rt,ABI_TYPE_L1_HANDLER:()=>St,CALL_TYPE:()=>In,CONTRACT:()=>I,EBlockStatus:()=>fd,EBlockTag:()=>dd,EDAMode:()=>pi,EDataAvailabilityMode:()=>hd,ESimulationFlag:()=>bo,ETransactionExecutionStatus:()=>ld,ETransactionFinalityStatus:()=>ma,ETransactionStatus:()=>Ic,ETransactionType:()=>_a,ETransactionVersion:()=>Mr,ETransactionVersion2:()=>pd,ETransactionVersion3:()=>gd,EVENT_ABI_TYPE:()=>Te,L1_DA_MODE:()=>ud,PRICE_UNIT_FRI:()=>cd,PRICE_UNIT_WEI:()=>ad,STATE_MUTABILITY_EXTERNAL:()=>id,STATE_MUTABILITY_VIEW:()=>yt,STATUS_ACCEPTED_ON_L1:()=>Mn,STATUS_ACCEPTED_ON_L2:()=>Wn,STATUS_CANDIDATE:()=>Ur,STATUS_PRE_CONFIRMED:()=>Cn,STATUS_PRE_CONFIRMED_LOWERCASE:()=>hi,STATUS_RECEIVED:()=>sr,STATUS_REVERTED:()=>rn,STATUS_SUCCEEDED:()=>ln,STRUCT_ABI_TYPE:()=>ge,TXN_TYPE_DECLARE:()=>j,TXN_TYPE_DEPLOY:()=>v,TXN_TYPE_DEPLOY_ACCOUNT:()=>C,TXN_TYPE_INVOKE:()=>Y,TXN_TYPE_L1_HANDLER:()=>oe});var D={};Be.r(D),Be.d(D,{Permission:()=>_d,TypedDataRevision:()=>md});var N={};Be.r(N);var R={};Be.r(R),Be.d(R,{ABI_TYPE_CONSTRUCTOR:()=>Nt,ABI_TYPE_ENUM:()=>Bt,ABI_TYPE_FUNCTION:()=>rt,ABI_TYPE_L1_HANDLER:()=>St,API:()=>O,CALL_TYPE:()=>In,CONTRACT:()=>I,EBlockStatus:()=>fd,EBlockTag:()=>dd,EDAMode:()=>pi,EDataAvailabilityMode:()=>hd,ESimulationFlag:()=>bo,ETransactionExecutionStatus:()=>ld,ETransactionFinalityStatus:()=>ma,ETransactionStatus:()=>Ic,ETransactionType:()=>_a,ETransactionVersion:()=>Mr,ETransactionVersion2:()=>pd,ETransactionVersion3:()=>gd,EVENT_ABI_TYPE:()=>Te,L1_DA_MODE:()=>ud,PAYMASTER_API:()=>N,PRICE_UNIT_FRI:()=>cd,PRICE_UNIT_WEI:()=>ad,Permission:()=>_d,STATE_MUTABILITY_EXTERNAL:()=>id,STATE_MUTABILITY_VIEW:()=>yt,STATUS_ACCEPTED_ON_L1:()=>Mn,STATUS_ACCEPTED_ON_L2:()=>Wn,STATUS_CANDIDATE:()=>Ur,STATUS_PRE_CONFIRMED:()=>Cn,STATUS_PRE_CONFIRMED_LOWERCASE:()=>hi,STATUS_RECEIVED:()=>sr,STATUS_REVERTED:()=>rn,STATUS_SUCCEEDED:()=>ln,STRUCT_ABI_TYPE:()=>ge,TXN_TYPE_DECLARE:()=>j,TXN_TYPE_DEPLOY:()=>v,TXN_TYPE_DEPLOY_ACCOUNT:()=>C,TXN_TYPE_INVOKE:()=>Y,TXN_TYPE_L1_HANDLER:()=>oe,TypedDataRevision:()=>md,WALLET_API:()=>D});var T={};Be.r(T),Be.d(T,{aK:()=>Js,e8:()=>To,DO:()=>bi,dJ:()=>Fd,OG:()=>Ei,My:()=>ts,Ph:()=>On,lX:()=>Kc,Id:()=>Co,fg:()=>Mt,qj:()=>or,aT:()=>rs,ME:()=>ka,r4:()=>Oa,aY:()=>qs,x:()=>qc,lq:()=>So,z:()=>Wc,zW:()=>xo,IV:()=>Gc,Q5:()=>ko});var U={};Be.r(U),Be.d(U,{poseidon:()=>Db,splitConstants:()=>yI,validateOpts:()=>Bb});var H={};Be.r(H),Be.d(H,{DER:()=>os,SWUFpSqrtRatio:()=>Vb,mapToCurveSimpleSWU:()=>xI,weierstrass:()=>wg,weierstrassPoints:()=>jb});var G={};Be.r(G),Be.d(G,{CURVE:()=>kI,Fp251:()=>ow,MAX_VALUE:()=>ki,ProjectivePoint:()=>Ba,Signature:()=>Ri,_poseidonMDS:()=>iw,_starkCurve:()=>CI,computeHashOnElements:()=>LI,ethSigToPrivate:()=>OI,getAccountPath:()=>PI,getPublicKey:()=>Eg,getSharedSecret:()=>II,getStarkKey:()=>Tg,grindKey:()=>nw,keccak:()=>Do,normalizePrivateKey:()=>of,pedersen:()=>Da,poseidonBasic:()=>Cg,poseidonCreate:()=>MI,poseidonHash:()=>Ig,poseidonHashFunc:()=>zI,poseidonHashMany:()=>En,poseidonHashSingle:()=>FI,poseidonSmall:()=>fu,sign:()=>Qb,utils:()=>vg,verify:()=>ew});var Q={};Be.r(Q),Be.d(Q,{OG:()=>Ih,My:()=>ti,Ph:()=>rr,lX:()=>w0,Id:()=>fc,fg:()=>aS,qj:()=>Xr,aT:()=>ni,ME:()=>Ch,aY:()=>zs,lq:()=>dc,z:()=>E0,IV:()=>v0,Q5:()=>Dl});var X={};Be.r(X),Be.d(X,{poseidon:()=>RS,splitConstants:()=>F5,validateOpts:()=>OS});var V={};Be.r(V),Be.d(V,{DER:()=>fo,SWUFpSqrtRatio:()=>LS,mapToCurveSimpleSWU:()=>G5,weierstrass:()=>DS,weierstrassPoints:()=>BS});var se={};Be.r(se),Be.d(se,{CURVE:()=>J5,Fp251:()=>XS,MAX_VALUE:()=>ca,ProjectivePoint:()=>gc,Signature:()=>Bh,_poseidonMDS:()=>qS,_starkCurve:()=>Y5,computeHashOnElements:()=>o$,ethSigToPrivate:()=>Q5,getAccountPath:()=>t$,getPublicKey:()=>jS,getSharedSecret:()=>X5,getStarkKey:()=>$0,grindKey:()=>WS,keccak:()=>_c,pedersen:()=>Hl,poseidonBasic:()=>z0,poseidonCreate:()=>c$,poseidonHash:()=>F0,poseidonHashFunc:()=>u$,poseidonHashMany:()=>ho,poseidonHashSingle:()=>l$,poseidonSmall:()=>jl,sign:()=>zl,utils:()=>D0,verify:()=>q5});const ue=e=>{};var ae=Be(21956),te=Be.n(ae);const re="ACCEPTED_ON_L2",ye="ACCEPTED_ON_L1",Ce="SUCCEEDED",he="REVERTED",We="PENDING",ze="REJECTED",Le="RECEIVED",de="DECLARE",ve="DEPLOY",Pe="DEPLOY_ACCOUNT",Re="INVOKE",ke="L1_HANDLER",we="struct",Ae="event",De="function",Ze="constructor",$e="l1_handler",qe="enum",Et="view",At="external",Wt="WEI",$r="FRI",Ws={BLOB:"BLOB",CALLDATA:"CALLDATA"},Gs={DELEGATE:"DELEGATE",LIBRARY_CALL:"LIBRARY_CALL",CALL:"CALL"},$n={DECLARE:de,DEPLOY:ve,DEPLOY_ACCOUNT:Pe,INVOKE:Re,L1_HANDLER:ke},mr={SKIP_VALIDATE:"SKIP_VALIDATE",SKIP_FEE_CHARGE:"SKIP_FEE_CHARGE"},Un={RECEIVED:Le,REJECTED:ze,ACCEPTED_ON_L2:re,ACCEPTED_ON_L1:ye},un={ACCEPTED_ON_L2:re,ACCEPTED_ON_L1:ye},Tt={SUCCEEDED:Ce,REVERTED:he},Gt={LATEST:"latest",PENDING:"pending"},kt={L1:"L1",L2:"L2"},Pt={L1:0,L2:1},mt={V0:"0x0",V1:"0x1",V2:"0x2",V3:"0x3",F0:"0x100000000000000000000000000000000",F1:"0x100000000000000000000000000000001",F2:"0x100000000000000000000000000000002",F3:"0x100000000000000000000000000000003"},yr={V0:mt.V0,V1:mt.V1,V2:mt.V2,F0:mt.F0,F1:mt.F1,F2:mt.F2},nn={V3:mt.V3,F3:mt.F3},br={ACCOUNTS:"accounts"},ms={ACTIVE:"1",LEGACY:"0"},Wn="ACCEPTED_ON_L2",Mn="ACCEPTED_ON_L1",ln="SUCCEEDED",rn="REVERTED",sr="RECEIVED",Ur="CANDIDATE",Cn="PRE_CONFIRMED",hi=Cn.toLowerCase(),j="DECLARE",v="DEPLOY",C="DEPLOY_ACCOUNT",Y="INVOKE",oe="L1_HANDLER",ge="struct",Te="event",rt="function",Nt="constructor",St="l1_handler",Bt="enum",yt="view",id="external",ad="WEI",cd="FRI",ud={BLOB:"BLOB",CALLDATA:"CALLDATA"},In={DELEGATE:"DELEGATE",LIBRARY_CALL:"LIBRARY_CALL",CALL:"CALL"},_a={DECLARE:j,DEPLOY:v,DEPLOY_ACCOUNT:C,INVOKE:Y,L1_HANDLER:oe},bo={SKIP_VALIDATE:"SKIP_VALIDATE",SKIP_FEE_CHARGE:"SKIP_FEE_CHARGE"},Ic={RECEIVED:sr,CANDIDATE:Ur,PRE_CONFIRMED:Cn,ACCEPTED_ON_L2:Wn,ACCEPTED_ON_L1:Mn},ma={PRE_CONFIRMED:Cn,ACCEPTED_ON_L2:Wn,ACCEPTED_ON_L1:Mn},ld={SUCCEEDED:ln,REVERTED:rn},dd={LATEST:"latest",PRE_CONFIRMED:hi,L1_ACCEPTED:"l1_accepted"},fd={PRE_CONFIRMED:Cn,ACCEPTED_ON_L2:Wn,ACCEPTED_ON_L1:Mn},hd={L1:"L1",L2:"L2"},pi={L1:0,L2:1},Mr={V0:"0x0",V1:"0x1",V2:"0x2",V3:"0x3",F0:"0x100000000000000000000000000000000",F1:"0x100000000000000000000000000000001",F2:"0x100000000000000000000000000000002",F3:"0x100000000000000000000000000000003"},pd={V0:Mr.V0,V1:Mr.V1,V2:Mr.V2,F0:Mr.F0,F1:Mr.F1,F2:Mr.F2},gd={V3:Mr.V3,F3:Mr.F3},_d={ACCOUNTS:"accounts"},md={ACTIVE:"1",LEGACY:"0"};/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function wo(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function yd(e,t){return Array.isArray(t)?t.length===0?!0:e?t.every(n=>typeof n=="string"):t.every(n=>Number.isSafeInteger(n)):!1}function kc(e){if(typeof e!="function")throw new Error("function expected");return!0}function Eo(e,t){if(typeof t!="string")throw new Error(`${e}: string expected`);return!0}function lt(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}const bd=null;function Ct(e){if(!Array.isArray(e))throw new Error("array expected")}function ya(e,t){if(!yd(!0,t))throw new Error(`${e}: array of strings expected`)}function Oc(e,t){if(!yd(!1,t))throw new Error(`${e}: array of numbers expected`)}function kn(...e){const t=o=>o,n=(o,i)=>c=>o(i(c)),r=e.map(o=>o.encode).reduceRight(n,t),s=e.map(o=>o.decode).reduce(n,t);return{encode:r,decode:s}}function zn(e){const t=typeof e=="string"?e.split(""):e,n=t.length;ya("alphabet",t);const r=new Map(t.map((s,o)=>[s,o]));return{encode:s=>(Ct(s),s.map(o=>{if(!Number.isSafeInteger(o)||o<0||o>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${o}". Allowed: ${e}`);return t[o]})),decode:s=>(Ct(s),s.map(o=>{Eo("alphabet.decode",o);const i=r.get(o);if(i===void 0)throw new Error(`Unknown letter: "${o}". Allowed: ${e}`);return i}))}}function Fn(e=""){return Eo("join",e),{encode:t=>(ya("join.decode",t),t.join(e)),decode:t=>(Eo("join.decode",t),t.split(e))}}function gi(e,t="="){return lt(e),Eo("padding",t),{encode(n){for(ya("padding.encode",n);n.length*e%8;)n.push(t);return n},decode(n){ya("padding.decode",n);let r=n.length;if(r*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if((r-1)*e%8===0)throw new Error("padding: invalid, string has too much padding");return n.slice(0,r)}}}function wd(e){return kc(e),{encode:t=>t,decode:t=>e(t)}}function Rc(e,t,n){if(t<2)throw new Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: invalid to=${n}, base cannot be less than 2`);if(Ct(e),!e.length)return[];let r=0;const s=[],o=Array.from(e,c=>{if(lt(c),c<0||c>=t)throw new Error(`invalid integer: ${c}`);return c}),i=o.length;for(;;){let c=0,d=!0;for(let f=r;f<i;f++){const g=o[f],_=t*c,y=_+g;if(!Number.isSafeInteger(y)||_/t!==c||y-g!==_)throw new Error("convertRadix: carry overflow");const b=y/n;c=y%n;const k=Math.floor(b);if(o[f]=k,!Number.isSafeInteger(k)||k*n+c!==y)throw new Error("convertRadix: carry overflow");if(d)k?d=!1:r=f;else continue}if(s.push(c),d)break}for(let c=0;c<e.length-1&&e[c]===0;c++)s.push(0);return s.reverse()}const Ed=(e,t)=>t===0?e:Ed(t,e%t),ba=(e,t)=>e+(t-Ed(e,t)),wa=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function Ea(e,t,n,r){if(Ct(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(ba(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${ba(t,n)}`);let s=0,o=0;const i=wa[t],c=wa[n]-1,d=[];for(const f of e){if(lt(f),f>=i)throw new Error(`convertRadix2: invalid data word=${f} from=${t}`);if(s=s<<t|f,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=n;o-=n)d.push((s>>o-n&c)>>>0);const g=wa[o];if(g===void 0)throw new Error("invalid carry");s&=g-1}if(s=s<<n-o&c,!r&&o>=t)throw new Error("Excess padding");if(!r&&s>0)throw new Error(`Non-zero padding: ${s}`);return r&&o>0&&d.push(s>>>0),d}function vd(e){lt(e);const t=2**8;return{encode:n=>{if(!wo(n))throw new Error("radix.encode input should be Uint8Array");return Rc(Array.from(n),t,e)},decode:n=>(Oc("radix.decode",n),Uint8Array.from(Rc(n,e,t)))}}function Gn(e,t=!1){if(lt(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(ba(8,e)>32||ba(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!wo(n))throw new Error("radix2.encode input should be Uint8Array");return Ea(Array.from(n),8,e,!t)},decode:n=>(Oc("radix2.decode",n),Uint8Array.from(Ea(n,e,8,t)))}}function Ad(e){return kc(e),function(...t){try{return e.apply(null,t)}catch{}}}function Td(e,t){return lt(e),kc(t),{encode(n){if(!wo(n))throw new Error("checksum.encode: input should be Uint8Array");const r=t(n).slice(0,e),s=new Uint8Array(n.length+e);return s.set(n),s.set(r,n.length),s},decode(n){if(!wo(n))throw new Error("checksum.decode: input should be Uint8Array");const r=n.slice(0,-e),s=n.slice(-e),o=t(r).slice(0,e);for(let i=0;i<e;i++)if(o[i]!==s[i])throw new Error("Invalid checksum");return r}}}const Wy={alphabet:zn,chain:kn,checksum:Td,convertRadix:Rc,convertRadix2:Ea,radix:vd,radix2:Gn,join:Fn,padding:gi},lp=kn(Gn(4),zn("0123456789ABCDEF"),Fn("")),dp=kn(Gn(5),zn("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),gi(5),Fn("")),fp=kn(Gn(5),zn("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Fn("")),Gy=kn(Gn(5),zn("0123456789ABCDEFGHIJKLMNOPQRSTUV"),gi(5),Fn("")),Yy=kn(Gn(5),zn("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Fn("")),Xy=kn(Gn(5),zn("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),Fn(""),wd(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),Pc=kn(Gn(6),zn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),gi(6),Fn("")),qy=kn(Gn(6),zn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Fn("")),hp=kn(Gn(6),zn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),gi(6),Fn("")),pp=kn(Gn(6),zn("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Fn("")),Nc=e=>kn(vd(58),zn(e),Fn("")),va=Nc("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Jy=Nc("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),Qy=Nc("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),xd=[0,2,3,5,6,7,9,10,11],gp={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=va.encode(r).padStart(xd[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),s=xd.indexOf(r.length),o=va.decode(r);for(let i=0;i<o.length-s;i++)if(o[i]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(o.slice(o.length-s)))}return Uint8Array.from(t)}},_p=e=>kn(Td(4,t=>e(e(t))),va),eb=null,vo=kn(zn("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),Fn("")),Bc=[996825010,642813549,513874426,1027748829,705979059];function _i(e){const t=e>>25;let n=(e&33554431)<<5;for(let r=0;r<Bc.length;r++)(t>>r&1)===1&&(n^=Bc[r]);return n}function Dc(e,t,n=1){const r=e.length;let s=1;for(let o=0;o<r;o++){const i=e.charCodeAt(o);if(i<33||i>126)throw new Error(`Invalid prefix (${e})`);s=_i(s)^i>>5}s=_i(s);for(let o=0;o<r;o++)s=_i(s)^e.charCodeAt(o)&31;for(let o of t)s=_i(s)^o;for(let o=0;o<6;o++)s=_i(s);return s^=n,vo.encode(Ea([s%wa[30]],30,5,!1))}function Sd(e){const t=e==="bech32"?1:734539939,n=Gn(5),r=n.decode,s=n.encode,o=Ad(r);function i(_,y,b=90){Eo("bech32.encode prefix",_),wo(y)&&(y=Array.from(y)),Oc("bech32.encode",y);const k=_.length;if(k===0)throw new TypeError(`Invalid prefix length ${k}`);const B=k+7+y.length;if(b!==!1&&B>b)throw new TypeError(`Length ${B} exceeds limit ${b}`);const z=_.toLowerCase(),K=Dc(z,y,t);return`${z}1${vo.encode(y)}${K}`}function c(_,y=90){Eo("bech32.decode input",_);const b=_.length;if(b<8||y!==!1&&b>y)throw new TypeError(`invalid string length: ${b} (${_}). Expected (8..${y})`);const k=_.toLowerCase();if(_!==k&&_!==_.toUpperCase())throw new Error("String must be lowercase or uppercase");const B=k.lastIndexOf("1");if(B===0||B===-1)throw new Error('Letter "1" must be present between prefix and data only');const z=k.slice(0,B),K=k.slice(B+1);if(K.length<6)throw new Error("Data must be at least 6 characters long");const J=vo.decode(K).slice(0,-6),q=Dc(z,J,t);if(!K.endsWith(q))throw new Error(`Invalid checksum in ${_}: expected "${q}"`);return{prefix:z,words:J}}const d=Ad(c);function f(_){const{prefix:y,words:b}=c(_,!1);return{prefix:y,words:b,bytes:r(b)}}function g(_,y){return i(_,s(y))}return{encode:i,decode:c,encodeFromBytes:g,decodeToBytes:f,decodeUnsafe:d,fromWords:r,fromWordsUnsafe:o,toWords:s}}const tb=Sd("bech32"),Cd=Sd("bech32m"),Ys={utf8:{encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},hex:kn(Gn(4),zn("0123456789abcdef"),Fn(""),wd(e=>{if(typeof e!="string"||e.length%2!==0)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),base16:lp,base32:dp,base64:Pc,base64url:hp,base58:va,base58xmr:gp},Id="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",rb=(e,t)=>{if(typeof e!="string"||!Ys.hasOwnProperty(e))throw new TypeError(Id);if(!wo(t))throw new TypeError("bytesToString() expects Uint8Array");return Ys[e].encode(t)},sb=null,ob=(e,t)=>{if(!Ys.hasOwnProperty(e))throw new TypeError(Id);if(typeof t!="string")throw new TypeError("stringToBytes() expects string");return Ys[e].decode(t)},ib=null;function mi(e){return yp.test(e)}const yp=/^-?[0-9]+$/;function Lc(e){return bp.test(e)}const bp=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function wp(e,t){const n=Number.parseFloat(e),r=String(n);if(e===r)return!0;const s=Od(e),o=Od(r);return!!(s===o||t?.approx===!0&&!mi(e)&&o.length>=14&&s.startsWith(o.substring(0,14)))}let Xs=function(e){return e.underflow="underflow",e.overflow="overflow",e.truncate_integer="truncate_integer",e.truncate_float="truncate_float",e}({});function kd(e){if(wp(e,{approx:!1}))return;if(mi(e))return Xs.truncate_integer;const t=Number.parseFloat(e);return Number.isFinite(t)?t===0?Xs.underflow:Xs.truncate_float:Xs.overflow}function ab(e,t){const n=Number.parseFloat(e),r=kd(e);if(t?.approx===!0?r&&r!==Xs.truncate_float:r){const s=r?.replace(/_\w+$/,"");throw new Error(`Cannot safely convert to number: the value '${e}' would ${s} and become ${n}`)}return n}function $c(e){const t=e.match(/^(-?)(\d+\.?\d*)([eE]([+-]?\d+))?$/);if(!t)throw new SyntaxError(`Invalid number: ${e}`);const n=t[1],r=t[2];let s=t[4]!==void 0?Number.parseInt(t[4]):0;const o=r.indexOf(".");s+=o!==-1?o-1:r.length-1;const i=r.replace(".","").replace(/^0*/,c=>(s-=c.length,"")).replace(/0*$/,"");return i.length>0?{sign:n,digits:i,exponent:s}:{sign:n,digits:"0",exponent:s+1}}function cb(e,t){if(e===t)return 0;const n=$c(e),r=$c(t),s=n.sign==="-"?-1:1;return n.sign!==r.sign?n.digits==="0"&&r.digits==="0"?0:s:n.exponent!==r.exponent?n.exponent>r.exponent?s:n.exponent<r.exponent?-s:0:n.digits>r.digits?s:n.digits<r.digits?-s:0}function Ep(e){const{start:t,end:n}=Uc(e),r=e.indexOf(".");return r===-1||r<t||r>n?n-t:n-t-1}function Od(e){const{start:t,end:n}=Uc(e),r=e.substring(t,n),s=r.indexOf(".");return s===-1?r:r.substring(0,s)+r.substring(s+1)}function Uc(e){let t=0;for(e[0]==="-"&&t++;e[t]==="0"||e[t]===".";)t++;let n=e.lastIndexOf("e");for(n===-1&&(n=e.lastIndexOf("E")),n===-1&&(n=e.length);(e[n-1]==="0"||e[n-1]===".")&&n>t;)n--;return{start:t,end:n}}class Rd{constructor(t){Z(this,"isLosslessNumber",!0);if(!Lc(t))throw new Error(`Invalid number (value: "${t}")`);this.value=t}valueOf(){const t=kd(this.value);if(t===void 0||t===Xs.truncate_float)return Number.parseFloat(this.value);if(mi(this.value))return BigInt(this.value);throw new Error(`Cannot safely convert to number: the value '${this.value}' would ${t} and become ${Number.parseFloat(this.value)}`)}toString(){return this.value}}function vp(e){return e&&typeof e=="object"&&e.isLosslessNumber||!1}function Mc(e){if(countSignificantDigits(String(e))>15)throw new Error(`Invalid number: contains more than 15 digits and is most likely truncated and unsafe by itself (value: ${e})`);if(Number.isNaN(e))throw new Error("Invalid number: NaN");if(!Number.isFinite(e))throw new Error(`Invalid number: ${e}`);return new Rd(String(e))}function ub(e,t){return compareNumber(e.value,t.value)}function Ap(e){return new Rd(e)}function Pd(e){return mi(e)?BigInt(e):Number.parseFloat(e)}function Tp(e,t){return zc({"":e},"",e,t)}function zc(e,t,n,r){return Array.isArray(n)?r.call(e,t,Sp(n,r)):n&&typeof n=="object"&&!vp(n)?r.call(e,t,xp(n,r)):r.call(e,t,n)}function xp(e,t){for(const n of Object.keys(e)){const r=zc(e,n,e[n],t);r!==void 0?e[n]=r:delete e[n]}return e}function Sp(e,t){for(let n=0;n<e.length;n++)e[n]=zc(e,String(n),e[n],t);return e}function Nd(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ap,r=0;const s=c();return k(s),z(),t?Tp(s,t):s;function o(){if(e.charCodeAt(r)===Pp){r++,f();const le={};let ie=!0;for(;r<e.length&&e.charCodeAt(r)!==Dd;){ie?ie=!1:(y(),f());const me=r,Ne=g();if(Ne===void 0){q();return}f(),b();const Ve=c();if(Ve===void 0){xe();return}Object.prototype.hasOwnProperty.call(le,Ne)&&!Fc(Ve,le[Ne])&&ee(Ne,me+1),le[Ne]=Ve}return e.charCodeAt(r)!==Dd&&be(),r++,le}}function i(){if(e.charCodeAt(r)===Np){r++,f();const le=[];let ie=!0;for(;r<e.length&&e.charCodeAt(r)!==Ld;){ie?ie=!1:y();const me=c();B(me),le.push(me)}return e.charCodeAt(r)!==Ld&&fe(),r++,le}}function c(){f();const le=g()??_()??o()??i()??d("true",!0)??d("false",!1)??d("null",null);return f(),le}function d(le,ie){if(e.slice(r,r+le.length)===le)return r+=le.length,ie}function f(){for(;Cp(e.charCodeAt(r));)r++}function g(){if(e.charCodeAt(r)===Hc){r++;let le="";for(;r<e.length&&e.charCodeAt(r)!==Hc;){if(e.charCodeAt(r)===Rp){const ie=e[r+1],me=Op[ie];me!==void 0?(le+=me,r++):ie==="u"?Aa(e.charCodeAt(r+2))&&Aa(e.charCodeAt(r+3))&&Aa(e.charCodeAt(r+4))&&Aa(e.charCodeAt(r+5))?(le+=String.fromCharCode(Number.parseInt(e.slice(r+2,r+6),16)),r+=5):Ie(r):pe(r)}else kp(e.charCodeAt(r))?le+=e[r]:ne(e[r]);r++}return J(),r++,le}}function _(){const le=r;if(e.charCodeAt(r)===$d&&(r++,K(le)),e.charCodeAt(r)===jc)r++;else if(Ip(e.charCodeAt(r)))for(r++;Ta(e.charCodeAt(r));)r++;if(e.charCodeAt(r)===Fp)for(r++,K(le);Ta(e.charCodeAt(r));)r++;if(e.charCodeAt(r)===ys||e.charCodeAt(r)===Sa)for(r++,(e.charCodeAt(r)===$d||e.charCodeAt(r)===Up)&&r++,K(le);Ta(e.charCodeAt(r));)r++;if(r>le)return n(e.slice(le,r))}function y(){if(e.charCodeAt(r)!==zp)throw new SyntaxError(`Comma ',' expected after value ${Ge()}`);r++}function b(){if(e.charCodeAt(r)!==Hp)throw new SyntaxError(`Colon ':' expected after property name ${Ge()}`);r++}function k(le){if(le===void 0)throw new SyntaxError(`JSON value expected ${Ge()}`)}function B(le){if(le===void 0)throw new SyntaxError(`Array item expected ${Ge()}`)}function z(){if(r<e.length)throw new SyntaxError(`Expected end of input ${Ge()}`)}function K(le){if(!Ta(e.charCodeAt(r))){const ie=e.slice(le,r);throw new SyntaxError(`Invalid number '${ie}', expecting a digit ${Ge()}`)}}function J(){if(e.charCodeAt(r)!==Hc)throw new SyntaxError(`End of string '"' expected ${Ge()}`)}function q(){throw new SyntaxError(`Quoted object key expected ${Ge()}`)}function ee(le,ie){throw new SyntaxError(`Duplicate key '${le}' encountered at position ${ie}`)}function be(){throw new SyntaxError(`Quoted object key or end of object '}' expected ${Ge()}`)}function fe(){throw new SyntaxError(`Array item or end of array ']' expected ${Ge()}`)}function ne(le){throw new SyntaxError(`Invalid character '${le}' ${_e()}`)}function pe(le){const ie=e.slice(le,le+2);throw new SyntaxError(`Invalid escape character '${ie}' ${_e()}`)}function xe(){throw new SyntaxError(`Object value expected after ':' ${_e()}`)}function Ie(le){const ie=e.slice(le,le+6);throw new SyntaxError(`Invalid unicode character '${ie}' ${_e()}`)}function _e(){return`at position ${r}`}function Me(){return r<e.length?`but got '${e[r]}'`:"but reached end of input"}function Ge(){return`${Me()} ${_e()}`}}function Cp(e){return e===Bp||e===Dp||e===Lp||e===$p}function Aa(e){return e>=jc&&e<=Vc||e>=xa&&e<=Zc||e>=Ao&&e<=Ud}function Ta(e){return e>=jc&&e<=Vc}function Ip(e){return e>=Mp&&e<=Vc}function kp(e){return e>=32&&e<=1114111}function Fc(e,t){return e===t?!0:Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((n,r)=>Fc(n,t[r])):Bd(e)&&Bd(t)?[...new Set([...Object.keys(e),...Object.keys(t)])].every(r=>Fc(e[r],t[r])):!1}function Bd(e){return typeof e=="object"&&e!==null}const Op={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},Rp=92,Pp=123,Dd=125,Np=91,Ld=93,Bp=32,Dp=10,Lp=9,$p=13,Hc=34,Up=43,$d=45,jc=48,Mp=49,Vc=57,zp=44,Fp=46,Hp=58,xa=65,Ao=97,Sa=69,ys=101,Zc=70,Ud=102;function yi(e,t,n,r){const s=Md(n),o=typeof t=="function"?t.call({"":e},"",e):e;return i(o,"");function i(g,_){if(Array.isArray(r)){const y=r.find(b=>b.test(g));if(y){const b=y.stringify(g);if(typeof b!="string"||!Lc(b))throw new Error(`Invalid JSON number: output of a number stringifier must be a string containing a JSON number (output: ${b})`);return b}}if(typeof g=="boolean"||typeof g=="number"||typeof g=="string"||g===null||g instanceof Date||g instanceof Boolean||g instanceof Number||g instanceof String)return JSON.stringify(g);if(g?.isLosslessNumber||typeof g=="bigint")return g.toString();if(Array.isArray(g))return c(g,_);if(g&&typeof g=="object")return d(g,_)}function c(g,_){if(g.length===0)return"[]";const y=s?_+s:void 0;let b=s?`[
`:"[";for(let k=0;k<g.length;k++){const B=typeof t=="function"?t.call(g,String(k),g[k]):g[k];s&&(b+=y),typeof B<"u"&&typeof B!="function"?b+=i(B,y):b+="null",k<g.length-1&&(b+=s?`,
`:",")}return b+=s?`
${_}]`:"]",b}function d(g,_){if(typeof g.toJSON=="function")return yi(g.toJSON(),t,n,void 0);const y=Array.isArray(t)?t.map(String):Object.keys(g);if(y.length===0)return"{}";const b=s?_+s:void 0;let k=!0,B=s?`{
`:"{";for(const z of y){const K=typeof t=="function"?t.call(g,z,g[z]):g[z];if(f(z,K)){k?k=!1:B+=s?`,
`:",";const J=JSON.stringify(z);B+=s?`${b+J}: `:`${J}:`,B+=i(K,b)}}return B+=s?`
${_}}`:"}",B}function f(g,_){return typeof _<"u"&&typeof _!="function"&&typeof _!="symbol"}}function Md(e){if(typeof e=="number")return" ".repeat(e);if(typeof e=="string"&&e!=="")return e}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ca=BigInt(0),Ia=BigInt(1),jp=BigInt(2);function qs(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function bi(e){if(!qs(e))throw new Error("Uint8Array expected")}function To(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}const wi=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ts(e){bi(e);let t="";for(let n=0;n<e.length;n++)t+=wi[e[n]];return t}function xo(e){const t=e.toString(16);return t.length&1?"0"+t:t}function ka(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Ca:BigInt("0x"+e)}const ns={_0:48,_9:57,A:65,F:70,a:97,f:102};function zd(e){if(e>=ns._0&&e<=ns._9)return e-ns._0;if(e>=ns.A&&e<=ns.F)return e-(ns.A-10);if(e>=ns.a&&e<=ns.f)return e-(ns.a-10)}function rs(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=zd(e.charCodeAt(o)),c=zd(e.charCodeAt(o+1));if(i===void 0||c===void 0){const d=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+o)}r[s]=i*16+c}return r}function On(e){return ka(ts(e))}function Kc(e){return bi(e),ka(ts(Uint8Array.from(e).reverse()))}function So(e,t){return rs(e.toString(16).padStart(t*2,"0"))}function Wc(e,t){return So(e,t).reverse()}function Gc(e){return rs(xo(e))}function or(e,t,n){let r;if(typeof t=="string")try{r=rs(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(qs(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function Co(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];bi(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}function lb(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}function db(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}const Io=e=>typeof e=="bigint"&&Ca<=e;function Oa(e,t,n){return Io(e)&&Io(t)&&Io(n)&&t<=e&&e<n}function Js(e,t,n,r){if(!Oa(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Fd(e){let t;for(t=0;e>Ca;e>>=Ia,t+=1);return t}function fb(e,t){return e>>BigInt(t)&Ia}function Ut(e,t,n){return e|(n?Ia:Ca)<<BigInt(t)}const Ei=e=>(jp<<BigInt(e-1))-Ia,Yc=e=>new Uint8Array(e),at=e=>Uint8Array.from(e);function Mt(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Yc(e),s=Yc(e),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},c=(..._)=>n(s,r,..._),d=(_=Yc())=>{s=c(at([0]),_),r=c(),_.length!==0&&(s=c(at([1]),_),r=c())},f=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let _=0;const y=[];for(;_<t;){r=c();const b=r.slice();y.push(b),_+=r.length}return Co(...y)};return(_,y)=>{i(),d(_);let b;for(;!(b=y(f()));)d();return i(),b}}const Vp={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||qs(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function ko(e,t,n={}){const r=(s,o,i)=>{const c=Vp[o];if(typeof c!="function")throw new Error("invalid validator function");const d=e[s];if(!(i&&d===void 0)&&!c(d,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+d)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}const Xc=()=>{throw new Error("not implemented")};function qc(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}function vi(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Zp(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Oo(e,...t){if(!Zp(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Hd(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");vi(e.outputLen),vi(e.blockLen)}function Qs(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Jc(e,t){Oo(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const hb={number:vi,bytes:Oo,hash:Hd,exists:Qs,output:Jc},pb=null,Ro=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function gb(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}const _b=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),Kp=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Qc=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),zr=(e,t)=>e<<32-t|e>>>t,mb=(e,t)=>e<<t|e>>>32-t>>>0,eu=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,jd=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,yb=null;function tu(e){for(let t=0;t<e.length;t++)e[t]=jd(e[t])}const Wp=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function bb(e){abytes(e);let t="";for(let n=0;n<e.length;n++)t+=Wp[e[n]];return t}const ss={_0:48,_9:57,A:65,F:70,a:97,f:102};function Vd(e){if(e>=ss._0&&e<=ss._9)return e-ss._0;if(e>=ss.A&&e<=ss.F)return e-(ss.A-10);if(e>=ss.a&&e<=ss.f)return e-(ss.a-10)}function wb(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=Vd(e.charCodeAt(o)),c=Vd(e.charCodeAt(o+1));if(i===void 0||c===void 0){const d=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+o)}r[s]=i*16+c}return r}const Gp=async()=>{};async function Eb(e,t,n){let r=Date.now();for(let s=0;s<e;s++){n(s);const o=Date.now()-r;o>=0&&o<t||(await Gp(),r+=o)}}function Ai(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function Po(e){return typeof e=="string"&&(e=Ai(e)),Oo(e),e}function Yp(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Oo(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}class nu{clone(){return this._cloneInto()}}function Yn(e,t){if(t!==void 0&&{}.toString.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(e,t)}function Zd(e){const t=r=>e().update(Po(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function wn(e){const t=(r,s)=>e(s).update(Po(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}function vb(e){const t=(r,s)=>e(s).update(Po(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}function Ti(e=32){if(Ro&&typeof Ro.getRandomValues=="function")return Ro.getRandomValues(new Uint8Array(e));if(Ro&&typeof Ro.randomBytes=="function")return Ro.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function Xp(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),c=Number(n&o),d=r?4:0,f=r?0:4;e.setUint32(t+d,i,r),e.setUint32(t+f,c,r)}const qp=(e,t,n)=>e&t^~e&n,Jp=(e,t,n)=>e&t^e&n^t&n;class Fr extends nu{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Qc(this.buffer)}update(t){Qs(this);const{view:n,buffer:r,blockLen:s}=this;t=Po(t);const o=t.length;for(let i=0;i<o;){const c=Math.min(s-this.pos,o-i);if(c===s){const d=Qc(t);for(;s<=o-i;i+=s)this.process(d,i);continue}r.set(t.subarray(i,i+c),this.pos),this.pos+=c,i+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Qs(this),Jc(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>s-i&&(this.process(r,0),i=0);for(let _=i;_<s;_++)n[_]=0;Xp(r,s-8,BigInt(this.length*8),o),this.process(r,0);const c=Qc(t),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=d/4,g=this.get();if(f>g.length)throw new Error("_sha2: outputLen bigger than state");for(let _=0;_<f;_++)c.setUint32(4*_,g[_],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:c}=this;return t.length=s,t.pos=c,t.finished=o,t.destroyed=i,s%n&&t.buffer.set(r),t}}const Qp=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Hr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),wr=new Uint32Array(64);class Kd extends Fr{constructor(){super(64,32,8,!1),this.A=Hr[0]|0,this.B=Hr[1]|0,this.C=Hr[2]|0,this.D=Hr[3]|0,this.E=Hr[4]|0,this.F=Hr[5]|0,this.G=Hr[6]|0,this.H=Hr[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:c,H:d}=this;return[t,n,r,s,o,i,c,d]}set(t,n,r,s,o,i,c,d){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=c|0,this.H=d|0}process(t,n){for(let _=0;_<16;_++,n+=4)wr[_]=t.getUint32(n,!1);for(let _=16;_<64;_++){const y=wr[_-15],b=wr[_-2],k=zr(y,7)^zr(y,18)^y>>>3,B=zr(b,17)^zr(b,19)^b>>>10;wr[_]=B+wr[_-7]+k+wr[_-16]|0}let{A:r,B:s,C:o,D:i,E:c,F:d,G:f,H:g}=this;for(let _=0;_<64;_++){const y=zr(c,6)^zr(c,11)^zr(c,25),b=g+y+qp(c,d,f)+Qp[_]+wr[_]|0,B=(zr(r,2)^zr(r,13)^zr(r,22))+Jp(r,s,o)|0;g=f,f=d,d=c,c=i+b|0,i=o,o=s,s=r,r=b+B|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,c=c+this.E|0,d=d+this.F|0,f=f+this.G|0,g=g+this.H|0,this.set(r,s,o,i,c,d,f,g)}roundClean(){wr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Ab extends Kd{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const xi=Zd(()=>new Kd),Si=null,Ra=BigInt(2**32-1),ru=BigInt(32);function su(e,t=!1){return t?{h:Number(e&Ra),l:Number(e>>ru&Ra)}:{h:Number(e>>ru&Ra)|0,l:Number(e&Ra)|0}}function ou(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:o,l:i}=su(e[s],t);[n[s],r[s]]=[o,i]}return[n,r]}const eg=(e,t)=>BigInt(e>>>0)<<ru|BigInt(t>>>0),Wd=(e,t,n)=>e>>>n,tg=(e,t,n)=>e<<32-n|t>>>n,ng=(e,t,n)=>e>>>n|t<<32-n,rg=(e,t,n)=>e<<32-n|t>>>n,sg=(e,t,n)=>e<<64-n|t>>>n-32,Gd=(e,t,n)=>e>>>n-32|t<<64-n,og=(e,t)=>t,ig=(e,t)=>e,Yd=(e,t,n)=>e<<n|t>>>32-n,Xd=(e,t,n)=>t<<n|e>>>32-n,iu=(e,t,n)=>t<<n-32|e>>>64-n,qd=(e,t,n)=>e<<n-32|t>>>64-n;function ag(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const Ib={fromBig:su,split:ou,toBig:eg,shrSH:Wd,shrSL:tg,rotrSH:ng,rotrSL:rg,rotrBH:sg,rotrBL:Gd,rotr32H:og,rotr32L:ig,rotlSH:Yd,rotlSL:Xd,rotlBH:iu,rotlBL:qd,add:ag,add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,add5H:(e,t,n,r,s,o)=>t+n+r+s+o+(e/2**32|0)|0,add5L:(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0)},Er=null,Ci=[],Pa=[],Jd=[],au=BigInt(0),No=BigInt(1),lg=BigInt(2),kb=BigInt(7),dg=BigInt(256),fg=BigInt(113);for(let e=0,t=No,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Ci.push(2*(5*r+n)),Pa.push((e+1)*(e+2)/2%64);let s=au;for(let o=0;o<7;o++)t=(t<<No^(t>>kb)*fg)%dg,t&lg&&(s^=No<<(No<<BigInt(o))-No);Jd.push(s)}const[hg,Ob]=ou(Jd,!0),u=(e,t,n)=>n>32?iu(e,t,n):Yd(e,t,n),p=(e,t,n)=>n>32?qd(e,t,n):Xd(e,t,n);function A(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const c=(i+8)%10,d=(i+2)%10,f=n[d],g=n[d+1],_=u(f,g,1)^n[c],y=p(f,g,1)^n[c+1];for(let b=0;b<50;b+=10)e[i+b]^=_,e[i+b+1]^=y}let s=e[2],o=e[3];for(let i=0;i<24;i++){const c=Pa[i],d=u(s,o,c),f=p(s,o,c),g=Ci[i];s=e[g],o=e[g+1],e[g]=d,e[g+1]=f}for(let i=0;i<50;i+=10){for(let c=0;c<10;c++)n[c]=e[i+c];for(let c=0;c<10;c++)e[i+c]^=~n[(c+2)%10]&n[(c+4)%10]}e[0]^=hg[r],e[1]^=Ob[r]}n.fill(0)}class F extends nu{constructor(t,n,r,s=!1,o=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,vi(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Kp(this.state)}keccak(){eu||tu(this.state32),A(this.state32,this.rounds),eu||tu(this.state32),this.posOut=0,this.pos=0}update(t){Qs(this);const{blockLen:n,state:r}=this;t=Po(t);const s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let c=0;c<i;c++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Qs(this,!1),Oo(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return vi(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Jc(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new F(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const W=(e,t,n)=>Zd(()=>new F(t,e,n)),ce=null,Ee=null,Ue=null,Ye=null,Je=null,Xe=W(1,136,256/8),dt=null,Dt=null,vr=(e,t,n)=>wrapXOFConstructorWithOpts((r={})=>new F(t,e,r.dkLen===void 0?n:r.dkLen,!0)),bs=null,Qd=null;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Vt=BigInt(0),tt=BigInt(1),bt=BigInt(2),sn=BigInt(3),eo=BigInt(4),Ii=BigInt(5),cu=BigInt(8),ef=BigInt(9),lI=BigInt(16);function hn(e,t){const n=e%t;return n>=Vt?n:t+n}function dI(e,t,n){if(t<Vt)throw new Error("invalid exponent, negatives unsupported");if(n<=Vt)throw new Error("invalid modulus");if(n===tt)return Vt;let r=tt;for(;t>Vt;)t&tt&&(r=r*e%n),e=e*e%n,t>>=tt;return r}function jr(e,t,n){let r=e;for(;t-- >Vt;)r*=r,r%=n;return r}function uu(e,t){if(e===Vt)throw new Error("invert: expected non-zero number");if(t<=Vt)throw new Error("invert: expected positive modulus, got "+t);let n=hn(e,t),r=t,s=Vt,o=tt,i=tt,c=Vt;for(;n!==Vt;){const f=r/n,g=r%n,_=s-i*f,y=o-c*f;r=n,n=g,s=i,o=c,i=_,c=y}if(r!==tt)throw new Error("invert: does not exist");return hn(s,t)}function fI(e){const t=(e-tt)/bt;let n,r,s;for(n=e-tt,r=0;n%bt===Vt;n/=bt,r++);for(s=bt;s<e&&dI(s,t,e)!==e-tt;s++)if(s>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const i=(e+tt)/eo;return function(d,f){const g=d.pow(f,i);if(!d.eql(d.sqr(g),f))throw new Error("Cannot find square root");return g}}const o=(n+tt)/bt;return function(c,d){if(c.pow(d,t)===c.neg(c.ONE))throw new Error("Cannot find square root");let f=r,g=c.pow(c.mul(c.ONE,s),n),_=c.pow(d,o),y=c.pow(d,n);for(;!c.eql(y,c.ONE);){if(c.eql(y,c.ZERO))return c.ZERO;let b=1;for(let B=c.sqr(y);b<f&&!c.eql(B,c.ONE);b++)B=c.sqr(B);const k=c.pow(g,tt<<BigInt(f-b-1));g=c.sqr(k),_=c.mul(_,k),y=c.mul(y,g),f=b}return _}}function hI(e){if(e%eo===sn){const t=(e+tt)/eo;return function(r,s){const o=r.pow(s,t);if(!r.eql(r.sqr(o),s))throw new Error("Cannot find square root");return o}}if(e%cu===Ii){const t=(e-Ii)/cu;return function(r,s){const o=r.mul(s,bt),i=r.pow(o,t),c=r.mul(s,i),d=r.mul(r.mul(c,bt),i),f=r.mul(c,r.sub(d,r.ONE));if(!r.eql(r.sqr(f),s))throw new Error("Cannot find square root");return f}}return e%lI,fI(e)}const rM=(e,t)=>(hn(e,t)&tt)===tt,pI=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function tf(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=pI.reduce((r,s)=>(r[s]="function",r),t);return ko(e,n)}function Rb(e,t,n){if(n<Vt)throw new Error("invalid exponent, negatives unsupported");if(n===Vt)return e.ONE;if(n===tt)return t;let r=e.ONE,s=t;for(;n>Vt;)n&tt&&(r=e.mul(r,s)),s=e.sqr(s),n>>=tt;return r}function gI(e,t){const n=new Array(t.length),r=t.reduce((o,i,c)=>e.is0(i)?o:(n[c]=o,e.mul(o,i)),e.ONE),s=e.inv(r);return t.reduceRight((o,i,c)=>e.is0(i)?o:(n[c]=e.mul(o,n[c]),e.mul(o,i)),s),n}function sM(e,t,n){return e.mul(t,typeof n=="bigint"?uu(n,e.ORDER):e.inv(n))}function _I(e){const t=(e-tt)/bt;return(n,r)=>n.pow(r,t)}function oM(e){const t=_I(e.ORDER);return n=>{const r=t(e,n);return e.eql(r,e.ZERO)||e.eql(r,e.ONE)}}function pg(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function nf(e,t,n=!1,r={}){if(e<=Vt)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:o}=pg(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let i;const c=Object.freeze({ORDER:e,BITS:s,BYTES:o,MASK:Ei(s),ZERO:Vt,ONE:tt,create:d=>hn(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof d);return Vt<=d&&d<e},is0:d=>d===Vt,isOdd:d=>(d&tt)===tt,neg:d=>hn(-d,e),eql:(d,f)=>d===f,sqr:d=>hn(d*d,e),add:(d,f)=>hn(d+f,e),sub:(d,f)=>hn(d-f,e),mul:(d,f)=>hn(d*f,e),pow:(d,f)=>Rb(c,d,f),div:(d,f)=>hn(d*uu(f,e),e),sqrN:d=>d*d,addN:(d,f)=>d+f,subN:(d,f)=>d-f,mulN:(d,f)=>d*f,inv:d=>uu(d,e),sqrt:r.sqrt||(d=>(i||(i=hI(e)),i(c,d))),invertBatch:d=>gI(c,d),cmov:(d,f,g)=>g?f:d,toBytes:d=>n?Wc(d,o):So(d,o),fromBytes:d=>{if(d.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+d.length);return n?Kc(d):On(d)}});return Object.freeze(c)}function iM(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);return e.isOdd(n)?n:e.neg(n)}function aM(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);return e.isOdd(n)?e.neg(n):n}function cM(e,t,n=!1){e=ensureBytes("privateHash",e);const r=e.length,s=pg(t).nByteLength+8;if(s<24||r<s||r>1024)throw new Error("hashToPrivateScalar: expected "+s+"-1024 bytes of input, got "+r);const o=n?bytesToNumberLE(e):bytesToNumberBE(e);return hn(o,t-tt)+tt}function Pb(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Nb(e){const t=Pb(e);return t+Math.ceil(t/2)}function mI(e,t,n=!1){const r=e.length,s=Pb(t),o=Nb(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const i=n?On(e):Kc(e),c=hn(i,t-tt)+tt;return n?Wc(c,s):So(c,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Bb(e){const{Fp:t,mds:n,reversePartialPowIdx:r,roundConstants:s}=e,{roundsFull:o,roundsPartial:i,sboxPower:c,t:d}=e;tf(t);for(const k of["t","roundsFull","roundsPartial"])if(typeof e[k]!="number"||!Number.isSafeInteger(e[k]))throw new Error("invalid number "+k);if(!Array.isArray(n)||n.length!==d)throw new Error("Poseidon: invalid MDS matrix");const f=n.map(k=>{if(!Array.isArray(k)||k.length!==d)throw new Error("invalid MDS matrix row: "+k);return k.map(B=>{if(typeof B!="bigint")throw new Error("invalid MDS matrix bigint: "+B);return t.create(B)})});if(r!==void 0&&typeof r!="boolean")throw new Error("invalid param reversePartialPowIdx="+r);if(o&1)throw new Error("roundsFull is not even"+o);const g=o+i;if(!Array.isArray(s)||s.length!==g)throw new Error("Poseidon: invalid round constants");const _=s.map(k=>{if(!Array.isArray(k)||k.length!==d)throw new Error("invalid round constants");return k.map(B=>{if(typeof B!="bigint"||!t.isValid(B))throw new Error("invalid round constant");return t.create(B)})});if(!c||![3,5,7].includes(c))throw new Error("invalid sboxPower");const y=BigInt(c);let b=k=>Rb(t,k,y);return c===3?b=k=>t.mul(t.sqrN(k),k):c===5&&(b=k=>t.mul(t.sqrN(t.sqrN(k)),k)),Object.freeze({...e,rounds:g,sboxFn:b,roundConstants:_,mds:f})}function yI(e,t){if(typeof t!="number")throw new Error("poseidonSplitConstants: invalid t");if(!Array.isArray(e)||e.length%t)throw new Error("poseidonSplitConstants: invalid rc");const n=[];let r=[];for(let s=0;s<e.length;s++)r.push(e[s]),r.length===t&&(n.push(r),r=[]);return n}function Db(e){const t=Bb(e),{Fp:n,mds:r,roundConstants:s,rounds:o,roundsPartial:i,sboxFn:c,t:d}=t,f=t.roundsFull/2,g=t.reversePartialPowIdx?d-1:0,_=(b,k,B)=>(b=b.map((z,K)=>n.add(z,s[B][K])),k?b=b.map(z=>c(z)):b[g]=c(b[g]),b=r.map(z=>z.reduce((K,J,q)=>n.add(K,n.mulN(J,b[q])),n.ZERO)),b),y=function(k){if(!Array.isArray(k)||k.length!==d)throw new Error("invalid values, expected array of bigints with length "+d);k=k.map(z=>{if(typeof z!="bigint")throw new Error("invalid bigint="+z);return n.create(z)});let B=0;for(let z=0;z<f;z++)k=_(k,!0,B++);for(let z=0;z<i;z++)k=_(k,!1,B++);for(let z=0;z<f;z++)k=_(k,!0,B++);if(B!==o)throw new Error("invalid number of rounds");return k};return y.roundConstants=s,y}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Lb=BigInt(0),rf=BigInt(1);function gg(e,t){const n=t.negate();return e?n:t}function _g(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function mg(e,t){_g(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1);return{windows:n,windowSize:r}}function $b(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Ub(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const yg=new WeakMap,Mb=new WeakMap;function bg(e){return Mb.get(e)||1}function bI(e,t){return{constTimeNegate:gg,hasPrecomputes(n){return bg(n)!==1},unsafeLadder(n,r,s=e.ZERO){let o=n;for(;r>Lb;)r&rf&&(s=s.add(o)),o=o.double(),r>>=rf;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=mg(r,t),i=[];let c=n,d=c;for(let f=0;f<s;f++){d=c,i.push(d);for(let g=1;g<o;g++)d=d.add(c),i.push(d);c=d.double()}return i},wNAF(n,r,s){const{windows:o,windowSize:i}=mg(n,t);let c=e.ZERO,d=e.BASE;const f=BigInt(2**n-1),g=2**n,_=BigInt(n);for(let y=0;y<o;y++){const b=y*i;let k=Number(s&f);s>>=_,k>i&&(k-=g,s+=rf);const B=b,z=b+Math.abs(k)-1,K=y%2!==0,J=k<0;k===0?d=d.add(gg(K,r[B])):c=c.add(gg(J,r[z]))}return{p:c,f:d}},wNAFUnsafe(n,r,s,o=e.ZERO){const{windows:i,windowSize:c}=mg(n,t),d=BigInt(2**n-1),f=2**n,g=BigInt(n);for(let _=0;_<i;_++){const y=_*c;if(s===Lb)break;let b=Number(s&d);if(s>>=g,b>c&&(b-=f,s+=rf),b===0)continue;let k=r[y+Math.abs(b)-1];b<0&&(k=k.negate()),o=o.add(k)}return o},getPrecomputes(n,r,s){let o=yg.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&yg.set(r,s(o))),o},wNAFCached(n,r,s){const o=bg(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const i=bg(n);return i===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(i,this.getPrecomputes(i,n,s),r,o)},setWindowSize(n,r){_g(r,t),Mb.set(n,r),yg.delete(n)}}}function wI(e,t,n,r){if($b(n,e),Ub(r,t),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const s=e.ZERO,o=Fd(BigInt(n.length)),i=o>12?o-3:o>4?o-2:o?2:1,c=(1<<i)-1,d=new Array(c+1).fill(s),f=Math.floor((t.BITS-1)/i)*i;let g=s;for(let _=f;_>=0;_-=i){d.fill(s);for(let b=0;b<r.length;b++){const k=r[b],B=Number(k>>BigInt(_)&BigInt(c));d[B]=d[B].add(n[b])}let y=s;for(let b=d.length-1,k=s;b>0;b--)k=k.add(d[b]),y=y.add(k);if(g=g.add(y),_!==0)for(let b=0;b<i;b++)g=g.double()}return g}function uM(e,t,n,r){_g(r,t.BITS),$b(n,e);const s=e.ZERO,o=2**r-1,i=Math.ceil(t.BITS/r),c=BigInt((1<<r)-1),d=n.map(f=>{const g=[];for(let _=0,y=f;_<o;_++)g.push(y),y=y.add(f);return g});return f=>{if(Ub(f,t),f.length>n.length)throw new Error("array of scalars must be smaller than array of points");let g=s;for(let _=0;_<i;_++){if(g!==s)for(let b=0;b<r;b++)g=g.double();const y=BigInt(i*r-(_+1)*r);for(let b=0;b<f.length;b++){const k=f[b],B=Number(k>>y&c);B&&(g=g.add(d[b][B-1]))}}return g}}function zb(e){return tf(e.Fp),ko(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...pg(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Fb(e){e.lowS!==void 0&&To("lowS",e.lowS),e.prehash!==void 0&&To("prehash",e.prehash)}function EI(e){const t=zb(e);ko(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{Ph:vI,aT:AI}=T,os={Err:class extends Error{constructor(t=""){super(t)}},_tlv:{encode:(e,t)=>{const{Err:n}=os;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=xo(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?xo(s.length/2|128):"";return xo(e)+o+s+t},decode(e,t){const{Err:n}=os;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let i=0;if(!o)i=s;else{const d=s&127;if(!d)throw new n("tlv.decode(long): indefinite length not supported");if(d>4)throw new n("tlv.decode(long): byte length is too big");const f=t.subarray(r,r+d);if(f.length!==d)throw new n("tlv.decode: length bytes not complete");if(f[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const g of f)i=i<<8|g;if(r+=d,i<128)throw new n("tlv.decode(long): not minimal encoding")}const c=t.subarray(r,r+i);if(c.length!==i)throw new n("tlv.decode: wrong value length");return{v:c,l:t.subarray(r+i)}}},_int:{encode(e){const{Err:t}=os;if(e<is)throw new t("integer: negative integers are not allowed");let n=xo(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=os;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return vI(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=os,s=typeof e=="string"?AI(e):e;bi(s);const{v:o,l:i}=r.decode(48,s);if(i.length)throw new t("invalid signature: left bytes after parsing");const{v:c,l:d}=r.decode(2,o),{v:f,l:g}=r.decode(2,d);if(g.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(f)}},hexFromSig(e){const{_tlv:t,_int:n}=os,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}},is=BigInt(0),Ot=BigInt(1),Bo=BigInt(2),sf=BigInt(3),Hb=BigInt(4);function jb(e){const t=EI(e),{Fp:n}=t,r=nf(t.n,t.nBitLength),s=t.toBytes||((B,z,K)=>{const J=z.toAffine();return Co(Uint8Array.from([4]),n.toBytes(J.x),n.toBytes(J.y))}),o=t.fromBytes||(B=>{const z=B.subarray(1),K=n.fromBytes(z.subarray(0,n.BYTES)),J=n.fromBytes(z.subarray(n.BYTES,2*n.BYTES));return{x:K,y:J}});function i(B){const{a:z,b:K}=t,J=n.sqr(B),q=n.mul(J,B);return n.add(n.add(q,n.mul(B,z)),K)}if(!n.eql(n.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function c(B){return Oa(B,Ot,t.n)}function d(B){const{allowedPrivateKeyLengths:z,nByteLength:K,wrapPrivateKey:J,n:q}=t;if(z&&typeof B!="bigint"){if(qs(B)&&(B=ts(B)),typeof B!="string"||!z.includes(B.length))throw new Error("invalid private key");B=B.padStart(K*2,"0")}let ee;try{ee=typeof B=="bigint"?B:On(or("private key",B,K))}catch{throw new Error("invalid private key, expected hex or "+K+" bytes, got "+typeof B)}return J&&(ee=hn(ee,q)),Js("private key",ee,Ot,q),ee}function f(B){if(!(B instanceof y))throw new Error("ProjectivePoint expected")}const g=qc((B,z)=>{const{px:K,py:J,pz:q}=B;if(n.eql(q,n.ONE))return{x:K,y:J};const ee=B.is0();z==null&&(z=ee?n.ONE:n.inv(q));const be=n.mul(K,z),fe=n.mul(J,z),ne=n.mul(q,z);if(ee)return{x:n.ZERO,y:n.ZERO};if(!n.eql(ne,n.ONE))throw new Error("invZ was invalid");return{x:be,y:fe}}),_=qc(B=>{if(B.is0()){if(t.allowInfinityPoint&&!n.is0(B.py))return;throw new Error("bad point: ZERO")}const{x:z,y:K}=B.toAffine();if(!n.isValid(z)||!n.isValid(K))throw new Error("bad point: x or y not FE");const J=n.sqr(K),q=i(z);if(!n.eql(J,q))throw new Error("bad point: equation left != right");if(!B.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class y{constructor(z,K,J){if(this.px=z,this.py=K,this.pz=J,z==null||!n.isValid(z))throw new Error("x required");if(K==null||!n.isValid(K))throw new Error("y required");if(J==null||!n.isValid(J))throw new Error("z required");Object.freeze(this)}static fromAffine(z){const{x:K,y:J}=z||{};if(!z||!n.isValid(K)||!n.isValid(J))throw new Error("invalid affine point");if(z instanceof y)throw new Error("projective point not allowed");const q=ee=>n.eql(ee,n.ZERO);return q(K)&&q(J)?y.ZERO:new y(K,J,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(z){const K=n.invertBatch(z.map(J=>J.pz));return z.map((J,q)=>J.toAffine(K[q])).map(y.fromAffine)}static fromHex(z){const K=y.fromAffine(o(or("pointHex",z)));return K.assertValidity(),K}static fromPrivateKey(z){return y.BASE.multiply(d(z))}static msm(z,K){return wI(y,r,z,K)}_setWindowSize(z){k.setWindowSize(this,z)}assertValidity(){_(this)}hasEvenY(){const{y:z}=this.toAffine();if(n.isOdd)return!n.isOdd(z);throw new Error("Field doesn't support isOdd")}equals(z){f(z);const{px:K,py:J,pz:q}=this,{px:ee,py:be,pz:fe}=z,ne=n.eql(n.mul(K,fe),n.mul(ee,q)),pe=n.eql(n.mul(J,fe),n.mul(be,q));return ne&&pe}negate(){return new y(this.px,n.neg(this.py),this.pz)}double(){const{a:z,b:K}=t,J=n.mul(K,sf),{px:q,py:ee,pz:be}=this;let fe=n.ZERO,ne=n.ZERO,pe=n.ZERO,xe=n.mul(q,q),Ie=n.mul(ee,ee),_e=n.mul(be,be),Me=n.mul(q,ee);return Me=n.add(Me,Me),pe=n.mul(q,be),pe=n.add(pe,pe),fe=n.mul(z,pe),ne=n.mul(J,_e),ne=n.add(fe,ne),fe=n.sub(Ie,ne),ne=n.add(Ie,ne),ne=n.mul(fe,ne),fe=n.mul(Me,fe),pe=n.mul(J,pe),_e=n.mul(z,_e),Me=n.sub(xe,_e),Me=n.mul(z,Me),Me=n.add(Me,pe),pe=n.add(xe,xe),xe=n.add(pe,xe),xe=n.add(xe,_e),xe=n.mul(xe,Me),ne=n.add(ne,xe),_e=n.mul(ee,be),_e=n.add(_e,_e),xe=n.mul(_e,Me),fe=n.sub(fe,xe),pe=n.mul(_e,Ie),pe=n.add(pe,pe),pe=n.add(pe,pe),new y(fe,ne,pe)}add(z){f(z);const{px:K,py:J,pz:q}=this,{px:ee,py:be,pz:fe}=z;let ne=n.ZERO,pe=n.ZERO,xe=n.ZERO;const Ie=t.a,_e=n.mul(t.b,sf);let Me=n.mul(K,ee),Ge=n.mul(J,be),le=n.mul(q,fe),ie=n.add(K,J),me=n.add(ee,be);ie=n.mul(ie,me),me=n.add(Me,Ge),ie=n.sub(ie,me),me=n.add(K,q);let Ne=n.add(ee,fe);return me=n.mul(me,Ne),Ne=n.add(Me,le),me=n.sub(me,Ne),Ne=n.add(J,q),ne=n.add(be,fe),Ne=n.mul(Ne,ne),ne=n.add(Ge,le),Ne=n.sub(Ne,ne),xe=n.mul(Ie,me),ne=n.mul(_e,le),xe=n.add(ne,xe),ne=n.sub(Ge,xe),xe=n.add(Ge,xe),pe=n.mul(ne,xe),Ge=n.add(Me,Me),Ge=n.add(Ge,Me),le=n.mul(Ie,le),me=n.mul(_e,me),Ge=n.add(Ge,le),le=n.sub(Me,le),le=n.mul(Ie,le),me=n.add(me,le),Me=n.mul(Ge,me),pe=n.add(pe,Me),Me=n.mul(Ne,me),ne=n.mul(ie,ne),ne=n.sub(ne,Me),Me=n.mul(ie,Ge),xe=n.mul(Ne,xe),xe=n.add(xe,Me),new y(ne,pe,xe)}subtract(z){return this.add(z.negate())}is0(){return this.equals(y.ZERO)}wNAF(z){return k.wNAFCached(this,z,y.normalizeZ)}multiplyUnsafe(z){const{endo:K,n:J}=t;Js("scalar",z,is,J);const q=y.ZERO;if(z===is)return q;if(this.is0()||z===Ot)return this;if(!K||k.hasPrecomputes(this))return k.wNAFCachedUnsafe(this,z,y.normalizeZ);let{k1neg:ee,k1:be,k2neg:fe,k2:ne}=K.splitScalar(z),pe=q,xe=q,Ie=this;for(;be>is||ne>is;)be&Ot&&(pe=pe.add(Ie)),ne&Ot&&(xe=xe.add(Ie)),Ie=Ie.double(),be>>=Ot,ne>>=Ot;return ee&&(pe=pe.negate()),fe&&(xe=xe.negate()),xe=new y(n.mul(xe.px,K.beta),xe.py,xe.pz),pe.add(xe)}multiply(z){const{endo:K,n:J}=t;Js("scalar",z,Ot,J);let q,ee;if(K){const{k1neg:be,k1:fe,k2neg:ne,k2:pe}=K.splitScalar(z);let{p:xe,f:Ie}=this.wNAF(fe),{p:_e,f:Me}=this.wNAF(pe);xe=k.constTimeNegate(be,xe),_e=k.constTimeNegate(ne,_e),_e=new y(n.mul(_e.px,K.beta),_e.py,_e.pz),q=xe.add(_e),ee=Ie.add(Me)}else{const{p:be,f:fe}=this.wNAF(z);q=be,ee=fe}return y.normalizeZ([q,ee])[0]}multiplyAndAddUnsafe(z,K,J){const q=y.BASE,ee=(fe,ne)=>ne===is||ne===Ot||!fe.equals(q)?fe.multiplyUnsafe(ne):fe.multiply(ne),be=ee(this,K).add(ee(z,J));return be.is0()?void 0:be}toAffine(z){return g(this,z)}isTorsionFree(){const{h:z,isTorsionFree:K}=t;if(z===Ot)return!0;if(K)return K(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:z,clearCofactor:K}=t;return z===Ot?this:K?K(y,this):this.multiplyUnsafe(t.h)}toRawBytes(z=!0){return To("isCompressed",z),this.assertValidity(),s(y,this,z)}toHex(z=!0){return To("isCompressed",z),ts(this.toRawBytes(z))}}y.BASE=new y(t.Gx,t.Gy,n.ONE),y.ZERO=new y(n.ZERO,n.ONE,n.ZERO);const b=t.nBitLength,k=bI(y,t.endo?Math.ceil(b/2):b);return{CURVE:t,ProjectivePoint:y,normPrivateKeyToScalar:d,weierstrassEquation:i,isWithinCurveOrder:c}}function TI(e){const t=zb(e);return ko(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function wg(e){const t=TI(e),{Fp:n,n:r}=t,s=n.BYTES+1,o=2*n.BYTES+1;function i(le){return hn(le,r)}function c(le){return uu(le,r)}const{ProjectivePoint:d,normPrivateKeyToScalar:f,weierstrassEquation:g,isWithinCurveOrder:_}=jb({...t,toBytes(le,ie,me){const Ne=ie.toAffine(),Ve=n.toBytes(Ne.x),Ke=Co;return To("isCompressed",me),me?Ke(Uint8Array.from([ie.hasEvenY()?2:3]),Ve):Ke(Uint8Array.from([4]),Ve,n.toBytes(Ne.y))},fromBytes(le){const ie=le.length,me=le[0],Ne=le.subarray(1);if(ie===s&&(me===2||me===3)){const Ve=On(Ne);if(!Oa(Ve,Ot,n.ORDER))throw new Error("Point is not on curve");const Ke=g(Ve);let ot;try{ot=n.sqrt(Ke)}catch(dn){const Qt=dn instanceof Error?": "+dn.message:"";throw new Error("Point is not on curve"+Qt)}const pt=(ot&Ot)===Ot;return(me&1)===1!==pt&&(ot=n.neg(ot)),{x:Ve,y:ot}}else if(ie===o&&me===4){const Ve=n.fromBytes(Ne.subarray(0,n.BYTES)),Ke=n.fromBytes(Ne.subarray(n.BYTES,2*n.BYTES));return{x:Ve,y:Ke}}else{const Ve=s,Ke=o;throw new Error("invalid Point, expected length of "+Ve+", or uncompressed "+Ke+", got "+ie)}}}),y=le=>ts(So(le,t.nByteLength));function b(le){const ie=r>>Ot;return le>ie}function k(le){return b(le)?i(-le):le}const B=(le,ie,me)=>On(le.slice(ie,me));class z{constructor(ie,me,Ne){this.r=ie,this.s=me,this.recovery=Ne,this.assertValidity()}static fromCompact(ie){const me=t.nByteLength;return ie=or("compactSignature",ie,me*2),new z(B(ie,0,me),B(ie,me,2*me))}static fromDER(ie){const{r:me,s:Ne}=os.toSig(or("DER",ie));return new z(me,Ne)}assertValidity(){Js("r",this.r,Ot,r),Js("s",this.s,Ot,r)}addRecoveryBit(ie){return new z(this.r,this.s,ie)}recoverPublicKey(ie){const{r:me,s:Ne,recovery:Ve}=this,Ke=fe(or("msgHash",ie));if(Ve==null||![0,1,2,3].includes(Ve))throw new Error("recovery id invalid");const ot=Ve===2||Ve===3?me+t.n:me;if(ot>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const pt=Ve&1?"03":"02",Ft=d.fromHex(pt+y(ot)),dn=c(ot),Qt=i(-Ke*dn),Lr=i(Ne*dn),gr=d.BASE.multiplyAndAddUnsafe(Ft,Qt,Lr);if(!gr)throw new Error("point at infinify");return gr.assertValidity(),gr}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new z(this.r,i(-this.s),this.recovery):this}toDERRawBytes(){return rs(this.toDERHex())}toDERHex(){return os.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return rs(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const K={isValidPrivateKey(le){try{return f(le),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const le=Nb(t.n);return mI(t.randomBytes(le),t.n)},precompute(le=8,ie=d.BASE){return ie._setWindowSize(le),ie.multiply(BigInt(3)),ie}};function J(le,ie=!0){return d.fromPrivateKey(le).toRawBytes(ie)}function q(le){const ie=qs(le),me=typeof le=="string",Ne=(ie||me)&&le.length;return ie?Ne===s||Ne===o:me?Ne===2*s||Ne===2*o:le instanceof d}function ee(le,ie,me=!0){if(q(le))throw new Error("first arg must be private key");if(!q(ie))throw new Error("second arg must be public key");return d.fromHex(ie).multiply(f(le)).toRawBytes(me)}const be=t.bits2int||function(le){if(le.length>8192)throw new Error("input is too large");const ie=On(le),me=le.length*8-t.nBitLength;return me>0?ie>>BigInt(me):ie},fe=t.bits2int_modN||function(le){return i(be(le))},ne=Ei(t.nBitLength);function pe(le){return Js("num < 2^"+t.nBitLength,le,is,ne),So(le,t.nByteLength)}function xe(le,ie,me=Ie){if(["recovered","canonical"].some(gs=>gs in me))throw new Error("sign() legacy options not supported");const{hash:Ne,randomBytes:Ve}=t;let{lowS:Ke,prehash:ot,extraEntropy:pt}=me;Ke==null&&(Ke=!0),le=or("msgHash",le),Fb(me),ot&&(le=or("prehashed msgHash",Ne(le)));const Ft=fe(le),dn=f(ie),Qt=[pe(dn),pe(Ft)];if(pt!=null&&pt!==!1){const gs=pt===!0?Ve(n.BYTES):pt;Qt.push(or("extraEntropy",gs))}const Lr=Co(...Qt),gr=Ft;function Qr(gs){const _r=be(gs);if(!_(_r))return;const Ks=c(_r),fi=d.BASE.multiply(_r).toAffine(),Sn=i(fi.x);if(Sn===is)return;const es=i(Ks*i(gr+Sn*dn));if(es===is)return;let _s=(fi.x===Sn?0:2)|Number(fi.y&Ot),sd=es;return Ke&&b(es)&&(sd=k(es),_s^=1),new z(Sn,sd,_s)}return{seed:Lr,k2sig:Qr}}const Ie={lowS:t.lowS,prehash:!1},_e={lowS:t.lowS,prehash:!1};function Me(le,ie,me=Ie){const{seed:Ne,k2sig:Ve}=xe(le,ie,me),Ke=t;return Mt(Ke.hash.outputLen,Ke.nByteLength,Ke.hmac)(Ne,Ve)}d.BASE._setWindowSize(8);function Ge(le,ie,me,Ne=_e){const Ve=le;ie=or("msgHash",ie),me=or("publicKey",me);const{lowS:Ke,prehash:ot,format:pt}=Ne;if(Fb(Ne),"strict"in Ne)throw new Error("options.strict was renamed to lowS");if(pt!==void 0&&pt!=="compact"&&pt!=="der")throw new Error("format must be compact or der");const Ft=typeof Ve=="string"||qs(Ve),dn=!Ft&&!pt&&typeof Ve=="object"&&Ve!==null&&typeof Ve.r=="bigint"&&typeof Ve.s=="bigint";if(!Ft&&!dn)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let Qt,Lr;try{if(dn&&(Qt=new z(Ve.r,Ve.s)),Ft){try{pt!=="compact"&&(Qt=z.fromDER(Ve))}catch(_s){if(!(_s instanceof os.Err))throw _s}!Qt&&pt!=="der"&&(Qt=z.fromCompact(Ve))}Lr=d.fromHex(me)}catch{return!1}if(!Qt||Ke&&Qt.hasHighS())return!1;ot&&(ie=t.hash(ie));const{r:gr,s:Qr}=Qt,gs=fe(ie),_r=c(Qr),Ks=i(gs*_r),fi=i(gr*_r),Sn=d.BASE.multiplyAndAddUnsafe(Lr,Ks,fi)?.toAffine();return Sn?i(Sn.x)===gr:!1}return{CURVE:t,getPublicKey:J,getSharedSecret:ee,sign:Me,verify:Ge,ProjectivePoint:d,Signature:z,utils:K}}function Vb(e,t){const n=e.ORDER;let r=is;for(let k=n-Ot;k%Bo===is;k/=Bo)r+=Ot;const s=r,o=Bo<<s-Ot-Ot,i=o*Bo,c=(n-Ot)/i,d=(c-Ot)/Bo,f=i-Ot,g=o,_=e.pow(t,c),y=e.pow(t,(c+Ot)/Bo);let b=(k,B)=>{let z=_,K=e.pow(B,f),J=e.sqr(K);J=e.mul(J,B);let q=e.mul(k,J);q=e.pow(q,d),q=e.mul(q,K),K=e.mul(q,B),J=e.mul(q,k);let ee=e.mul(J,K);q=e.pow(ee,g);let be=e.eql(q,e.ONE);K=e.mul(J,y),q=e.mul(ee,z),J=e.cmov(K,J,be),ee=e.cmov(q,ee,be);for(let fe=s;fe>Ot;fe--){let ne=fe-Bo;ne=Bo<<ne-Ot;let pe=e.pow(ee,ne);const xe=e.eql(pe,e.ONE);K=e.mul(J,z),z=e.mul(z,z),pe=e.mul(ee,z),J=e.cmov(K,J,xe),ee=e.cmov(pe,ee,xe)}return{isValid:be,value:J}};if(e.ORDER%Hb===sf){const k=(e.ORDER-sf)/Hb,B=e.sqrt(e.neg(t));b=(z,K)=>{let J=e.sqr(K);const q=e.mul(z,K);J=e.mul(J,q);let ee=e.pow(J,k);ee=e.mul(ee,q);const be=e.mul(ee,B),fe=e.mul(e.sqr(ee),K),ne=e.eql(fe,z);let pe=e.cmov(be,ee,ne);return{isValid:ne,value:pe}}}return b}function xI(e,t){if(tf(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=Vb(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let s,o,i,c,d,f,g,_;s=e.sqr(r),s=e.mul(s,t.Z),o=e.sqr(s),o=e.add(o,s),i=e.add(o,e.ONE),i=e.mul(i,t.B),c=e.cmov(t.Z,e.neg(o),!e.eql(o,e.ZERO)),c=e.mul(c,t.A),o=e.sqr(i),f=e.sqr(c),d=e.mul(f,t.A),o=e.add(o,d),o=e.mul(o,i),f=e.mul(f,c),d=e.mul(f,t.B),o=e.add(o,d),g=e.mul(s,i);const{isValid:y,value:b}=n(o,f);_=e.mul(s,r),_=e.mul(_,b),g=e.cmov(g,i,y),_=e.cmov(_,b,y);const k=e.isOdd(r)===e.isOdd(_);return _=e.cmov(e.neg(_),_,k),g=e.div(g,c),{x:g,y:_}}}class Zb extends nu{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Hd(t);const r=Po(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),o.fill(0)}update(t){return Qs(this),this.iHash.update(t),this}digestInto(t){Qs(this),Oo(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:c}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=c,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Kb=(e,t,n)=>new Zb(e,t).update(n).digest();Kb.create=(e,t)=>new Zb(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Wb(e){return{hash:e,hmac:(t,...n)=>Kb(e,t,Yp(...n)),randomBytes:Ti}}function SI(e,t){const n=r=>wg({...e,...Wb(r)});return Object.freeze({...n(t),create:n})}/*! scure-starknet - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lu=BigInt("3618502788666131213697322783095070105526743751716087489154079457884512865583"),ki=BigInt("0x800000000000000000000000000000000000000000000000000000000000000"),Gb=252;function Yb(e){for(;e[0]===0;)e=e.subarray(1);const t=e.length*8-Gb,n=On(e);return t>0?n>>BigInt(t):n}function Xb(e){return typeof e=="string"&&(e=Ag(e),e.length&1&&(e="0"+e)),rs(e)}const Oi=wg({a:BigInt(1),b:BigInt("3141592653589793238462643383279502884197169399375105820974944592307816406665"),Fp:nf(BigInt("0x800000000000011000000000000000000000000000000000000000000000001")),n:lu,nBitLength:Gb,Gx:BigInt("874739451078007766457464989774322083649278607533249481151382481072868806602"),Gy:BigInt("152666792071518830868575557812948353041420400780739481342941381225525861407"),h:BigInt(1),lowS:!1,...Wb(xi),bits2int:Yb,bits2int_modN:e=>{const t=On(e).toString(16);return t.length===63&&(e=Xb(t+"0")),hn(Yb(e),lu)}}),CI=Oi;function Na(e){return or("",typeof e=="string"?Xb(e):e)}function of(e){return ts(Na(e)).padStart(64,"0")}function Eg(e,t=!1){return Oi.getPublicKey(of(e),t)}function II(e,t){return Oi.getSharedSecret(of(e),t)}function qb(e){const{r:t,s:n}=e;if(t<0n||t>=ki)throw new Error(`Signature.r should be [1, ${ki})`);const r=uu(n,lu);if(r<0n||r>=ki)throw new Error(`inv(Signature.s) should be [1, ${ki})`)}function Jb(e){const t=Na(e);if(On(t)>=ki)throw new Error(`msgHash should be [0, ${ki})`);return t}function Qb(e,t,n){const r=Oi.sign(Jb(e),of(t),n);return qb(r),r}function ew(e,t,n){if(!(e instanceof Ri)){const r=Na(e);try{e=Ri.fromDER(r)}catch(s){if(!(s instanceof os.Err))throw s;e=Ri.fromCompact(r)}}return qb(e),Oi.verify(e,Jb(t),Na(n))}const{CURVE:kI,ProjectivePoint:Ba,Signature:Ri,utils:vg}=Oi;function tw(e){return`0x${ts(e.subarray(1)).replace(/^0+/gm,"")}`}function Ag(e){return e.replace(/^0x/i,"")}function nw(e){const t=Na(e),n=2n**256n,r=n-hn(n,lu);for(let s=0;;s++){const o=xg(Co(t,Gc(BigInt(s))));if(o<r)return hn(o,lu).toString(16);if(s===1e5)throw new Error("grindKey is broken: tried 100k vals")}}function Tg(e){return tw(Eg(e,!0))}function OI(e){if(e=Ag(e),e.length!==130)throw new Error("Wrong ethereum signature");return nw(e.substring(0,64))}const RI=2n**31n-1n,af=e=>Number(e&RI);function PI(e,t,n,r){const s=af(xg(e)),o=af(xg(t)),i=ka(Ag(n));return`m/2645'/${s}'/${o}'/${af(i)}'/${af(i>>31n)}'/${r}`}const du=[new Ba(2089986280348253421170679821480865132823066470938446095505822317253594081284n,1713931329540660377023406109199410414810705867260802078187082345529207694986n,1n),new Ba(996781205833008774514500082376783249102396023663454813447423147977397232763n,1668503676786377725805489344771023921079126552019160156920634619255970485781n,1n),new Ba(2251563274489750535117886426533222435294046428347329203627021249169616184184n,1798716007562728905295480679789526322175868328062420237419143593021674992973n,1n),new Ba(2138414695194151160943305727036575959195309218611738193261179310511854807447n,113410276730064486255102093846540133784865286929052426931474106396135072156n,1n),new Ba(2379962749567351885752724891227938183011949129833673362440656643086021394946n,776496453633298175483985398648758586525933812536653089401905292063708816422n,1n)];function rw(e,t){const n=[];let r=e;for(let s=0;s<248;s++)n.push(r),r=r.double();r=t;for(let s=0;s<4;s++)n.push(r),r=r.double();return n}const NI=rw(du[1],du[2]),BI=rw(du[3],du[4]);function DI(e){let t;if(typeof e=="bigint")t=e;else if(typeof e=="number"){if(!Number.isSafeInteger(e))throw new Error(`Invalid pedersenArg: ${e}`);t=BigInt(e)}else t=On(Na(e));if(!(0n<=t&&t<Oi.CURVE.Fp.ORDER))throw new Error(`PedersenArg should be 0 <= value < CURVE.P: ${t}`);return t}function sw(e,t,n){let r=DI(t);for(let s=0;s<252;s++){const o=n[s];if(!o)throw new Error("invalid constant index");if(o.equals(e))throw new Error("Same point");(r&1n)!==0n&&(e=e.add(o)),r>>=1n}return e}function Da(e,t){let n=du[0];return n=sw(n,e,NI),n=sw(n,t,BI),tw(n.toRawBytes(!0))}const LI=(e,t=Da)=>[0,...e,e.length].reduce((n,r)=>t(n,r)),$I=Ei(250),Do=e=>On(Xe(e))&$I,xg=e=>On(xi(e)),ow=nf(BigInt("3618502788666131213697322783095070105623107215331596699973092056135872020481"));function Sg(e,t,n){const r=e.fromBytes(xi(Ai(`${t}${n}`)));return e.create(r)}function iw(e,t,n,r=0){const s=[],o=[];for(let i=0;i<n;i++)s.push(Sg(e,`${t}x`,r*n+i)),o.push(Sg(e,`${t}y`,r*n+i));if(new Set([...s,...o]).size!==2*n)throw new Error("X and Y values are not distinct");return s.map(i=>o.map(c=>e.inv(e.sub(i,c))))}const UI=[[3,1,1],[1,-1,1],[1,1,-2]].map(e=>e.map(BigInt));function Cg(e,t){if(tf(e.Fp),!Number.isSafeInteger(e.rate)||!Number.isSafeInteger(e.capacity))throw new Error(`Wrong poseidon opts: ${e}`);const n=e.rate+e.capacity,r=e.roundsFull+e.roundsPartial,s=[];for(let i=0;i<r;i++){const c=[];for(let d=0;d<n;d++)c.push(Sg(e.Fp,"Hades",n*i+d));s.push(c)}const o=Db({...e,t:n,sboxPower:3,reversePartialPowIdx:!0,mds:t,roundConstants:s});return o.m=n,o.rate=e.rate,o.capacity=e.capacity,o}function MI(e,t=0){const n=e.rate+e.capacity;if(!Number.isSafeInteger(t))throw new Error(`Wrong mdsAttempt=${t}`);return Cg(e,iw(e.Fp,"HadesMDS",n,t))}const fu=Cg({Fp:ow,rate:2,capacity:1,roundsFull:8,roundsPartial:83},UI);function Ig(e,t,n=fu){return n([e,t,2n])[0]}function zI(e,t,n=fu){return Gc(Ig(On(e),On(t),n))}function FI(e,t=fu){return t([e,0n,1n])[0]}function En(e,t=fu){const{m:n,rate:r}=t;if(!Array.isArray(e))throw new Error("bigint array expected in values");const s=Array.from(e);for(s.push(1n);s.length%r!==0;)s.push(0n);let o=new Array(n).fill(0n);for(let i=0;i<s.length;i+=r){for(let c=0;c<r;c++){const d=s[i+c];if(typeof d>"u")throw new Error("invalid index");if(typeof o[c]>"u")throw new Error("state[j] is undefined");o[c]=o[c]+d}o=t(o)}return o[0]}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const HI=4,aw=0,cw=1,jI=2;function La(e){let t=e.length;for(;--t>=0;)e[t]=0}const VI=0,uw=1,ZI=2,KI=3,WI=258,kg=29,hu=256,pu=hu+1+kg,$a=30,Og=19,lw=2*pu+1,Pi=15,Rg=16,GI=7,Pg=256,dw=16,fw=17,hw=18,Ng=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),cf=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),YI=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),pw=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),XI=512,to=new Array((pu+2)*2);La(to);const gu=new Array($a*2);La(gu);const _u=new Array(XI);La(_u);const mu=new Array(WI-KI+1);La(mu);const Bg=new Array(kg);La(Bg);const uf=new Array($a);La(uf);function Dg(e,t,n,r,s){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=s,this.has_stree=e&&e.length}let gw,_w,mw;function Lg(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const yw=e=>e<256?_u[e]:_u[256+(e>>>7)],yu=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},ir=(e,t,n)=>{e.bi_valid>Rg-n?(e.bi_buf|=t<<e.bi_valid&65535,yu(e,e.bi_buf),e.bi_buf=t>>Rg-e.bi_valid,e.bi_valid+=n-Rg):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},ws=(e,t,n)=>{ir(e,n[t*2],n[t*2+1])},bw=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},qI=e=>{e.bi_valid===16?(yu(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},JI=(e,t)=>{const n=t.dyn_tree,r=t.max_code,s=t.stat_desc.static_tree,o=t.stat_desc.has_stree,i=t.stat_desc.extra_bits,c=t.stat_desc.extra_base,d=t.stat_desc.max_length;let f,g,_,y,b,k,B=0;for(y=0;y<=Pi;y++)e.bl_count[y]=0;for(n[e.heap[e.heap_max]*2+1]=0,f=e.heap_max+1;f<lw;f++)g=e.heap[f],y=n[n[g*2+1]*2+1]+1,y>d&&(y=d,B++),n[g*2+1]=y,!(g>r)&&(e.bl_count[y]++,b=0,g>=c&&(b=i[g-c]),k=n[g*2],e.opt_len+=k*(y+b),o&&(e.static_len+=k*(s[g*2+1]+b)));if(B!==0){do{for(y=d-1;e.bl_count[y]===0;)y--;e.bl_count[y]--,e.bl_count[y+1]+=2,e.bl_count[d]--,B-=2}while(B>0);for(y=d;y!==0;y--)for(g=e.bl_count[y];g!==0;)_=e.heap[--f],!(_>r)&&(n[_*2+1]!==y&&(e.opt_len+=(y-n[_*2+1])*n[_*2],n[_*2+1]=y),g--)}},ww=(e,t,n)=>{const r=new Array(Pi+1);let s=0,o,i;for(o=1;o<=Pi;o++)s=s+n[o-1]<<1,r[o]=s;for(i=0;i<=t;i++){let c=e[i*2+1];c!==0&&(e[i*2]=bw(r[c]++,c))}},QI=()=>{let e,t,n,r,s;const o=new Array(Pi+1);for(n=0,r=0;r<kg-1;r++)for(Bg[r]=n,e=0;e<1<<Ng[r];e++)mu[n++]=r;for(mu[n-1]=r,s=0,r=0;r<16;r++)for(uf[r]=s,e=0;e<1<<cf[r];e++)_u[s++]=r;for(s>>=7;r<$a;r++)for(uf[r]=s<<7,e=0;e<1<<cf[r]-7;e++)_u[256+s++]=r;for(t=0;t<=Pi;t++)o[t]=0;for(e=0;e<=143;)to[e*2+1]=8,e++,o[8]++;for(;e<=255;)to[e*2+1]=9,e++,o[9]++;for(;e<=279;)to[e*2+1]=7,e++,o[7]++;for(;e<=287;)to[e*2+1]=8,e++,o[8]++;for(ww(to,pu+1,o),e=0;e<$a;e++)gu[e*2+1]=5,gu[e*2]=bw(e,5);gw=new Dg(to,Ng,hu+1,pu,Pi),_w=new Dg(gu,cf,0,$a,Pi),mw=new Dg(new Array(0),YI,0,Og,GI)},Ew=e=>{let t;for(t=0;t<pu;t++)e.dyn_ltree[t*2]=0;for(t=0;t<$a;t++)e.dyn_dtree[t*2]=0;for(t=0;t<Og;t++)e.bl_tree[t*2]=0;e.dyn_ltree[Pg*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},vw=e=>{e.bi_valid>8?yu(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Aw=(e,t,n,r)=>{const s=t*2,o=n*2;return e[s]<e[o]||e[s]===e[o]&&r[t]<=r[n]},$g=(e,t,n)=>{const r=e.heap[n];let s=n<<1;for(;s<=e.heap_len&&(s<e.heap_len&&Aw(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!Aw(t,r,e.heap[s],e.depth));)e.heap[n]=e.heap[s],n=s,s<<=1;e.heap[n]=r},Tw=(e,t,n)=>{let r,s,o=0,i,c;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+o++]&255,r+=(e.pending_buf[e.sym_buf+o++]&255)<<8,s=e.pending_buf[e.sym_buf+o++],r===0?ws(e,s,t):(i=mu[s],ws(e,i+hu+1,t),c=Ng[i],c!==0&&(s-=Bg[i],ir(e,s,c)),r--,i=yw(r),ws(e,i,n),c=cf[i],c!==0&&(r-=uf[i],ir(e,r,c)));while(o<e.sym_next);ws(e,Pg,t)},Ug=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.elems;let i,c,d=-1,f;for(e.heap_len=0,e.heap_max=lw,i=0;i<o;i++)n[i*2]!==0?(e.heap[++e.heap_len]=d=i,e.depth[i]=0):n[i*2+1]=0;for(;e.heap_len<2;)f=e.heap[++e.heap_len]=d<2?++d:0,n[f*2]=1,e.depth[f]=0,e.opt_len--,s&&(e.static_len-=r[f*2+1]);for(t.max_code=d,i=e.heap_len>>1;i>=1;i--)$g(e,n,i);f=o;do i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],$g(e,n,1),c=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=c,n[f*2]=n[i*2]+n[c*2],e.depth[f]=(e.depth[i]>=e.depth[c]?e.depth[i]:e.depth[c])+1,n[i*2+1]=n[c*2+1]=f,e.heap[1]=f++,$g(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],JI(e,t),ww(n,d,e.bl_count)},xw=(e,t,n)=>{let r,s=-1,o,i=t[0*2+1],c=0,d=7,f=4;for(i===0&&(d=138,f=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)o=i,i=t[(r+1)*2+1],!(++c<d&&o===i)&&(c<f?e.bl_tree[o*2]+=c:o!==0?(o!==s&&e.bl_tree[o*2]++,e.bl_tree[dw*2]++):c<=10?e.bl_tree[fw*2]++:e.bl_tree[hw*2]++,c=0,s=o,i===0?(d=138,f=3):o===i?(d=6,f=3):(d=7,f=4))},Sw=(e,t,n)=>{let r,s=-1,o,i=t[0*2+1],c=0,d=7,f=4;for(i===0&&(d=138,f=3),r=0;r<=n;r++)if(o=i,i=t[(r+1)*2+1],!(++c<d&&o===i)){if(c<f)do ws(e,o,e.bl_tree);while(--c!==0);else o!==0?(o!==s&&(ws(e,o,e.bl_tree),c--),ws(e,dw,e.bl_tree),ir(e,c-3,2)):c<=10?(ws(e,fw,e.bl_tree),ir(e,c-3,3)):(ws(e,hw,e.bl_tree),ir(e,c-11,7));c=0,s=o,i===0?(d=138,f=3):o===i?(d=6,f=3):(d=7,f=4)}},ek=e=>{let t;for(xw(e,e.dyn_ltree,e.l_desc.max_code),xw(e,e.dyn_dtree,e.d_desc.max_code),Ug(e,e.bl_desc),t=Og-1;t>=3&&e.bl_tree[pw[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},tk=(e,t,n,r)=>{let s;for(ir(e,t-257,5),ir(e,n-1,5),ir(e,r-4,4),s=0;s<r;s++)ir(e,e.bl_tree[pw[s]*2+1],3);Sw(e,e.dyn_ltree,t-1),Sw(e,e.dyn_dtree,n-1)},nk=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return aw;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return cw;for(n=32;n<hu;n++)if(e.dyn_ltree[n*2]!==0)return cw;return aw};let Cw=!1;const rk=e=>{Cw||(QI(),Cw=!0),e.l_desc=new Lg(e.dyn_ltree,gw),e.d_desc=new Lg(e.dyn_dtree,_w),e.bl_desc=new Lg(e.bl_tree,mw),e.bi_buf=0,e.bi_valid=0,Ew(e)},Iw=(e,t,n,r)=>{ir(e,(VI<<1)+(r?1:0),3),vw(e),yu(e,n),yu(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},sk=e=>{ir(e,uw<<1,3),ws(e,Pg,to),qI(e)},ok=(e,t,n,r)=>{let s,o,i=0;e.level>0?(e.strm.data_type===jI&&(e.strm.data_type=nk(e)),Ug(e,e.l_desc),Ug(e,e.d_desc),i=ek(e),s=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=s&&(s=o)):s=o=n+5,n+4<=s&&t!==-1?Iw(e,t,n,r):e.strategy===HI||o===s?(ir(e,(uw<<1)+(r?1:0),3),Tw(e,to,gu)):(ir(e,(ZI<<1)+(r?1:0),3),tk(e,e.l_desc.max_code+1,e.d_desc.max_code+1,i+1),Tw(e,e.dyn_ltree,e.dyn_dtree)),Ew(e),r&&vw(e)},ik=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(mu[n]+hu+1)*2]++,e.dyn_dtree[yw(t)*2]++),e.sym_next===e.sym_end);var ak=rk,ck=Iw,uk=ok,lk=ik,dk=sk,fk={_tr_init:ak,_tr_stored_block:ck,_tr_flush_block:uk,_tr_tally:lk,_tr_align:dk},bu=(e,t,n,r)=>{let s=e&65535|0,o=e>>>16&65535|0,i=0;for(;n!==0;){i=n>2e3?2e3:n,n-=i;do s=s+t[r++]|0,o=o+s|0;while(--i);s%=65521,o%=65521}return s|o<<16|0};const hk=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},pk=new Uint32Array(hk());var vn=(e,t,n,r)=>{const s=pk,o=r+n;e^=-1;for(let i=r;i<o;i++)e=e>>>8^s[(e^t[i])&255];return e^-1},Ni={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Bi={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:gk,_tr_stored_block:Mg,_tr_flush_block:_k,_tr_tally:Lo,_tr_align:mk}=fk,{Z_NO_FLUSH:$o,Z_PARTIAL_FLUSH:yk,Z_FULL_FLUSH:bk,Z_FINISH:Vr,Z_BLOCK:kw,Z_OK:Rn,Z_STREAM_END:Ow,Z_STREAM_ERROR:Es,Z_DATA_ERROR:wk,Z_BUF_ERROR:zg,Z_DEFAULT_COMPRESSION:Ek,Z_FILTERED:vk,Z_HUFFMAN_ONLY:lf,Z_RLE:Ak,Z_FIXED:Tk,Z_DEFAULT_STRATEGY:xk,Z_UNKNOWN:Sk,Z_DEFLATED:df}=Bi,Ck=9,Ik=15,kk=8,Fg=256+1+29,Ok=30,Rk=19,Pk=2*Fg+1,Nk=15,ft=3,Uo=258,vs=Uo+ft+1,Bk=32,Ua=42,Hg=57,jg=69,Vg=73,Zg=91,Kg=103,Di=113,wu=666,Xn=1,Ma=2,Li=3,za=4,Dk=3,$i=(e,t)=>(e.msg=Ni[t],t),Rw=e=>e*2-(e>4?9:0),Mo=e=>{let t=e.length;for(;--t>=0;)e[t]=0},Lk=e=>{let t,n,r,s=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=s?n-s:0;while(--t);t=s,r=t;do n=e.prev[--r],e.prev[r]=n>=s?n-s:0;while(--t)};let zo=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const Ar=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},Tr=(e,t)=>{_k(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ar(e.strm)},vt=(e,t)=>{e.pending_buf[e.pending++]=t},Eu=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},Wg=(e,t,n,r)=>{let s=e.avail_in;return s>r&&(s=r),s===0?0:(e.avail_in-=s,t.set(e.input.subarray(e.next_in,e.next_in+s),n),e.state.wrap===1?e.adler=bu(e.adler,t,s,n):e.state.wrap===2&&(e.adler=vn(e.adler,t,s,n)),e.next_in+=s,e.total_in+=s,s)},Pw=(e,t)=>{let n=e.max_chain_length,r=e.strstart,s,o,i=e.prev_length,c=e.nice_match;const d=e.strstart>e.w_size-vs?e.strstart-(e.w_size-vs):0,f=e.window,g=e.w_mask,_=e.prev,y=e.strstart+Uo;let b=f[r+i-1],k=f[r+i];e.prev_length>=e.good_match&&(n>>=2),c>e.lookahead&&(c=e.lookahead);do if(s=t,!(f[s+i]!==k||f[s+i-1]!==b||f[s]!==f[r]||f[++s]!==f[r+1])){r+=2,s++;do;while(f[++r]===f[++s]&&f[++r]===f[++s]&&f[++r]===f[++s]&&f[++r]===f[++s]&&f[++r]===f[++s]&&f[++r]===f[++s]&&f[++r]===f[++s]&&f[++r]===f[++s]&&r<y);if(o=Uo-(y-r),r=y-Uo,o>i){if(e.match_start=t,i=o,o>=c)break;b=f[r+i-1],k=f[r+i]}}while((t=_[t&g])>d&&--n!==0);return i<=e.lookahead?i:e.lookahead},Fa=e=>{const t=e.w_size;let n,r,s;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-vs)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),Lk(e),r+=t),e.strm.avail_in===0)break;if(n=Wg(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=ft)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=zo(e,e.ins_h,e.window[s+1]);e.insert&&(e.ins_h=zo(e,e.ins_h,e.window[s+ft-1]),e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<ft)););}while(e.lookahead<vs&&e.strm.avail_in!==0)},Nw=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,s,o,i=0,c=e.strm.avail_in;do{if(r=65535,o=e.bi_valid+42>>3,e.strm.avail_out<o||(o=e.strm.avail_out-o,s=e.strstart-e.block_start,r>s+e.strm.avail_in&&(r=s+e.strm.avail_in),r>o&&(r=o),r<n&&(r===0&&t!==Vr||t===$o||r!==s+e.strm.avail_in)))break;i=t===Vr&&r===s+e.strm.avail_in?1:0,Mg(e,0,0,i),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,Ar(e.strm),s&&(s>r&&(s=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+s),e.strm.next_out),e.strm.next_out+=s,e.strm.avail_out-=s,e.strm.total_out+=s,e.block_start+=s,r-=s),r&&(Wg(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(i===0);return c-=e.strm.avail_in,c&&(c>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=c&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-c,e.strm.next_in),e.strstart),e.strstart+=c,e.insert+=c>e.w_size-e.insert?e.w_size-e.insert:c),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),i?za:t!==$o&&t!==Vr&&e.strm.avail_in===0&&e.strstart===e.block_start?Ma:(o=e.window_size-e.strstart,e.strm.avail_in>o&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,o+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),o>e.strm.avail_in&&(o=e.strm.avail_in),o&&(Wg(e.strm,e.window,e.strstart,o),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.high_water<e.strstart&&(e.high_water=e.strstart),o=e.bi_valid+42>>3,o=e.pending_buf_size-o>65535?65535:e.pending_buf_size-o,n=o>e.w_size?e.w_size:o,s=e.strstart-e.block_start,(s>=n||(s||t===Vr)&&t!==$o&&e.strm.avail_in===0&&s<=o)&&(r=s>o?o:s,i=t===Vr&&e.strm.avail_in===0&&r===s?1:0,Mg(e,e.block_start,r,i),e.block_start+=r,Ar(e.strm)),i?Li:Xn)},Gg=(e,t)=>{let n,r;for(;;){if(e.lookahead<vs){if(Fa(e),e.lookahead<vs&&t===$o)return Xn;if(e.lookahead===0)break}if(n=0,e.lookahead>=ft&&(e.ins_h=zo(e,e.ins_h,e.window[e.strstart+ft-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-vs&&(e.match_length=Pw(e,n)),e.match_length>=ft)if(r=Lo(e,e.strstart-e.match_start,e.match_length-ft),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=ft){e.match_length--;do e.strstart++,e.ins_h=zo(e,e.ins_h,e.window[e.strstart+ft-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=zo(e,e.ins_h,e.window[e.strstart+1]);else r=Lo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Tr(e,!1),e.strm.avail_out===0))return Xn}return e.insert=e.strstart<ft-1?e.strstart:ft-1,t===Vr?(Tr(e,!0),e.strm.avail_out===0?Li:za):e.sym_next&&(Tr(e,!1),e.strm.avail_out===0)?Xn:Ma},Ha=(e,t)=>{let n,r,s;for(;;){if(e.lookahead<vs){if(Fa(e),e.lookahead<vs&&t===$o)return Xn;if(e.lookahead===0)break}if(n=0,e.lookahead>=ft&&(e.ins_h=zo(e,e.ins_h,e.window[e.strstart+ft-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=ft-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-vs&&(e.match_length=Pw(e,n),e.match_length<=5&&(e.strategy===vk||e.match_length===ft&&e.strstart-e.match_start>4096)&&(e.match_length=ft-1)),e.prev_length>=ft&&e.match_length<=e.prev_length){s=e.strstart+e.lookahead-ft,r=Lo(e,e.strstart-1-e.prev_match,e.prev_length-ft),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=s&&(e.ins_h=zo(e,e.ins_h,e.window[e.strstart+ft-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=ft-1,e.strstart++,r&&(Tr(e,!1),e.strm.avail_out===0))return Xn}else if(e.match_available){if(r=Lo(e,0,e.window[e.strstart-1]),r&&Tr(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Xn}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Lo(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<ft-1?e.strstart:ft-1,t===Vr?(Tr(e,!0),e.strm.avail_out===0?Li:za):e.sym_next&&(Tr(e,!1),e.strm.avail_out===0)?Xn:Ma},$k=(e,t)=>{let n,r,s,o;const i=e.window;for(;;){if(e.lookahead<=Uo){if(Fa(e),e.lookahead<=Uo&&t===$o)return Xn;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=ft&&e.strstart>0&&(s=e.strstart-1,r=i[s],r===i[++s]&&r===i[++s]&&r===i[++s])){o=e.strstart+Uo;do;while(r===i[++s]&&r===i[++s]&&r===i[++s]&&r===i[++s]&&r===i[++s]&&r===i[++s]&&r===i[++s]&&r===i[++s]&&s<o);e.match_length=Uo-(o-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=ft?(n=Lo(e,1,e.match_length-ft),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Lo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Tr(e,!1),e.strm.avail_out===0))return Xn}return e.insert=0,t===Vr?(Tr(e,!0),e.strm.avail_out===0?Li:za):e.sym_next&&(Tr(e,!1),e.strm.avail_out===0)?Xn:Ma},Uk=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(Fa(e),e.lookahead===0)){if(t===$o)return Xn;break}if(e.match_length=0,n=Lo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Tr(e,!1),e.strm.avail_out===0))return Xn}return e.insert=0,t===Vr?(Tr(e,!0),e.strm.avail_out===0?Li:za):e.sym_next&&(Tr(e,!1),e.strm.avail_out===0)?Xn:Ma};function As(e,t,n,r,s){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=s}const vu=[new As(0,0,0,0,Nw),new As(4,4,8,4,Gg),new As(4,5,16,8,Gg),new As(4,6,32,32,Gg),new As(4,4,16,16,Ha),new As(8,16,32,32,Ha),new As(8,16,128,128,Ha),new As(8,32,128,256,Ha),new As(32,128,258,1024,Ha),new As(32,258,258,4096,Ha)],Mk=e=>{e.window_size=2*e.w_size,Mo(e.head),e.max_lazy_match=vu[e.level].max_lazy,e.good_match=vu[e.level].good_length,e.nice_match=vu[e.level].nice_length,e.max_chain_length=vu[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=ft-1,e.match_available=0,e.ins_h=0};function zk(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=df,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Pk*2),this.dyn_dtree=new Uint16Array((2*Ok+1)*2),this.bl_tree=new Uint16Array((2*Rk+1)*2),Mo(this.dyn_ltree),Mo(this.dyn_dtree),Mo(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Nk+1),this.heap=new Uint16Array(2*Fg+1),Mo(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Fg+1),Mo(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Au=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Ua&&t.status!==Hg&&t.status!==jg&&t.status!==Vg&&t.status!==Zg&&t.status!==Kg&&t.status!==Di&&t.status!==wu?1:0},Bw=e=>{if(Au(e))return $i(e,Es);e.total_in=e.total_out=0,e.data_type=Sk;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?Hg:t.wrap?Ua:Di,e.adler=t.wrap===2?0:1,t.last_flush=-2,gk(t),Rn},Dw=e=>{const t=Bw(e);return t===Rn&&Mk(e.state),t},Fk=(e,t)=>Au(e)||e.state.wrap!==2?Es:(e.state.gzhead=t,Rn),Lw=(e,t,n,r,s,o)=>{if(!e)return Es;let i=1;if(t===Ek&&(t=6),r<0?(i=0,r=-r):r>15&&(i=2,r-=16),s<1||s>Ck||n!==df||r<8||r>15||t<0||t>9||o<0||o>Tk||r===8&&i!==1)return $i(e,Es);r===8&&(r=9);const c=new zk;return e.state=c,c.strm=e,c.status=Ua,c.wrap=i,c.gzhead=null,c.w_bits=r,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=s+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+ft-1)/ft),c.window=new Uint8Array(c.w_size*2),c.head=new Uint16Array(c.hash_size),c.prev=new Uint16Array(c.w_size),c.lit_bufsize=1<<s+6,c.pending_buf_size=c.lit_bufsize*4,c.pending_buf=new Uint8Array(c.pending_buf_size),c.sym_buf=c.lit_bufsize,c.sym_end=(c.lit_bufsize-1)*3,c.level=t,c.strategy=o,c.method=n,Dw(e)},Hk=(e,t)=>Lw(e,t,df,Ik,kk,xk),jk=(e,t)=>{if(Au(e)||t>kw||t<0)return e?$i(e,Es):Es;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===wu&&t!==Vr)return $i(e,e.avail_out===0?zg:Es);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(Ar(e),e.avail_out===0)return n.last_flush=-1,Rn}else if(e.avail_in===0&&Rw(t)<=Rw(r)&&t!==Vr)return $i(e,zg);if(n.status===wu&&e.avail_in!==0)return $i(e,zg);if(n.status===Ua&&n.wrap===0&&(n.status=Di),n.status===Ua){let s=df+(n.w_bits-8<<4)<<8,o=-1;if(n.strategy>=lf||n.level<2?o=0:n.level<6?o=1:n.level===6?o=2:o=3,s|=o<<6,n.strstart!==0&&(s|=Bk),s+=31-s%31,Eu(n,s),n.strstart!==0&&(Eu(n,e.adler>>>16),Eu(n,e.adler&65535)),e.adler=1,n.status=Di,Ar(e),n.pending!==0)return n.last_flush=-1,Rn}if(n.status===Hg){if(e.adler=0,vt(n,31),vt(n,139),vt(n,8),n.gzhead)vt(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),vt(n,n.gzhead.time&255),vt(n,n.gzhead.time>>8&255),vt(n,n.gzhead.time>>16&255),vt(n,n.gzhead.time>>24&255),vt(n,n.level===9?2:n.strategy>=lf||n.level<2?4:0),vt(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(vt(n,n.gzhead.extra.length&255),vt(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=vn(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=jg;else if(vt(n,0),vt(n,0),vt(n,0),vt(n,0),vt(n,0),vt(n,n.level===9?2:n.strategy>=lf||n.level<2?4:0),vt(n,Dk),n.status=Di,Ar(e),n.pending!==0)return n.last_flush=-1,Rn}if(n.status===jg){if(n.gzhead.extra){let s=n.pending,o=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+o>n.pending_buf_size;){let c=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+c),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>s&&(e.adler=vn(e.adler,n.pending_buf,n.pending-s,s)),n.gzindex+=c,Ar(e),n.pending!==0)return n.last_flush=-1,Rn;s=0,o-=c}let i=new Uint8Array(n.gzhead.extra);n.pending_buf.set(i.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending+=o,n.gzhead.hcrc&&n.pending>s&&(e.adler=vn(e.adler,n.pending_buf,n.pending-s,s)),n.gzindex=0}n.status=Vg}if(n.status===Vg){if(n.gzhead.name){let s=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>s&&(e.adler=vn(e.adler,n.pending_buf,n.pending-s,s)),Ar(e),n.pending!==0)return n.last_flush=-1,Rn;s=0}n.gzindex<n.gzhead.name.length?o=n.gzhead.name.charCodeAt(n.gzindex++)&255:o=0,vt(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>s&&(e.adler=vn(e.adler,n.pending_buf,n.pending-s,s)),n.gzindex=0}n.status=Zg}if(n.status===Zg){if(n.gzhead.comment){let s=n.pending,o;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>s&&(e.adler=vn(e.adler,n.pending_buf,n.pending-s,s)),Ar(e),n.pending!==0)return n.last_flush=-1,Rn;s=0}n.gzindex<n.gzhead.comment.length?o=n.gzhead.comment.charCodeAt(n.gzindex++)&255:o=0,vt(n,o)}while(o!==0);n.gzhead.hcrc&&n.pending>s&&(e.adler=vn(e.adler,n.pending_buf,n.pending-s,s))}n.status=Kg}if(n.status===Kg){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Ar(e),n.pending!==0))return n.last_flush=-1,Rn;vt(n,e.adler&255),vt(n,e.adler>>8&255),e.adler=0}if(n.status=Di,Ar(e),n.pending!==0)return n.last_flush=-1,Rn}if(e.avail_in!==0||n.lookahead!==0||t!==$o&&n.status!==wu){let s=n.level===0?Nw(n,t):n.strategy===lf?Uk(n,t):n.strategy===Ak?$k(n,t):vu[n.level].func(n,t);if((s===Li||s===za)&&(n.status=wu),s===Xn||s===Li)return e.avail_out===0&&(n.last_flush=-1),Rn;if(s===Ma&&(t===yk?mk(n):t!==kw&&(Mg(n,0,0,!1),t===bk&&(Mo(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Ar(e),e.avail_out===0))return n.last_flush=-1,Rn}return t!==Vr?Rn:n.wrap<=0?Ow:(n.wrap===2?(vt(n,e.adler&255),vt(n,e.adler>>8&255),vt(n,e.adler>>16&255),vt(n,e.adler>>24&255),vt(n,e.total_in&255),vt(n,e.total_in>>8&255),vt(n,e.total_in>>16&255),vt(n,e.total_in>>24&255)):(Eu(n,e.adler>>>16),Eu(n,e.adler&65535)),Ar(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Rn:Ow)},Vk=e=>{if(Au(e))return Es;const t=e.state.status;return e.state=null,t===Di?$i(e,wk):Rn},Zk=(e,t)=>{let n=t.length;if(Au(e))return Es;const r=e.state,s=r.wrap;if(s===2||s===1&&r.status!==Ua||r.lookahead)return Es;if(s===1&&(e.adler=bu(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){s===0&&(Mo(r.head),r.strstart=0,r.block_start=0,r.insert=0);let d=new Uint8Array(r.w_size);d.set(t.subarray(n-r.w_size,n),0),t=d,n=r.w_size}const o=e.avail_in,i=e.next_in,c=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Fa(r);r.lookahead>=ft;){let d=r.strstart,f=r.lookahead-(ft-1);do r.ins_h=zo(r,r.ins_h,r.window[d+ft-1]),r.prev[d&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=d,d++;while(--f);r.strstart=d,r.lookahead=ft-1,Fa(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=ft-1,r.match_available=0,e.next_in=i,e.input=c,e.avail_in=o,r.wrap=s,Rn};var Kk=Hk,Wk=Lw,Gk=Dw,Yk=Bw,Xk=Fk,qk=jk,Jk=Vk,Qk=Zk,eO="pako deflate (from Nodeca project)",Tu={deflateInit:Kk,deflateInit2:Wk,deflateReset:Gk,deflateResetKeep:Yk,deflateSetHeader:Xk,deflate:qk,deflateEnd:Jk,deflateSetDictionary:Qk,deflateInfo:eO};const tO=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var nO=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)tO(n,r)&&(e[r]=n[r])}}return e},rO=e=>{let t=0;for(let r=0,s=e.length;r<s;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,s=0,o=e.length;r<o;r++){let i=e[r];n.set(i,s),s+=i.length}return n},ff={assign:nO,flattenChunks:rO};let $w=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{$w=!1}const xu=new Uint8Array(256);for(let e=0;e<256;e++)xu[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;xu[254]=xu[254]=1;var sO=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,s,o,i=e.length,c=0;for(s=0;s<i;s++)n=e.charCodeAt(s),(n&64512)===55296&&s+1<i&&(r=e.charCodeAt(s+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(c),o=0,s=0;o<c;s++)n=e.charCodeAt(s),(n&64512)===55296&&s+1<i&&(r=e.charCodeAt(s+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),s++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|n&63):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|n&63):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|n&63);return t};const oO=(e,t)=>{if(t<65534&&e.subarray&&$w)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var iO=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,s;const o=new Array(n*2);for(s=0,r=0;r<n;){let i=e[r++];if(i<128){o[s++]=i;continue}let c=xu[i];if(c>4){o[s++]=65533,r+=c-1;continue}for(i&=c===2?31:c===3?15:7;c>1&&r<n;)i=i<<6|e[r++]&63,c--;if(c>1){o[s++]=65533;continue}i<65536?o[s++]=i:(i-=65536,o[s++]=55296|i>>10&1023,o[s++]=56320|i&1023)}return oO(o,s)},aO=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+xu[e[n]]>t?n:t},Su={string2buf:sO,buf2string:iO,utf8border:aO};function cO(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Uw=cO;const Mw=Object.prototype.toString,{Z_NO_FLUSH:uO,Z_SYNC_FLUSH:lO,Z_FULL_FLUSH:dO,Z_FINISH:fO,Z_OK:hf,Z_STREAM_END:hO,Z_DEFAULT_COMPRESSION:pO,Z_DEFAULT_STRATEGY:gO,Z_DEFLATED:_O}=Bi;function Cu(e){this.options=ff.assign({level:pO,method:_O,chunkSize:16384,windowBits:15,memLevel:8,strategy:gO},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Uw,this.strm.avail_out=0;let n=Tu.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==hf)throw new Error(Ni[n]);if(t.header&&Tu.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=Su.string2buf(t.dictionary):Mw.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Tu.deflateSetDictionary(this.strm,r),n!==hf)throw new Error(Ni[n]);this._dict_set=!0}}Cu.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let s,o;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?fO:uO,typeof e=="string"?n.input=Su.string2buf(e):Mw.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===lO||o===dO)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(s=Tu.deflate(n,o),s===hO)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),s=Tu.deflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===hf;if(n.avail_out===0){this.onData(n.output);continue}if(o>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0},Cu.prototype.onData=function(e){this.chunks.push(e)},Cu.prototype.onEnd=function(e){e===hf&&(this.result=ff.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Yg(e,t){const n=new Cu(t);if(n.push(e,!0),n.err)throw n.msg||Ni[n.err];return n.result}function mO(e,t){return t=t||{},t.raw=!0,Yg(e,t)}function yO(e,t){return t=t||{},t.gzip=!0,Yg(e,t)}var bO=Cu,wO=Yg,EO=mO,vO=yO,AO=Bi,TO={Deflate:bO,deflate:wO,deflateRaw:EO,gzip:vO,constants:AO};const pf=16209,xO=16191;var SO=function(t,n){let r,s,o,i,c,d,f,g,_,y,b,k,B,z,K,J,q,ee,be,fe,ne,pe,xe,Ie;const _e=t.state;r=t.next_in,xe=t.input,s=r+(t.avail_in-5),o=t.next_out,Ie=t.output,i=o-(n-t.avail_out),c=o+(t.avail_out-257),d=_e.dmax,f=_e.wsize,g=_e.whave,_=_e.wnext,y=_e.window,b=_e.hold,k=_e.bits,B=_e.lencode,z=_e.distcode,K=(1<<_e.lenbits)-1,J=(1<<_e.distbits)-1;e:do{k<15&&(b+=xe[r++]<<k,k+=8,b+=xe[r++]<<k,k+=8),q=B[b&K];t:for(;;){if(ee=q>>>24,b>>>=ee,k-=ee,ee=q>>>16&255,ee===0)Ie[o++]=q&65535;else if(ee&16){be=q&65535,ee&=15,ee&&(k<ee&&(b+=xe[r++]<<k,k+=8),be+=b&(1<<ee)-1,b>>>=ee,k-=ee),k<15&&(b+=xe[r++]<<k,k+=8,b+=xe[r++]<<k,k+=8),q=z[b&J];n:for(;;){if(ee=q>>>24,b>>>=ee,k-=ee,ee=q>>>16&255,ee&16){if(fe=q&65535,ee&=15,k<ee&&(b+=xe[r++]<<k,k+=8,k<ee&&(b+=xe[r++]<<k,k+=8)),fe+=b&(1<<ee)-1,fe>d){t.msg="invalid distance too far back",_e.mode=pf;break e}if(b>>>=ee,k-=ee,ee=o-i,fe>ee){if(ee=fe-ee,ee>g&&_e.sane){t.msg="invalid distance too far back",_e.mode=pf;break e}if(ne=0,pe=y,_===0){if(ne+=f-ee,ee<be){be-=ee;do Ie[o++]=y[ne++];while(--ee);ne=o-fe,pe=Ie}}else if(_<ee){if(ne+=f+_-ee,ee-=_,ee<be){be-=ee;do Ie[o++]=y[ne++];while(--ee);if(ne=0,_<be){ee=_,be-=ee;do Ie[o++]=y[ne++];while(--ee);ne=o-fe,pe=Ie}}}else if(ne+=_-ee,ee<be){be-=ee;do Ie[o++]=y[ne++];while(--ee);ne=o-fe,pe=Ie}for(;be>2;)Ie[o++]=pe[ne++],Ie[o++]=pe[ne++],Ie[o++]=pe[ne++],be-=3;be&&(Ie[o++]=pe[ne++],be>1&&(Ie[o++]=pe[ne++]))}else{ne=o-fe;do Ie[o++]=Ie[ne++],Ie[o++]=Ie[ne++],Ie[o++]=Ie[ne++],be-=3;while(be>2);be&&(Ie[o++]=Ie[ne++],be>1&&(Ie[o++]=Ie[ne++]))}}else if(ee&64){t.msg="invalid distance code",_e.mode=pf;break e}else{q=z[(q&65535)+(b&(1<<ee)-1)];continue n}break}}else if(ee&64)if(ee&32){_e.mode=xO;break e}else{t.msg="invalid literal/length code",_e.mode=pf;break e}else{q=B[(q&65535)+(b&(1<<ee)-1)];continue t}break}}while(r<s&&o<c);be=k>>3,r-=be,k-=be<<3,b&=(1<<k)-1,t.next_in=r,t.next_out=o,t.avail_in=r<s?5+(s-r):5-(r-s),t.avail_out=o<c?257+(c-o):257-(o-c),_e.hold=b,_e.bits=k};const ja=15,zw=852,Fw=592,Hw=0,Xg=1,jw=2,CO=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),IO=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),kO=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),OO=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Iu=(e,t,n,r,s,o,i,c)=>{const d=c.bits;let f=0,g=0,_=0,y=0,b=0,k=0,B=0,z=0,K=0,J=0,q,ee,be,fe,ne,pe=null,xe;const Ie=new Uint16Array(ja+1),_e=new Uint16Array(ja+1);let Me=null,Ge,le,ie;for(f=0;f<=ja;f++)Ie[f]=0;for(g=0;g<r;g++)Ie[t[n+g]]++;for(b=d,y=ja;y>=1&&Ie[y]===0;y--);if(b>y&&(b=y),y===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,c.bits=1,0;for(_=1;_<y&&Ie[_]===0;_++);for(b<_&&(b=_),z=1,f=1;f<=ja;f++)if(z<<=1,z-=Ie[f],z<0)return-1;if(z>0&&(e===Hw||y!==1))return-1;for(_e[1]=0,f=1;f<ja;f++)_e[f+1]=_e[f]+Ie[f];for(g=0;g<r;g++)t[n+g]!==0&&(i[_e[t[n+g]]++]=g);if(e===Hw?(pe=Me=i,xe=20):e===Xg?(pe=CO,Me=IO,xe=257):(pe=kO,Me=OO,xe=0),J=0,g=0,f=_,ne=o,k=b,B=0,be=-1,K=1<<b,fe=K-1,e===Xg&&K>zw||e===jw&&K>Fw)return 1;for(;;){Ge=f-B,i[g]+1<xe?(le=0,ie=i[g]):i[g]>=xe?(le=Me[i[g]-xe],ie=pe[i[g]-xe]):(le=96,ie=0),q=1<<f-B,ee=1<<k,_=ee;do ee-=q,s[ne+(J>>B)+ee]=Ge<<24|le<<16|ie|0;while(ee!==0);for(q=1<<f-1;J&q;)q>>=1;if(q!==0?(J&=q-1,J+=q):J=0,g++,--Ie[f]===0){if(f===y)break;f=t[n+i[g]]}if(f>b&&(J&fe)!==be){for(B===0&&(B=b),ne+=_,k=f-B,z=1<<k;k+B<y&&(z-=Ie[k+B],!(z<=0));)k++,z<<=1;if(K+=1<<k,e===Xg&&K>zw||e===jw&&K>Fw)return 1;be=J&fe,s[be]=b<<24|k<<16|ne-o|0}}return J!==0&&(s[ne+J]=f-B<<24|64<<16|0),c.bits=b,0};const RO=0,Vw=1,Zw=2,{Z_FINISH:Kw,Z_BLOCK:PO,Z_TREES:gf,Z_OK:Ui,Z_STREAM_END:NO,Z_NEED_DICT:BO,Z_STREAM_ERROR:Zr,Z_DATA_ERROR:Ww,Z_MEM_ERROR:Gw,Z_BUF_ERROR:DO,Z_DEFLATED:Yw}=Bi,_f=16180,Xw=16181,qw=16182,Jw=16183,Qw=16184,eE=16185,tE=16186,nE=16187,rE=16188,sE=16189,mf=16190,no=16191,qg=16192,oE=16193,Jg=16194,iE=16195,aE=16196,cE=16197,uE=16198,yf=16199,bf=16200,lE=16201,dE=16202,fE=16203,hE=16204,pE=16205,Qg=16206,gE=16207,_E=16208,Zt=16209,mE=16210,yE=16211,LO=852,$O=592,UO=15,bE=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function MO(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Mi=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<_f||t.mode>yE?1:0},wE=e=>{if(Mi(e))return Zr;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=_f,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(LO),t.distcode=t.distdyn=new Int32Array($O),t.sane=1,t.back=-1,Ui},EE=e=>{if(Mi(e))return Zr;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,wE(e)},vE=(e,t)=>{let n;if(Mi(e))return Zr;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Zr:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,EE(e))},AE=(e,t)=>{if(!e)return Zr;const n=new MO;e.state=n,n.strm=e,n.window=null,n.mode=_f;const r=vE(e,t);return r!==Ui&&(e.state=null),r},zO=e=>AE(e,UO);let TE=!0,e_,t_;const FO=e=>{if(TE){e_=new Int32Array(512),t_=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Iu(Vw,e.lens,0,288,e_,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Iu(Zw,e.lens,0,32,t_,0,e.work,{bits:5}),TE=!1}e.lencode=e_,e.lenbits=9,e.distcode=t_,e.distbits=5},xE=(e,t,n,r)=>{let s;const o=e.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>r&&(s=r),o.window.set(t.subarray(n-r,n-r+s),o.wnext),r-=s,r?(o.window.set(t.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},HO=(e,t)=>{let n,r,s,o,i,c,d,f,g,_,y,b,k,B,z=0,K,J,q,ee,be,fe,ne,pe;const xe=new Uint8Array(4);let Ie,_e;const Me=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Mi(e)||!e.output||!e.input&&e.avail_in!==0)return Zr;n=e.state,n.mode===no&&(n.mode=qg),i=e.next_out,s=e.output,d=e.avail_out,o=e.next_in,r=e.input,c=e.avail_in,f=n.hold,g=n.bits,_=c,y=d,pe=Ui;e:for(;;)switch(n.mode){case _f:if(n.wrap===0){n.mode=qg;break}for(;g<16;){if(c===0)break e;c--,f+=r[o++]<<g,g+=8}if(n.wrap&2&&f===35615){n.wbits===0&&(n.wbits=15),n.check=0,xe[0]=f&255,xe[1]=f>>>8&255,n.check=vn(n.check,xe,2,0),f=0,g=0,n.mode=Xw;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((f&255)<<8)+(f>>8))%31){e.msg="incorrect header check",n.mode=Zt;break}if((f&15)!==Yw){e.msg="unknown compression method",n.mode=Zt;break}if(f>>>=4,g-=4,ne=(f&15)+8,n.wbits===0&&(n.wbits=ne),ne>15||ne>n.wbits){e.msg="invalid window size",n.mode=Zt;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=f&512?sE:no,f=0,g=0;break;case Xw:for(;g<16;){if(c===0)break e;c--,f+=r[o++]<<g,g+=8}if(n.flags=f,(n.flags&255)!==Yw){e.msg="unknown compression method",n.mode=Zt;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Zt;break}n.head&&(n.head.text=f>>8&1),n.flags&512&&n.wrap&4&&(xe[0]=f&255,xe[1]=f>>>8&255,n.check=vn(n.check,xe,2,0)),f=0,g=0,n.mode=qw;case qw:for(;g<32;){if(c===0)break e;c--,f+=r[o++]<<g,g+=8}n.head&&(n.head.time=f),n.flags&512&&n.wrap&4&&(xe[0]=f&255,xe[1]=f>>>8&255,xe[2]=f>>>16&255,xe[3]=f>>>24&255,n.check=vn(n.check,xe,4,0)),f=0,g=0,n.mode=Jw;case Jw:for(;g<16;){if(c===0)break e;c--,f+=r[o++]<<g,g+=8}n.head&&(n.head.xflags=f&255,n.head.os=f>>8),n.flags&512&&n.wrap&4&&(xe[0]=f&255,xe[1]=f>>>8&255,n.check=vn(n.check,xe,2,0)),f=0,g=0,n.mode=Qw;case Qw:if(n.flags&1024){for(;g<16;){if(c===0)break e;c--,f+=r[o++]<<g,g+=8}n.length=f,n.head&&(n.head.extra_len=f),n.flags&512&&n.wrap&4&&(xe[0]=f&255,xe[1]=f>>>8&255,n.check=vn(n.check,xe,2,0)),f=0,g=0}else n.head&&(n.head.extra=null);n.mode=eE;case eE:if(n.flags&1024&&(b=n.length,b>c&&(b=c),b&&(n.head&&(ne=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+b),ne)),n.flags&512&&n.wrap&4&&(n.check=vn(n.check,r,b,o)),c-=b,o+=b,n.length-=b),n.length))break e;n.length=0,n.mode=tE;case tE:if(n.flags&2048){if(c===0)break e;b=0;do ne=r[o+b++],n.head&&ne&&n.length<65536&&(n.head.name+=String.fromCharCode(ne));while(ne&&b<c);if(n.flags&512&&n.wrap&4&&(n.check=vn(n.check,r,b,o)),c-=b,o+=b,ne)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=nE;case nE:if(n.flags&4096){if(c===0)break e;b=0;do ne=r[o+b++],n.head&&ne&&n.length<65536&&(n.head.comment+=String.fromCharCode(ne));while(ne&&b<c);if(n.flags&512&&n.wrap&4&&(n.check=vn(n.check,r,b,o)),c-=b,o+=b,ne)break e}else n.head&&(n.head.comment=null);n.mode=rE;case rE:if(n.flags&512){for(;g<16;){if(c===0)break e;c--,f+=r[o++]<<g,g+=8}if(n.wrap&4&&f!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Zt;break}f=0,g=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=no;break;case sE:for(;g<32;){if(c===0)break e;c--,f+=r[o++]<<g,g+=8}e.adler=n.check=bE(f),f=0,g=0,n.mode=mf;case mf:if(n.havedict===0)return e.next_out=i,e.avail_out=d,e.next_in=o,e.avail_in=c,n.hold=f,n.bits=g,BO;e.adler=n.check=1,n.mode=no;case no:if(t===PO||t===gf)break e;case qg:if(n.last){f>>>=g&7,g-=g&7,n.mode=Qg;break}for(;g<3;){if(c===0)break e;c--,f+=r[o++]<<g,g+=8}switch(n.last=f&1,f>>>=1,g-=1,f&3){case 0:n.mode=oE;break;case 1:if(FO(n),n.mode=yf,t===gf){f>>>=2,g-=2;break e}break;case 2:n.mode=aE;break;case 3:e.msg="invalid block type",n.mode=Zt}f>>>=2,g-=2;break;case oE:for(f>>>=g&7,g-=g&7;g<32;){if(c===0)break e;c--,f+=r[o++]<<g,g+=8}if((f&65535)!==(f>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Zt;break}if(n.length=f&65535,f=0,g=0,n.mode=Jg,t===gf)break e;case Jg:n.mode=iE;case iE:if(b=n.length,b){if(b>c&&(b=c),b>d&&(b=d),b===0)break e;s.set(r.subarray(o,o+b),i),c-=b,o+=b,d-=b,i+=b,n.length-=b;break}n.mode=no;break;case aE:for(;g<14;){if(c===0)break e;c--,f+=r[o++]<<g,g+=8}if(n.nlen=(f&31)+257,f>>>=5,g-=5,n.ndist=(f&31)+1,f>>>=5,g-=5,n.ncode=(f&15)+4,f>>>=4,g-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Zt;break}n.have=0,n.mode=cE;case cE:for(;n.have<n.ncode;){for(;g<3;){if(c===0)break e;c--,f+=r[o++]<<g,g+=8}n.lens[Me[n.have++]]=f&7,f>>>=3,g-=3}for(;n.have<19;)n.lens[Me[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Ie={bits:n.lenbits},pe=Iu(RO,n.lens,0,19,n.lencode,0,n.work,Ie),n.lenbits=Ie.bits,pe){e.msg="invalid code lengths set",n.mode=Zt;break}n.have=0,n.mode=uE;case uE:for(;n.have<n.nlen+n.ndist;){for(;z=n.lencode[f&(1<<n.lenbits)-1],K=z>>>24,J=z>>>16&255,q=z&65535,!(K<=g);){if(c===0)break e;c--,f+=r[o++]<<g,g+=8}if(q<16)f>>>=K,g-=K,n.lens[n.have++]=q;else{if(q===16){for(_e=K+2;g<_e;){if(c===0)break e;c--,f+=r[o++]<<g,g+=8}if(f>>>=K,g-=K,n.have===0){e.msg="invalid bit length repeat",n.mode=Zt;break}ne=n.lens[n.have-1],b=3+(f&3),f>>>=2,g-=2}else if(q===17){for(_e=K+3;g<_e;){if(c===0)break e;c--,f+=r[o++]<<g,g+=8}f>>>=K,g-=K,ne=0,b=3+(f&7),f>>>=3,g-=3}else{for(_e=K+7;g<_e;){if(c===0)break e;c--,f+=r[o++]<<g,g+=8}f>>>=K,g-=K,ne=0,b=11+(f&127),f>>>=7,g-=7}if(n.have+b>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Zt;break}for(;b--;)n.lens[n.have++]=ne}}if(n.mode===Zt)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Zt;break}if(n.lenbits=9,Ie={bits:n.lenbits},pe=Iu(Vw,n.lens,0,n.nlen,n.lencode,0,n.work,Ie),n.lenbits=Ie.bits,pe){e.msg="invalid literal/lengths set",n.mode=Zt;break}if(n.distbits=6,n.distcode=n.distdyn,Ie={bits:n.distbits},pe=Iu(Zw,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Ie),n.distbits=Ie.bits,pe){e.msg="invalid distances set",n.mode=Zt;break}if(n.mode=yf,t===gf)break e;case yf:n.mode=bf;case bf:if(c>=6&&d>=258){e.next_out=i,e.avail_out=d,e.next_in=o,e.avail_in=c,n.hold=f,n.bits=g,SO(e,y),i=e.next_out,s=e.output,d=e.avail_out,o=e.next_in,r=e.input,c=e.avail_in,f=n.hold,g=n.bits,n.mode===no&&(n.back=-1);break}for(n.back=0;z=n.lencode[f&(1<<n.lenbits)-1],K=z>>>24,J=z>>>16&255,q=z&65535,!(K<=g);){if(c===0)break e;c--,f+=r[o++]<<g,g+=8}if(J&&!(J&240)){for(ee=K,be=J,fe=q;z=n.lencode[fe+((f&(1<<ee+be)-1)>>ee)],K=z>>>24,J=z>>>16&255,q=z&65535,!(ee+K<=g);){if(c===0)break e;c--,f+=r[o++]<<g,g+=8}f>>>=ee,g-=ee,n.back+=ee}if(f>>>=K,g-=K,n.back+=K,n.length=q,J===0){n.mode=pE;break}if(J&32){n.back=-1,n.mode=no;break}if(J&64){e.msg="invalid literal/length code",n.mode=Zt;break}n.extra=J&15,n.mode=lE;case lE:if(n.extra){for(_e=n.extra;g<_e;){if(c===0)break e;c--,f+=r[o++]<<g,g+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,g-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=dE;case dE:for(;z=n.distcode[f&(1<<n.distbits)-1],K=z>>>24,J=z>>>16&255,q=z&65535,!(K<=g);){if(c===0)break e;c--,f+=r[o++]<<g,g+=8}if(!(J&240)){for(ee=K,be=J,fe=q;z=n.distcode[fe+((f&(1<<ee+be)-1)>>ee)],K=z>>>24,J=z>>>16&255,q=z&65535,!(ee+K<=g);){if(c===0)break e;c--,f+=r[o++]<<g,g+=8}f>>>=ee,g-=ee,n.back+=ee}if(f>>>=K,g-=K,n.back+=K,J&64){e.msg="invalid distance code",n.mode=Zt;break}n.offset=q,n.extra=J&15,n.mode=fE;case fE:if(n.extra){for(_e=n.extra;g<_e;){if(c===0)break e;c--,f+=r[o++]<<g,g+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,g-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Zt;break}n.mode=hE;case hE:if(d===0)break e;if(b=y-d,n.offset>b){if(b=n.offset-b,b>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Zt;break}b>n.wnext?(b-=n.wnext,k=n.wsize-b):k=n.wnext-b,b>n.length&&(b=n.length),B=n.window}else B=s,k=i-n.offset,b=n.length;b>d&&(b=d),d-=b,n.length-=b;do s[i++]=B[k++];while(--b);n.length===0&&(n.mode=bf);break;case pE:if(d===0)break e;s[i++]=n.length,d--,n.mode=bf;break;case Qg:if(n.wrap){for(;g<32;){if(c===0)break e;c--,f|=r[o++]<<g,g+=8}if(y-=d,e.total_out+=y,n.total+=y,n.wrap&4&&y&&(e.adler=n.check=n.flags?vn(n.check,s,y,i-y):bu(n.check,s,y,i-y)),y=d,n.wrap&4&&(n.flags?f:bE(f))!==n.check){e.msg="incorrect data check",n.mode=Zt;break}f=0,g=0}n.mode=gE;case gE:if(n.wrap&&n.flags){for(;g<32;){if(c===0)break e;c--,f+=r[o++]<<g,g+=8}if(n.wrap&4&&f!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Zt;break}f=0,g=0}n.mode=_E;case _E:pe=NO;break e;case Zt:pe=Ww;break e;case mE:return Gw;case yE:default:return Zr}return e.next_out=i,e.avail_out=d,e.next_in=o,e.avail_in=c,n.hold=f,n.bits=g,(n.wsize||y!==e.avail_out&&n.mode<Zt&&(n.mode<Qg||t!==Kw))&&xE(e,e.output,e.next_out,y-e.avail_out),_-=e.avail_in,y-=e.avail_out,e.total_in+=_,e.total_out+=y,n.total+=y,n.wrap&4&&y&&(e.adler=n.check=n.flags?vn(n.check,s,y,e.next_out-y):bu(n.check,s,y,e.next_out-y)),e.data_type=n.bits+(n.last?64:0)+(n.mode===no?128:0)+(n.mode===yf||n.mode===Jg?256:0),(_===0&&y===0||t===Kw)&&pe===Ui&&(pe=DO),pe},jO=e=>{if(Mi(e))return Zr;let t=e.state;return t.window&&(t.window=null),e.state=null,Ui},VO=(e,t)=>{if(Mi(e))return Zr;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,Ui):Zr},ZO=(e,t)=>{const n=t.length;let r,s,o;return Mi(e)||(r=e.state,r.wrap!==0&&r.mode!==mf)?Zr:r.mode===mf&&(s=1,s=bu(s,t,n,0),s!==r.check)?Ww:(o=xE(e,t,n,n),o?(r.mode=mE,Gw):(r.havedict=1,Ui))};var KO=EE,WO=vE,GO=wE,YO=zO,XO=AE,qO=HO,JO=jO,QO=VO,eR=ZO,tR="pako inflate (from Nodeca project)",ro={inflateReset:KO,inflateReset2:WO,inflateResetKeep:GO,inflateInit:YO,inflateInit2:XO,inflate:qO,inflateEnd:JO,inflateGetHeader:QO,inflateSetDictionary:eR,inflateInfo:tR};function nR(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var rR=nR;const SE=Object.prototype.toString,{Z_NO_FLUSH:sR,Z_FINISH:oR,Z_OK:ku,Z_STREAM_END:n_,Z_NEED_DICT:r_,Z_STREAM_ERROR:iR,Z_DATA_ERROR:CE,Z_MEM_ERROR:aR}=Bi;function Ou(e){this.options=ff.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Uw,this.strm.avail_out=0;let n=ro.inflateInit2(this.strm,t.windowBits);if(n!==ku)throw new Error(Ni[n]);if(this.header=new rR,ro.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Su.string2buf(t.dictionary):SE.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=ro.inflateSetDictionary(this.strm,t.dictionary),n!==ku)))throw new Error(Ni[n])}Ou.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,s=this.options.dictionary;let o,i,c;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?oR:sR,SE.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=ro.inflate(n,i),o===r_&&s&&(o=ro.inflateSetDictionary(n,s),o===ku?o=ro.inflate(n,i):o===CE&&(o=r_));n.avail_in>0&&o===n_&&n.state.wrap>0&&e[n.next_in]!==0;)ro.inflateReset(n),o=ro.inflate(n,i);switch(o){case iR:case CE:case r_:case aR:return this.onEnd(o),this.ended=!0,!1}if(c=n.avail_out,n.next_out&&(n.avail_out===0||o===n_))if(this.options.to==="string"){let d=Su.utf8border(n.output,n.next_out),f=n.next_out-d,g=Su.buf2string(n.output,d);n.next_out=f,n.avail_out=r-f,f&&n.output.set(n.output.subarray(d,d+f),0),this.onData(g)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(o===ku&&c===0)){if(o===n_)return o=ro.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(n.avail_in===0)break}}return!0},Ou.prototype.onData=function(e){this.chunks.push(e)},Ou.prototype.onEnd=function(e){e===ku&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=ff.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function s_(e,t){const n=new Ou(t);if(n.push(e),n.err)throw n.msg||Ni[n.err];return n.result}function cR(e,t){return t=t||{},t.raw=!0,s_(e,t)}var uR=Ou,lR=s_,dR=cR,fR=s_,hR=Bi,pR={Inflate:uR,inflate:lR,inflateRaw:dR,ungzip:fR,constants:hR};const{Deflate:gR,deflate:_R,deflateRaw:mR,gzip:yR}=TO,{Inflate:bR,inflate:wR,inflateRaw:ER,ungzip:vR}=pR;var AR=gR,TR=_R,xR=mR,o_=yR,SR=bR,CR=wR,IR=ER,i_=vR,kR=Bi,mM={Deflate:AR,deflate:TR,deflateRaw:xR,gzip:o_,Inflate:SR,inflate:CR,inflateRaw:IR,ungzip:i_,constants:kR};/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ru=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),wf=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Pu=BigInt(1),Ef=BigInt(2),IE=(e,t)=>(e+t/Ef)/t;function kE(e){const t=Ru,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),i=BigInt(23),c=BigInt(44),d=BigInt(88),f=e*e*e%t,g=f*f*e%t,_=jr(g,n,t)*g%t,y=jr(_,n,t)*g%t,b=jr(y,Ef,t)*f%t,k=jr(b,s,t)*b%t,B=jr(k,o,t)*k%t,z=jr(B,c,t)*B%t,K=jr(z,d,t)*z%t,J=jr(K,c,t)*B%t,q=jr(J,n,t)*g%t,ee=jr(q,i,t)*k%t,be=jr(ee,r,t)*f%t,fe=jr(be,Ef,t);if(!a_.eql(a_.sqr(fe),e))throw new Error("Cannot find square root");return fe}const a_=nf(Ru,void 0,void 0,{sqrt:kE}),c_=SI({a:BigInt(0),b:BigInt(7),Fp:a_,n:wf,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=wf,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Pu*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,i=BigInt("0x100000000000000000000000000000000"),c=IE(o*e,t),d=IE(-r*e,t);let f=hn(e-c*n-d*s,t),g=hn(-c*r-d*o,t);const _=f>i,y=g>i;if(_&&(f=t-f),y&&(g=t-g),f>i||g>i)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:_,k1:f,k2neg:y,k2:g}}}},xi),OE=BigInt(0),RE={};function u_(e,...t){let n=RE[e];if(n===void 0){const r=sha256(Uint8Array.from(e,s=>s.charCodeAt(0)));n=concatBytes(r,r),RE[e]=n}return sha256(concatBytes(n,...t))}const PE=e=>e.toRawBytes(!0).slice(1),l_=e=>numberToBytesBE(e,32),d_=e=>mod(e,Ru),Nu=e=>mod(e,wf),f_=c_.ProjectivePoint,OR=(e,t,n)=>f_.BASE.multiplyAndAddUnsafe(e,t,n);function h_(e){let t=c_.utils.normPrivateKeyToScalar(e),n=f_.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:Nu(-t),bytes:PE(n)}}function RR(e){aInRange("x",e,Pu,Ru);const t=d_(e*e),n=d_(t*e+BigInt(7));let r=kE(n);r%Ef!==OE&&(r=d_(-r));const s=new f_(e,r,Pu);return s.assertValidity(),s}const Va=null;function NE(...e){return Nu(Va(u_("BIP0340/challenge",...e)))}function yM(e){return h_(e).bytes}function bM(e,t,n=randomBytes(32)){const r=ensureBytes("message",e),{bytes:s,scalar:o}=h_(t),i=ensureBytes("auxRand",n,32),c=l_(o^Va(u_("BIP0340/aux",i))),d=u_("BIP0340/nonce",c,s,r),f=Nu(Va(d));if(f===OE)throw new Error("sign failed: k is zero");const{bytes:g,scalar:_}=h_(f),y=NE(g,s,r),b=new Uint8Array(64);if(b.set(g,0),b.set(l_(Nu(_+y*o)),32),!PR(b,r,s))throw new Error("sign: Invalid signature produced");return b}function PR(e,t,n){const r=ensureBytes("signature",e,64),s=ensureBytes("message",t),o=ensureBytes("publicKey",n,32);try{const i=RR(Va(o)),c=Va(r.subarray(0,32));if(!inRange(c,Pu,Ru))return!1;const d=Va(r.subarray(32,64));if(!inRange(d,Pu,wf))return!1;const f=NE(l_(c),PE(i),s),g=OR(i,d,Nu(-f));return!(!g||!g.hasEvenY()||g.toAffine().x!==c)}catch{return!1}}const wM=null,EM=null,vM=null,AM=null,TM=null,xM=null,BE=(e,t,n=[])=>{const r=Object.getOwnPropertyDescriptors(t);for(let s of n)delete r[s];Object.defineProperties(e,r)},zi=(e,t=[e])=>{const n=Object.getPrototypeOf(e);return n===null?t:zi(n,[...t,n])},NR=(...e)=>{if(e.length===0)return;let t;const n=e.map(r=>zi(r));for(;n.every(r=>r.length>0);){const r=n.map(o=>o.pop()),s=r[0];if(r.every(o=>o===s))t=s;else break}return t},DE=(e,t,n=[])=>{var r;const s=(r=NR(...e))!==null&&r!==void 0?r:Object.prototype,o=Object.create(s),i=zi(s);for(let c of e){let d=zi(c);for(let f=d.length-1;f>=0;f--){let g=d[f];i.indexOf(g)===-1&&(BE(o,g,["constructor",...n]),i.push(g))}}return o.constructor=t,o},p_=e=>e.filter((t,n)=>e.indexOf(t)==n),vf=(e,t)=>{const n=t.map(o=>zi(o));let r=0,s=!0;for(;s;){s=!1;for(let o=t.length-1;o>=0;o--){const i=n[o][r];if(i!=null&&(s=!0,Object.getOwnPropertyDescriptor(i,e)!=null))return n[o][0]}r++}},LE=(e,t=Object.prototype)=>new Proxy({},{getPrototypeOf(){return t},setPrototypeOf(){throw Error("Cannot set prototype of Proxies created by ts-mixer")},getOwnPropertyDescriptor(n,r){return Object.getOwnPropertyDescriptor(vf(r,e)||{},r)},defineProperty(){throw new Error("Cannot define new properties on Proxies created by ts-mixer")},has(n,r){return vf(r,e)!==void 0||t[r]!==void 0},get(n,r){return(vf(r,e)||t)[r]},set(n,r,s){const o=vf(r,e);if(o===void 0)throw new Error("Cannot set new properties on Proxies created by ts-mixer");return o[r]=s,!0},deleteProperty(){throw new Error("Cannot delete properties on Proxies created by ts-mixer")},ownKeys(){return e.map(Object.getOwnPropertyNames).reduce((n,r)=>r.concat(n.filter(s=>r.indexOf(s)<0)))}}),BR=(e,t)=>LE([...e,{constructor:t}]),Bu={initFunction:null,staticsStrategy:"copy",prototypeStrategy:"copy",decoratorInheritance:"deep"},g_=new WeakMap,DR=e=>g_.get(e),LR=(e,t)=>g_.set(e,t),SM=(e,t)=>{if(e instanceof t)return!0;const n=e.constructor,r=new Set;let s=new Set;for(s.add(n);s.size>0;){if(s.has(t))return!0;s.forEach(i=>r.add(i));const o=new Set;s.forEach(i=>{var c;const d=(c=g_.get(i))!==null&&c!==void 0?c:zi(i.prototype).map(f=>f.constructor).filter(f=>f!==null);d&&d.forEach(f=>{!r.has(f)&&!s.has(f)&&o.add(f)})}),s=o}return!1},$E=(e,t)=>{var n,r;const s=p_([...Object.getOwnPropertyNames(e),...Object.getOwnPropertyNames(t)]),o={};for(let i of s)o[i]=p_([...(n=e?.[i])!==null&&n!==void 0?n:[],...(r=t?.[i])!==null&&r!==void 0?r:[]]);return o},UE=(e,t)=>{var n,r,s,o;return{property:$E((n=e?.property)!==null&&n!==void 0?n:{},(r=t?.property)!==null&&r!==void 0?r:{}),method:$E((s=e?.method)!==null&&s!==void 0?s:{},(o=t?.method)!==null&&o!==void 0?o:{})}},ME=(e,t)=>{var n,r,s,o,i,c;return{class:p_([...(n=e?.class)!==null&&n!==void 0?n:[],...(r=t?.class)!==null&&r!==void 0?r:[]]),static:UE((s=e?.static)!==null&&s!==void 0?s:{},(o=t?.static)!==null&&o!==void 0?o:{}),instance:UE((i=e?.instance)!==null&&i!==void 0?i:{},(c=t?.instance)!==null&&c!==void 0?c:{})}},__=new Map,$R=(...e)=>{var t;const n=new Set,r=new Set([...e]);for(;r.size>0;)for(let s of r){const o=zi(s.prototype).map(f=>f.constructor),i=(t=DR(s))!==null&&t!==void 0?t:[],d=[...o,...i].filter(f=>!n.has(f));for(let f of d)r.add(f);n.add(s),r.delete(s)}return[...n]},UR=(...e)=>{const t=$R(...e).map(n=>__.get(n)).filter(n=>!!n);return t.length==0?{}:t.length==1?t[0]:t.reduce((n,r)=>ME(n,r))},MR=(...e)=>{const t=e.map(n=>m_(n));return t.length===0?{}:t.length===1?t[0]:t.reduce((n,r)=>ME(n,r))},m_=e=>{let t=__.get(e);return t||(t={},__.set(e,t)),t},zR=e=>t=>{const n=m_(t);let r=n.class;return r||(r=[],n.class=r),r.push(e),e(t)},FR=e=>(t,n,...r)=>{var s,o,i;const c=typeof t=="function"?"static":"instance",d=typeof t[n]=="function"?"method":"property",f=c==="static"?t:t.constructor,g=m_(f),_=(s=g?.[c])!==null&&s!==void 0?s:{};g[c]=_;let y=(o=_?.[d])!==null&&o!==void 0?o:{};_[d]=y;let b=(i=y?.[n])!==null&&i!==void 0?i:[];return y[n]=b,b.push(e),e(t,n,...r)},CM=e=>(...t)=>t.length===1?zR(e)(t[0]):FR(e)(...t);function zE(...e){var t,n,r;const s=e.map(d=>d.prototype),o=Bu.initFunction;if(o!==null){const d=s.map(_=>_[o]).filter(_=>typeof _=="function"),f=function(..._){for(let y of d)y.apply(this,_)},g={[o]:f};s.push(g)}function i(...d){for(const f of e)BE(this,new f(...d));o!==null&&typeof this[o]=="function"&&this[o].apply(this,d)}i.prototype=Bu.prototypeStrategy==="copy"?DE(s,i):BR(s,i),Object.setPrototypeOf(i,Bu.staticsStrategy==="copy"?DE(e,null,["prototype"]):LE(e,Function.prototype));let c=i;if(Bu.decoratorInheritance!=="none"){const d=Bu.decoratorInheritance==="deep"?UR(...e):MR(...e);for(let f of(t=d?.class)!==null&&t!==void 0?t:[]){const g=f(c);g&&(c=g)}FE((n=d?.static)!==null&&n!==void 0?n:{},c),FE((r=d?.instance)!==null&&r!==void 0?r:{},c.prototype)}return LR(c,e),c}const FE=(e,t)=>{const n=e.property,r=e.method;if(n)for(let s in n)for(let o of n[s])o(t,s);if(r)for(let s in r)for(let o of r[s])o(t,s,Object.getOwnPropertyDescriptor(t,s))},IM=(...e)=>t=>{const n=zE(...e.concat([t]));return Object.defineProperty(n,"name",{value:t.name,writable:!1}),n};var xt=Be(36533).hp,HE=Object.defineProperty,HR=Object.getOwnPropertyDescriptor,jR=Object.getOwnPropertyNames,VR=Object.prototype.hasOwnProperty,Rt=(e,t)=>{for(var n in t)HE(e,n,{get:t[n],enumerable:!0})},jE=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of jR(t))!VR.call(e,s)&&s!==n&&HE(e,s,{get:()=>t[s],enumerable:!(r=HR(t,s))||r.enumerable});return e},VE=(e,t,n)=>(jE(e,t,"default"),n&&jE(n,t,"default")),Fi={};Rt(Fi,{ADDR_BOUND:()=>v_,API_VERSION:()=>ev,BaseUrl:()=>YR,DEFAULT_GLOBAL_CONFIG:()=>cv,HARDENING_4BYTES:()=>av,HARDENING_BYTE:()=>Lu,IS_BROWSER:()=>KE,LegacyUDC:()=>T_,MASK_250:()=>QE,MASK_31:()=>w_,MAX_STORAGE_ITEM_SIZE:()=>tv,NetworkName:()=>Ka,OutsideExecutionCallerAny:()=>sv,PAYMASTER_RPC_NODES:()=>lv,PRIME:()=>E_,RANGE_FELT:()=>Af,RANGE_I128:()=>nv,RANGE_U128:()=>rv,RPC_DEFAULT_NODES:()=>uv,SNIP9_V1_INTERFACE_ID:()=>ov,SNIP9_V2_INTERFACE_ID:()=>iv,SYSTEM_MESSAGES:()=>ar,StarknetChainId:()=>xr,SupportedRpcVersion:()=>Ho,TEXT_TO_FELT_MAX_LEN:()=>b_,TransactionHashPrefix:()=>Fo,UDC:()=>Du,ZERO:()=>Ts});var Fe={};Rt(Fe,{JRPC:()=>ZR,PAYMASTER_API:()=>S,RPCSPEC08:()=>E,RPCSPEC09:()=>R});var ZR={},ZE={};VE(ZE,R),VE(Fe,ZE);var KR={};Rt(KR,{IS_BROWSER:()=>KE,addHexPrefix:()=>st,arrayBufferToString:()=>WE,atobUniversal:()=>GE,btoaUniversal:()=>YE,buf2hex:()=>qn,calcByteLength:()=>qE,concatenateArrayBuffer:()=>Xt,padLeft:()=>XE,pascalToSnake:()=>GR,removeHexPrefix:()=>Yt,sanitizeBytes:()=>JE,sanitizeHex:()=>Za,utf8ToArray:()=>Hi});var KE=typeof window<"u",y_="0";function WE(e){return new Uint8Array(e).reduce((t,n)=>t+String.fromCharCode(n),"")}function Hi(e){return new TextEncoder().encode(e)}function GE(e){return Pc.decode(e)}function YE(e){return Pc.encode(new Uint8Array(e))}function qn(e){return e.reduce((t,n)=>t+n.toString(16).padStart(2,"0"),"")}function Yt(e){return e.replace(/^0x/i,"")}function st(e){return`0x${Yt(e)}`}function WR(e,t,n,r=y_){const s=t-e.length;let o=e;if(s>0){const i=r.repeat(s);o=n?i+e:e+i}return o}function XE(e,t,n=y_){return WR(e,t,!0,n)}function qE(e,t=8){const{length:n}=e,r=n%t;return r?(n-r)/t*t+t:n}function JE(e,t=8,n=y_){return XE(e,qE(e,t),n)}function Za(e){const t=Yt(e),n=JE(t,2);return n&&st(n)}var GR=e=>/[a-z]/.test(e)?e.split(/(?=[A-Z])/).join("_").toUpperCase():e;function Xt(e){const t=e.reduce((s,o)=>s+o.byteLength,0),n=new Uint8Array(t);let r=0;return e.forEach(s=>{n.set(s,r),r+=s.byteLength}),n}var b_=31,Ts=0n,QE=2n**250n-1n,w_=2n**31n-1n,ev=Ts,E_=2n**251n+17n*2n**192n+1n,tv=256n,v_=2n**251n-tv,A_=(e,t)=>({min:e,max:t}),Af=A_(Ts,E_-1n),nv=A_(-(2n**127n),2n**127n-1n),rv=A_(Ts,2n**128n-1n),T_={ADDRESS:"0x041a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf",ENTRYPOINT:"deployContract"},Du={ADDRESS:"0x02ceed65a4bd731034c01113685c831b01c15d7d432f71afb1cf1634b53a2125",ENTRYPOINT:"deploy_contract"},sv="0x414e595f43414c4c4552",ov="0x68cfd18b92d1907b8ba3cc324900277f5a3622099431ea85dd8089255e4181",iv="0x1d1144bb2138366ff28d8e9ab57456b1d332ac42196230c3a602003c89872",Lu=128,av=2147483648n,YR={SN_MAIN:"https://alpha-mainnet.starknet.io",SN_SEPOLIA:"https://alpha-sepolia.starknet.io"},Ka={SN_MAIN:"SN_MAIN",SN_SEPOLIA:"SN_SEPOLIA"},xr={SN_MAIN:"0x534e5f4d41494e",SN_SEPOLIA:"0x534e5f5345504f4c4941"},Fo={DECLARE:"0x6465636c617265",DEPLOY:"0x6465706c6f79",DEPLOY_ACCOUNT:"0x6465706c6f795f6163636f756e74",INVOKE:"0x696e766f6b65",L1_HANDLER:"0x6c315f68616e646c6572"},Ho={"0.8.1":"0.8.1","0.9.0":"0.9.0",v0_8_1:"0.8.1",v0_9_0:"0.9.0"},cv={rpcVersion:"0.9.0",transactionVersion:Fe.ETransactionVersion.V3,logLevel:"INFO",resourceBoundsOverhead:{l1_gas:{max_amount:50,max_price_per_unit:50},l1_data_gas:{max_amount:50,max_price_per_unit:50},l2_gas:{max_amount:50,max_price_per_unit:50}},defaultTipType:"recommendedTip",fetch:void 0,websocket:void 0},uv={SN_MAIN:["https://starknet-mainnet.public.blastapi.io/rpc/"],SN_SEPOLIA:["https://starknet-sepolia.public.blastapi.io/rpc/"]},lv={SN_MAIN:["https://starknet.paymaster.avnu.fi"],SN_SEPOLIA:["https://sepolia.paymaster.avnu.fi"]},ar={legacyTxWarningMessage:`You are using a deprecated transaction version (V0,V1,V2)!
Update to the latest V3 transactions!`,legacyTxRPC08Message:"RPC 0.8+ do not support legacy transactions, use RPC 0.8+ v3 transactions!",SWOldV3:"RPC 0.7 V3 tx (improper resource bounds) not supported in RPC 0.8+",channelVersionMismatch:"Channel specification version is not compatible with the connected node Specification Version",unsupportedSpecVersion:"The connected node specification version is not supported by this library",maxFeeInV3:"maxFee is not supported in V3 transactions, use resourceBounds instead",declareNonSierra:"Declaring non Sierra (Cairo0)contract using RPC 0.8+",unsupportedMethodForRpcVersion:"Unsupported method for RPC version"},XR=(Vs=class{constructor(){Z(this,"config");this.initialize()}initialize(){this.config={...cv}}static getInstance(){return Vs.instance||(Vs.instance=new Vs),Vs.instance}get(t,n){return this.config[t]??n}set(t,n){this.config[t]=n}update(t){this.config={...this.config,...t}}getAll(){return{...this.config}}reset(){this.initialize()}delete(t){delete this.config[t]}hasKey(t){return t in this.config}},Z(Vs,"instance"),Vs),as=XR.getInstance(),Tf={DEBUG:5,INFO:4,WARN:3,ERROR:2,FATAL:1,OFF:0},qR=(Zs=class{constructor(){Z(this,"config");this.config=as}static getInstance(){return Zs.instance||(Zs.instance=new Zs),Zs.instance}getTimestamp(){return new Date().toISOString()}shouldLog(t){const n=this.config.get("logLevel","INFO");return t<=Tf[n]}formatMessage(t){const{level:n,message:r,timestamp:s,data:o}=t;let i=`[${s}] ${n}: ${r}`;if(o)try{i+=`
${JSON.stringify(o,null,2)}`}catch(c){i+=`
[JSON.stringify Error/Circular]: ${c}`}return i}log(t,n,r){if(!this.shouldLog(Tf[t]))return;const s={level:t,message:n,timestamp:this.getTimestamp(),data:r},o=this.formatMessage(s);switch(t){case"DEBUG":console.debug(o);break;case"INFO":console.info(o);break;case"WARN":console.warn(o);break;case"ERROR":case"FATAL":console.error(o);break;case"OFF":break;default:console.log(o);break}}debug(t,n){this.log("DEBUG",t,n)}info(t,n){this.log("INFO",t,n)}warn(t,n){this.log("WARN",t,n)}error(t,n){this.log("ERROR",t,n)}fatal(t,n){this.log("FATAL",t,n)}setLogLevel(t){this.config.set("logLevel",t)}getLogLevel(){return this.config.get("logLevel","INFO")}getEnabledLogLevels(){return Object.keys(Tf).filter(t=>this.shouldLog(Tf[t])&&t!=="OFF")}},Z(Zs,"instance"),Zs),It=qR.getInstance(),$u={};Rt($u,{RpcChannel:()=>bN});var kM={EXTERNAL:"EXTERNAL",L1_HANDLER:"L1_HANDLER",CONSTRUCTOR:"CONSTRUCTOR"},{ETransactionVersion:Sr}=R,{ETransactionVersion2:OM}=R,{ETransactionVersion3:Uu}=R,{EDataAvailabilityMode:xf}=E,{EDAMode:dv}=E;function RM(e){return"l1_data_gas"in e}function Wa(e){return"l1_data_gas"in e}var{ETransactionStatus:PM}=E,{ETransactionExecutionStatus:NM}=E,{ETransactionType:BM}=R,{EBlockStatus:DM}=R,{ETransactionFinalityStatus:LM}=R,{ETransactionExecutionStatus:fv}=R,{EBlockTag:jo}=R,Vo={DEPLOY:"DEPLOY",CALL:"CALL",INVOKE:"INVOKE"},Cr={u8:"core::integer::u8",u16:"core::integer::u16",u32:"core::integer::u32",u64:"core::integer::u64",u128:"core::integer::u128",u256:"core::integer::u256",u512:"core::integer::u512"},ji={ClassHash:"core::starknet::class_hash::ClassHash",ContractAddress:"core::starknet::contract_address::ContractAddress",Secp256k1Point:"core::starknet::secp256k1::Secp256k1Point",U96:"core::internal::bounded_int::BoundedInt::<0, 79228162514264337593543950335>"},JR="core::starknet::eth_address::EthAddress",QR="core::zeroable::NonZero::";function hv(e){return"execute"in e}var eP={StarkNetDomain:[{name:"name",type:"felt"},{name:"version",type:"felt"},{name:"chainId",type:"felt"}],OutsideExecution:[{name:"caller",type:"felt"},{name:"nonce",type:"felt"},{name:"execute_after",type:"felt"},{name:"execute_before",type:"felt"},{name:"calls_len",type:"felt"},{name:"calls",type:"OutsideCall*"}],OutsideCall:[{name:"to",type:"felt"},{name:"selector",type:"felt"},{name:"calldata_len",type:"felt"},{name:"calldata",type:"felt*"}]},tP={StarknetDomain:[{name:"name",type:"shortstring"},{name:"version",type:"shortstring"},{name:"chainId",type:"shortstring"},{name:"revision",type:"shortstring"}],OutsideExecution:[{name:"Caller",type:"ContractAddress"},{name:"Nonce",type:"felt"},{name:"Execute After",type:"u128"},{name:"Execute Before",type:"u128"},{name:"Calls",type:"Call*"}],Call:[{name:"To",type:"ContractAddress"},{name:"Selector",type:"selector"},{name:"Calldata",type:"felt*"}]},Ga={UNSUPPORTED:"0",V1:"1",V2:"2"},pv={};Rt(pv,{parse:()=>Vi,parseAlwaysAsBig:()=>rP,stringify:()=>cr});var nP=e=>{if(!mi(e))return parseFloat(e);const t=parseInt(e,10);return Number.isSafeInteger(t)?t:BigInt(e)},Vi=e=>Nd(String(e),void 0,nP),rP=e=>Nd(String(e),void 0,Pd),cr=(e,t,n,r)=>yi(e,t,n,r),gv=class{constructor(e){Z(this,"nodeUrl");Z(this,"headers");Z(this,"interval");Z(this,"requestId",0);Z(this,"pendingRequests",{});Z(this,"batchPromises",{});Z(this,"delayTimer");Z(this,"delayPromise");Z(this,"delayPromiseResolve");Z(this,"baseFetch");Z(this,"rpcMethods");this.nodeUrl=e.nodeUrl,this.headers=e.headers,this.interval=e.interval,this.baseFetch=e.baseFetch,this.rpcMethods=e.rpcMethods}async wait(){return(!this.delayPromise||!this.delayPromiseResolve)&&(this.delayPromise=new Promise(e=>{this.delayPromiseResolve=e})),this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=void 0),this.delayTimer=setTimeout(()=>{this.delayPromiseResolve&&(this.delayPromiseResolve(),this.delayPromise=void 0,this.delayPromiseResolve=void 0)},this.interval),this.delayPromise}addPendingRequest(e,t,n){const r={id:n??`batched_${this.requestId+=1}`,jsonrpc:"2.0",method:e.description||String(e),params:t??void 0};return this.pendingRequests[r.id]=r,r.id}async sendBatch(e){return(await this.baseFetch(this.nodeUrl,{method:"POST",body:cr(e),headers:this.headers})).json()}async fetch(e,t,n){const r=this.addPendingRequest(e,t,n);await this.wait();const s=this.pendingRequests;if(this.pendingRequests={},!this.batchPromises[r]){const c=this.sendBatch(Object.values(s));Object.keys(s).forEach(d=>{this.batchPromises[d]=c})}const o=await this.batchPromises[r];delete this.batchPromises[r];const i=o.find(c=>c.id===r);if(!i)throw new Error(`Couldn't find the result for the request. Method: ${String(e)}`);return i}};function He(e,t){if(!e)throw new Error(t||"Assertion failure")}var sP={};Rt(sP,{addPercent:()=>Ir,assertInRange:()=>C_,bigNumberishArrayToDecimalStringArray:()=>yv,bigNumberishArrayToHexadecimalStringArray:()=>Zi,cleanHex:()=>Mu,getDecimalString:()=>aP,getHexString:()=>bv,getHexStringArray:()=>I_,hexToBytes:()=>Cs,hexToDecimalString:()=>mv,isBigNumberish:()=>zu,isHex:()=>Qn,isStringWholeNumber:()=>Ki,stringToSha256ToArrayBuff4:()=>k_,toBigInt:()=>An,toCairoBool:()=>wv,toHex:()=>Se,toHex64:()=>iP,toHexString:()=>_v,toStorageKey:()=>S_,tryToBigInt:()=>oP});var Pn=e=>typeof e>"u"||e===void 0;function xs(e){return typeof e=="number"}function x_(e){return typeof e=="boolean"}function Ss(e){return typeof e=="bigint"}function Ht(e){return typeof e=="string"}function Jn(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function Qn(e){return/^0[xX][0-9a-fA-F]*$/.test(e)}function An(e){return BigInt(e)}function oP(e){return e?BigInt(e):void 0}function Se(e){return st(An(e).toString(16))}var _v=Se;function S_(e){return st(An(e).toString(16).padStart(64,"0"))}function iP(e){const t=st(An(e).toString(16).padStart(64,"0"));if(t.length!==66)throw TypeError("number is too big for hex 0x(64) representation");return t}function mv(e){return BigInt(st(e)).toString(10)}function Mu(e){return e.toLowerCase().replace(/^(0x)0+/,"$1")}function C_(e,t,n,r=""){const s=r===""?"invalid length":`invalid ${r} length`,o=BigInt(e),i=BigInt(t),c=BigInt(n);He(o>=i&&o<=c,`Message not signable, ${s}.`)}function yv(e){return e.map(t=>An(t).toString(10))}function Zi(e){return e.map(t=>Se(t))}function Ki(e){return/^\d+$/.test(e)}function aP(e){if(Qn(e))return mv(e);if(Ki(e))return e;throw new Error(`${e} needs to be a hex-string or whole-number-string`)}function bv(e){if(Qn(e))return e;if(Ki(e))return _v(e);throw new Error(`${e} needs to be a hex-string or whole-number-string`)}function I_(e){return e.map(bv)}function wv(e){return(+e).toString()}function Cs(e){if(!Qn(e))throw new Error(`${e} needs to be a hex-string`);let t=Yt(e);return t.length%2!==0&&(t=`0${t}`),rs(t)}function Ir(e,t){const n=BigInt(e);return n+n*BigInt(t)/100n}function k_(e){const n=(r=>Number(r&w_))(BigInt(st(qn(xi(e)))));return Cs(Se(n))}function zu(e){return xs(e)||Ss(e)||Ht(e)&&(Qn(e)||Ki(e))}var cP={};Rt(cP,{getL1MessageHash:()=>vv,getL2MessageHash:()=>Ev,getSelector:()=>Wi,getSelectorFromName:()=>on,keccakBn:()=>O_,solidityUint256PackedKeccak256:()=>Fu,starknetKeccak:()=>R_});function O_(e){const t=Yt(Se(BigInt(e))),n=t.length%2===0?t:`0${t}`;return st(Do(Cs(st(n))).toString(16))}function uP(e){return st(Do(Hi(e)).toString(16))}function R_(e){return BigInt(uP(e))&QE}function on(e){return Se(R_(e))}function Wi(e){return xs(e)||Ss(e)?Se(e):Qn(e)?e:Ki(e)?Se(e):on(e)}function Fu(e){const t=st(e.reduce((n,r)=>n+Yt(Se(r)).padStart(64,"0"),""));return st(ts(Xe(Cs(t))))}function Ev(e,t,n,r,s){return Fu([e,t,s,n,r.length,...r])}function vv(e,t,n){return Fu([e,t,n.length,...n])}var Hu={};Rt(Hu,{decodeShortString:()=>Gi,encodeShortString:()=>pn,isASCII:()=>P_,isDecimalString:()=>N_,isLongText:()=>B_,isShortString:()=>ju,isShortText:()=>lP,isText:()=>Vu,splitLongString:()=>D_});function P_(e){return/^[\x00-\x7F]*$/.test(e)}function ju(e){return e.length<=b_}function N_(e){return/^[0-9]*$/i.test(e)}function Vu(e){return Ht(e)&&!Qn(e)&&!Ki(e)}var lP=e=>Vu(e)&&ju(e),B_=e=>Vu(e)&&!ju(e);function D_(e){const t=RegExp(`[^]{1,${b_}}`,"g");return e.match(t)||[]}function pn(e){if(!P_(e))throw new Error(`${e} is not an ASCII string`);if(!ju(e))throw new Error(`${e} is too long`);return st(e.replace(/./g,t=>t.charCodeAt(0).toString(16)))}function Gi(e){if(!P_(e))throw new Error(`${e} is not an ASCII string`);if(Qn(e))return Yt(e).replace(/.{2}/g,t=>String.fromCharCode(parseInt(t,16)));if(N_(e))return Gi("0X".concat(BigInt(e).toString(16)));throw new Error(`${e} is not Hex or decimal`)}var dP={};Rt(dP,{byteArrayFromString:()=>Sf,stringFromByteArray:()=>Av});function Av(e){const t=BigInt(e.pending_word)===0n?"":Gi(Se(e.pending_word));return e.data.reduce((n,r)=>{const s=BigInt(r)===0n?"":Gi(Se(r));return n+s},"")+t}function Sf(e){const t=D_(e),n=t[t.length-1],r=t.map(pn),[s,o]=n===void 0||n.length===31?["0x00",0]:[r.pop(),n.length];return{data:r.length===0?[]:r,pending_word:s,pending_word_len:o}}var Tv={};Rt(Tv,{felt:()=>Kr,getAbiContractVersion:()=>U_,getArrayType:()=>Is,isCairo1Abi:()=>$_,isCairo1Type:()=>Ko,isLen:()=>Xi,isTypeArray:()=>so,isTypeBool:()=>kf,isTypeByteArray:()=>Gu,isTypeBytes31:()=>Of,isTypeContractAddress:()=>vP,isTypeEnum:()=>qi,isTypeEthAddress:()=>Ji,isTypeFelt:()=>Ya,isTypeLiteral:()=>L_,isTypeNamedTuple:()=>xv,isTypeNonZero:()=>Qi,isTypeOption:()=>Cf,isTypeResult:()=>If,isTypeSecp256k1Point:()=>Rf,isTypeStruct:()=>Ku,isTypeTuple:()=>Zo,isTypeU96:()=>Sv,isTypeUint:()=>Wu,isTypeUint256:()=>EP,tuple:()=>Xa,uint256:()=>M_,uint512:()=>AP});function Yi(e){if(Ss(e)||Number.isInteger(e))return e.toString();if(Ht(e)){if(Qn(e))return BigInt(e).toString();if(Vu(e)){if(!ju(e))throw new Error(`${e} is a long string > 31 chars. Please split it into an array of short strings.`);return BigInt(pn(e)).toString()}if(Ki(e))return e}if(x_(e))return`${+e}`;throw new Error(`${e} can't be computed by felt()`)}var Zu=(1n<<128n)-1n,fP=(1n<<256n)-1n,hP=0n,pP=340282366920938463463374607431768211455n,gP=340282366920938463463374607431768211455n,_P=0n,mP=0n,gn=(hs=class{constructor(...t){Z(this,"low");Z(this,"high");if(Jn(t[0])&&t.length===1&&"low"in t[0]&&"high"in t[0]){const n=hs.validateProps(t[0].low,t[0].high);this.low=n.low,this.high=n.high}else if(t.length===1){const n=hs.validate(t[0]);this.low=n&Zu,this.high=n>>128n}else if(t.length===2){const n=hs.validateProps(t[0],t[1]);this.low=n.low,this.high=n.high}else throw Error("Incorrect constructor parameters")}static validate(t){const n=BigInt(t);if(n<hP)throw Error("bigNumberish is smaller than UINT_256_MIN");if(n>fP)throw new Error("bigNumberish is bigger than UINT_256_MAX");return n}static validateProps(t,n){const r=BigInt(t),s=BigInt(n);if(r<_P||r>pP)throw new Error("low is out of range UINT_256_LOW_MIN - UINT_256_LOW_MAX");if(s<mP||s>gP)throw new Error("high is out of range UINT_256_HIGH_MIN - UINT_256_HIGH_MAX");return{low:r,high:s}}static is(t){try{hs.validate(t)}catch{return!1}return!0}static isAbiType(t){return t===hs.abiSelector}toBigInt(){return(this.high<<128n)+this.low}toUint256HexString(){return{low:st(this.low.toString(16)),high:st(this.high.toString(16))}}toUint256DecimalString(){return{low:this.low.toString(10),high:this.high.toString(10)}}toApiRequest(){return[Yi(this.low),Yi(this.high)]}},Z(hs,"abiSelector","core::integer::u256"),hs),yP=(1n<<512n)-1n,bP=0n,wP=0n,er=(ps=class{constructor(...t){Z(this,"limb0");Z(this,"limb1");Z(this,"limb2");Z(this,"limb3");if(Jn(t[0])&&t.length===1&&"limb0"in t[0]&&"limb1"in t[0]&&"limb2"in t[0]&&"limb3"in t[0]){const n=ps.validateProps(t[0].limb0,t[0].limb1,t[0].limb2,t[0].limb3);this.limb0=n.limb0,this.limb1=n.limb1,this.limb2=n.limb2,this.limb3=n.limb3}else if(t.length===1){const n=ps.validate(t[0]);this.limb0=n&Zu,this.limb1=(n&Zu<<128n)>>128n,this.limb2=(n&Zu<<256n)>>256n,this.limb3=n>>384n}else if(t.length===4){const n=ps.validateProps(t[0],t[1],t[2],t[3]);this.limb0=n.limb0,this.limb1=n.limb1,this.limb2=n.limb2,this.limb3=n.limb3}else throw Error("Incorrect Uint512 constructor parameters")}static validate(t){const n=BigInt(t);if(n<bP)throw Error("bigNumberish is smaller than UINT_512_MIN.");if(n>yP)throw Error("bigNumberish is bigger than UINT_512_MAX.");return n}static validateProps(t,n,r,s){const o=BigInt(t),i=BigInt(n),c=BigInt(r),d=BigInt(s);return[o,i,c,d].forEach((f,g)=>{if(f<wP||f>Zu)throw Error(`limb${g} is not in the range of a u128 number`)}),{limb0:o,limb1:i,limb2:c,limb3:d}}static is(t){try{ps.validate(t)}catch{return!1}return!0}static isAbiType(t){return t===ps.abiSelector}toBigInt(){return(this.limb3<<384n)+(this.limb2<<256n)+(this.limb1<<128n)+this.limb0}toUint512HexString(){return{limb0:st(this.limb0.toString(16)),limb1:st(this.limb1.toString(16)),limb2:st(this.limb2.toString(16)),limb3:st(this.limb3.toString(16))}}toUint512DecimalString(){return{limb0:this.limb0.toString(10),limb1:this.limb1.toString(10),limb2:this.limb2.toString(10),limb3:this.limb3.toString(10)}}toApiRequest(){return[Yi(this.limb0),Yi(this.limb1),Yi(this.limb2),Yi(this.limb3)]}},Z(ps,"abiSelector","core::integer::u512"),ps),Xi=e=>/_len$/.test(e),Ya=e=>e==="felt"||e==="core::felt252",so=e=>/\*/.test(e)||e.startsWith("core::array::Array::")||e.startsWith("core::array::Span::"),Zo=e=>/^\(.*\)$/i.test(e),xv=e=>/\(.*\)/i.test(e)&&e.includes(":"),Ku=(e,t)=>e in t,qi=(e,t)=>e in t,Cf=e=>e.startsWith("core::option::Option::"),If=e=>e.startsWith("core::result::Result::"),Wu=e=>Object.values(Cr).includes(e),EP=e=>gn.isAbiType(e),L_=e=>Object.values(ji).includes(e),kf=e=>e==="core::bool",vP=e=>e===ji.ContractAddress,Ji=e=>e===JR,Of=e=>e==="core::bytes_31::bytes31",Gu=e=>e==="core::byte_array::ByteArray",Sv=e=>e==="core::internal::bounded_int::BoundedInt::<0, 79228162514264337593543950335>",Rf=e=>e===ji.Secp256k1Point,Ko=e=>e.includes("::"),Is=e=>Ko(e)?e.substring(e.indexOf("<")+1,e.lastIndexOf(">")):e.replace("*","");function $_(e){const{cairo:t}=U_(e);if(t===void 0)throw Error("Unable to determine Cairo version");return t==="1"}function Qi(e){return e.startsWith(QR)}function U_(e){if(e.find(r=>r.type==="interface"))return{cairo:"1",compiler:"2"};const t=e.find(r=>(r.type==="function"||r.type==="constructor")&&(r.inputs.length||r.outputs.length));if(!t)return{cairo:void 0,compiler:void 0};const n=t.inputs.length?t.inputs:t.outputs;return Ko(n[0].type)?{cairo:"1",compiler:"1"}:{cairo:"0",compiler:"0"}}var M_=e=>new gn(e).toUint256DecimalString(),AP=e=>new er(e).toUint512DecimalString(),Xa=(...e)=>({...e});function Kr(e){return Yi(e)}var Yu=class{constructor(e){Z(this,"variant");const t=Object.values(e);if(t.length===0)throw new Error("This Enum must have at least 1 variant");if(t.filter(r=>!Pn(r)).length!==1)throw new Error("This Enum must have exactly one active variant");this.variant=e}unwrap(){return Object.values(this.variant).find(t=>!Pn(t))}activeVariant(){const t=Object.entries(this.variant).find(n=>!Pn(n[1]));return Pn(t)?"":t[0]}},cs={Some:0,None:1},z_=class{constructor(e,t){Z(this,"Some");Z(this,"None");if(!(e in Object.values(cs)))throw new Error("Wrong variant! It should be CairoOptionVariant.Some or .None.");if(e===cs.Some){if(Pn(t))throw new Error('The creation of a Cairo Option with "Some" variant needs a content as input.');this.Some=t,this.None=void 0}else this.Some=void 0,this.None=!0}unwrap(){return this.None?void 0:this.Some}isSome(){return!Pn(this.Some)}isNone(){return this.None===!0}},kr={Ok:0,Err:1},F_=class{constructor(e,t){Z(this,"Ok");Z(this,"Err");if(!(e in Object.values(kr)))throw new Error("Wrong variant! It should be CairoResultVariant.Ok or .Err.");e===kr.Ok?(this.Ok=t,this.Err=void 0):(this.Ok=void 0,this.Err=t)}unwrap(){if(!Pn(this.Ok))return this.Ok;if(!Pn(this.Err))return this.Err;throw new Error("Both Result.Ok and .Err are undefined. Not authorized.")}isOk(){return!Pn(this.Ok)}isErr(){return!Pn(this.Err)}},H_={isBN:(e,t,n)=>{if(!Ss(e[n]))throw new Error(`Data and formatter mismatch on ${n}:${t[n]}, expected response data ${n}:${e[n]} to be BN instead it is ${typeof e[n]}`)},unknown:(e,t,n)=>{throw new Error(`Unhandled formatter type on ${n}:${t[n]} for data ${n}:${e[n]}`)}};function Pf(e,t,n){return Object.entries(e).reduce((r,[s,o])=>{const i=n??t[s];if(!(s in t)&&!n)return r[s]=o,r;if(i==="string"){if(Array.isArray(e[s])){const c=Pf(e[s],e[s].map(d=>i));return r[s]=Object.values(c).join(""),r}return H_.isBN(e,t,s),r[s]=Gi(o),r}if(i==="number")return H_.isBN(e,t,s),r[s]=Number(o),r;if(typeof i=="function")return r[s]=i(o),r;if(Array.isArray(i)){const c=Pf(e[s],i,i[0]);return r[s]=Object.values(c),r}return Jn(i)?(r[s]=Pf(e[s],i),r):(H_.unknown(e,t,s),r)},{})}var TP=class{constructor(e){Z(this,"abi");this.abi=e}methodInputsLength(e){return e.inputs.reduce((t,n)=>Xi(n.name)?t:t+1,0)}getMethod(e){return this.abi.find(t=>t.name===e)}getLegacyFormat(){return this.abi}},xP=class{constructor(e){Z(this,"abi");this.abi=e}methodInputsLength(e){return e.inputs.length}getMethod(e){return this.abi.find(n=>n.type==="interface")?.items?.find(n=>n.name===e)}getLegacyFormat(){return this.abi.flatMap(e=>e.type==="interface"?e.items:e)}};function j_(e){const t=SP(e);if(t===0||t===1)return new TP(e);if(t===2)return new xP(e);throw Error(`Unsupported ABI version ${t}`)}function SP(e){return e.find(t=>t.type==="interface")?2:$_(e)?1:0}function Cv(e,t,n){return e==="constructor"&&!n&&!t.length}function CP(e){const t=e.substring(0,e.indexOf(":")),n=e.substring(t.length+1);return{name:t,type:n}}function IP(e){if(!e.includes("("))return{subTuple:[],result:e};const t=[];let n="",r=0;for(;r<e.length;){if(e[r]==="("){let s=1;const o=r;for(r++;s;)e[r]===")"&&s--,e[r]==="("&&s++,r++;t.push(e.substring(o,r)),n+=" ",r--}else n+=e[r];r++}return{subTuple:t,result:n}}function kP(e){const t=e.replace(/\s/g,"").slice(1,-1),{subTuple:n,result:r}=IP(t);let s=r.split(",").map(o=>n.length?o.replace(" ",n.shift()):o);return xv(e)&&(s=s.reduce((o,i)=>o.concat(CP(i)),[])),s}function Iv(e,t,n){for(let r=0,s=0;r<e.length;r++)if(e[r]===t)s++;else if(e[r]===n&&--s===0)return r;return Number.POSITIVE_INFINITY}function OP(e){const t=e.slice(1,-1),n=[];let r=0,s;for(;r<t.length;){switch(!0){case t[r]==="(":{s=r+Iv(t.slice(r),"(",")")+1;break}case(t.startsWith("core::result::Result::<",r)||t.startsWith("core::array::Array::<",r)||t.startsWith("core::option::Option::<",r)):{s=r+Iv(t.slice(r),"<",">")+1;break}default:{const o=t.indexOf(",",r);s=o!==-1?o:Number.POSITIVE_INFINITY}}n.push(t.slice(r,s)),r=s+2}return n}function V_(e){return Ko(e)?OP(e):kP(e)}var tr=(pr=class{constructor(t,n){Z(this,"content");Z(this,"arrayType");He(pr.isTypeFixedArray(n),`The type ${n} is not a Cairo fixed array. Needs [type; length].`);try{pr.getFixedArrayType(n)}catch{throw new Error(`The type ${n} do not includes any content type. Needs [type; length].`)}try{pr.getFixedArraySize(n)}catch{throw new Error(`The type ${n} type do not includes any length. Needs [type; length].`)}He(pr.getFixedArraySize(n)===t.length,`The ABI type ${n} is expecting ${pr.getFixedArraySize(n)} items. ${t.length} items provided.`),this.content=t,this.arrayType=n}static getFixedArraySize(t){const n=t.match(/(?<=; )\d+(?=\])/);if(n===null)throw new Error(`ABI type ${t} do not includes a valid number after ';' character.`);return Number(n[0])}getFixedArraySize(){return pr.getFixedArraySize(this.arrayType)}getFixedArrayType(){return pr.getFixedArrayType(this.arrayType)}static compile(t){return t.reduce((n,r,s)=>(n[s]=r,n),{})}compile(){return pr.compile(this.content)}static isTypeFixedArray(t){return/^\[.*;\s.*\]$/.test(t)&&/(?<=\[).+(?=;)/.test(t)&&/(?<=; )\d+(?=\])/.test(t)}},Z(pr,"getFixedArrayType",t=>{const n=t.match(/(?<=\[).+(?=;)/);if(n===null)throw new Error(`ABI type ${t} do not includes a valid type of data.`);return n[0]}),pr);function RP(e){return Error(`Your object includes the property : ${e}, containing an Uint256 object without the 'low' and 'high' keys.`)}function PP(e){return Error(`Your object includes the property : ${e}, containing an Uint512 object without the 'limb0' to 'limb3' keys.`)}function NP(e,t,n,r){const s=(_,y)=>{if(tr.isTypeFixedArray(y))return c(_,y);if(so(y))return i(_,y);if(qi(y,r)){const b=r[y];return f(_,b)}if(Zo(y))return d(_,y);if(Ji(y)||Qi(y)||Gu(y)||Sv(y)||Rf(y))return _;if(gn.isAbiType(y)){const b=_;if(typeof b!="object")return b;if(!("low"in b&&"high"in b))throw RP(y);return{low:b.low,high:b.high}}if(er.isAbiType(y)){const b=_;if(typeof b!="object")return b;if(!["limb0","limb1","limb2","limb3"].every(k=>k in b))throw PP(y);return{limb0:b.limb0,limb1:b.limb1,limb2:b.limb2,limb3:b.limb3}}if(Ku(y,n)){const b=n[y].members;return o(_,b)}return _},o=(_,y)=>y.reduce((k,B)=>{const z=K=>Object.defineProperty(k,B.name,{enumerable:!0,value:K??_[B.name]});if(_[B.name]==="undefined"&&(Ko(B.type)||!Xi(B.name)))throw Error(`Your object needs a property with key : ${B.name} .`);return z(s(_[B.name],B.type)),k},{});function i(_,y){const b=Is(y);return Ht(_)?_:_.map(k=>s(k,b))}function c(_,y){const b=tr.getFixedArrayType(y),k=tr.getFixedArraySize(y);if(Array.isArray(_)){if(k!==_.length)throw new Error(`ABI type ${y}: array provided do not includes  ${k} items. ${_.length} items provided.`);return _.map(B=>s(B,b))}if(k!==Object.keys(_).length)throw new Error(`ABI type ${y}: object provided do not includes  ${k} properties. ${Object.keys(_).length} items provided.`);return s(_,b)}function d(_,y){return V_(y).reduce((B,z,K)=>{const J=Object.keys(_),q=be=>Object.defineProperty(B,K.toString(),{enumerable:!0,value:be??_[J[K]]}),ee=z?.type?z.type:z;return q(s(_[J[K]],ee)),B},{})}const f=(_,y)=>{if(If(y.name)){const z=_,K=y.name.substring(y.name.indexOf("<")+1,y.name.lastIndexOf(",")),J=y.name.substring(y.name.indexOf(",")+1,y.name.lastIndexOf(">"));return z.isOk()?new F_(kr.Ok,s(_.unwrap(),K)):new F_(kr.Err,s(_.unwrap(),J))}if(Cf(y.name)){const z=_,K=y.name.substring(y.name.indexOf("<")+1,y.name.lastIndexOf(">"));return z.isSome()?new z_(cs.Some,s(z.unwrap(),K)):new z_(cs.None,{})}const b=_,B=Object.entries(b.variant).map(z=>{if(Pn(z[1]))return z;const K=y.type.substring(y.type.lastIndexOf("<")+1,y.type.lastIndexOf(">"));return K==="()"?z:[z[0],s(b.unwrap(),K)]});return new Yu(Object.fromEntries(B))};return t.reduce((_,y)=>{const b=k=>Object.defineProperty(_,y.name,{enumerable:!0,value:k});return Xi(y.name)&&!Ko(y.type)||b(s(e[y.name],y.type)),_},{})}function qa(e,t){switch(!0){case gn.isAbiType(e):return new gn(t).toApiRequest();case er.isAbiType(e):return new er(t).toApiRequest();case Of(e):return pn(t.toString());case Rf(e):{const n=Yt(Se(t)).padStart(128,"0"),r=M_(st(n.slice(-64))),s=M_(st(n.slice(0,-64)));return[Kr(s.low),Kr(s.high),Kr(r.low),Kr(r.high)]}default:return Kr(t)}}function BP(e,t){const n=V_(t),r=Object.values(e);if(r.length!==n.length)throw Error(`ParseTuple: provided and expected abi tuple size do not match.
      provided: ${r}
      expected: ${n}`);return n.map((s,o)=>({element:r[o],type:s.type??s}))}function DP(e){const t=Sf(e);return[t.data.length.toString(),...t.data.map(n=>n.toString()),t.pending_word.toString(),t.pending_word_len.toString()]}function Wr(e,t,n,r){if(e===void 0)throw Error(`Missing parameter for type ${t}`);if(tr.isTypeFixedArray(t)){const s=tr.getFixedArrayType(t);let o=[];if(Array.isArray(e))o=new tr(e,t).content;else if(typeof e=="object")o=Object.values(e),He(o.length===tr.getFixedArraySize(t),`ABI type ${t}: object provided do not includes  ${tr.getFixedArraySize(t)} items. ${o.length} items provided.`);else throw new Error(`ABI type ${t}: not an Array representing a cairo.fixedArray() provided.`);return o.reduce((i,c)=>i.concat(Wr(c,s,n,r)),[])}if(Array.isArray(e)){const s=[];s.push(Kr(e.length));const o=Is(t);return e.reduce((i,c)=>i.concat(Wr(c,o,n,r)),s)}if(n[t]&&n[t].members.length){if(gn.isAbiType(t))return new gn(e).toApiRequest();if(er.isAbiType(t))return new er(e).toApiRequest();if(Ji(t))return qa(t,e);if(Gu(t))return DP(e);const{members:s}=n[t],o=e;return s.reduce((i,c)=>i.concat(Wr(o[c.name],c.type,n,r)),[])}if(Zo(t))return BP(e,t).reduce((o,i)=>{const c=Wr(i.element,i.type,n,r);return o.concat(c)},[]);if(gn.isAbiType(t))return new gn(e).toApiRequest();if(er.isAbiType(t))return new er(e).toApiRequest();if(qi(t,r)){const{variants:s}=r[t];if(Cf(t)){const _=e;if(_.isSome()){const y=s.find(B=>B.name==="Some");if(Pn(y))throw Error("Error in abi : Option has no 'Some' variant.");const b=y.type;if(b==="()")return cs.Some.toString();const k=Wr(_.unwrap(),b,n,r);return Array.isArray(k)?[cs.Some.toString(),...k]:[cs.Some.toString(),k]}return cs.None.toString()}if(If(t)){const _=e;if(_.isOk()){const B=s.find(J=>J.name==="Ok");if(Pn(B))throw Error("Error in abi : Result has no 'Ok' variant.");const z=B.type;if(z==="()")return kr.Ok.toString();const K=Wr(_.unwrap(),z,n,r);return Array.isArray(K)?[kr.Ok.toString(),...K]:[kr.Ok.toString(),K]}const y=s.find(B=>B.name==="Err");if(Pn(y))throw Error("Error in abi : Result has no 'Err' variant.");const b=y.type;if(b==="()")return kr.Err.toString();const k=Wr(_.unwrap(),b,n,r);return Array.isArray(k)?[kr.Err.toString(),...k]:[kr.Err.toString(),k]}const o=e,i=o.activeVariant(),c=s.find(_=>_.name===i);if(Pn(c))throw Error(`Not find in abi : Enum has no '${i}' variant.`);const d=c.type,f=s.findIndex(_=>_.name===i);if(d==="()")return f.toString();const g=Wr(o.unwrap(),d,n,r);return Array.isArray(g)?[f.toString(),...g]:[f.toString(),g]}if(Qi(t))return qa(Is(t),e);if(typeof e=="object")throw Error(`Parameter ${e} do not align with abi parameter ${t}`);return qa(t,e)}function LP(e,t,n,r){const{name:s,type:o}=t;let{value:i}=e.next();switch(!0){case tr.isTypeFixedArray(o):if(!Array.isArray(i)&&typeof i!="object")throw Error(`ABI expected parameter ${s} to be an array or an object, got ${i}`);return Wr(i,t.type,n,r);case so(o):if(!Array.isArray(i)&&!Vu(i))throw Error(`ABI expected parameter ${s} to be array or long string, got ${i}`);return Ht(i)&&(i=D_(i)),Wr(i,t.type,n,r);case Qi(o):return qa(Is(o),i);case Ji(o):return qa(o,i);case(Ku(o,n)||Zo(o)||gn.isAbiType(o)):return Wr(i,o,n,r);case qi(o,r):return Wr(i,o,n,r);default:return qa(o,i)}}function Z_(e,t){let n;switch(!0){case kf(e):return n=t.next().value,!!BigInt(n);case gn.isAbiType(e):const r=t.next().value,s=t.next().value;return new gn(r,s).toBigInt();case er.isAbiType(e):const o=t.next().value,i=t.next().value,c=t.next().value,d=t.next().value;return new er(o,i,c,d).toBigInt();case Ji(e):return n=t.next().value,BigInt(n);case Of(e):return n=t.next().value,Gi(n);case Rf(e):const f=Yt(t.next().value).padStart(32,"0"),g=Yt(t.next().value).padStart(32,"0"),_=Yt(t.next().value).padStart(32,"0"),y=Yt(t.next().value).padStart(32,"0");return BigInt(st(g+f+y+_));default:return n=t.next().value,BigInt(n)}}function Or(e,t,n,r){if(t.type==="()")return{};if(gn.isAbiType(t.type)){const s=e.next().value,o=e.next().value;return new gn(s,o).toBigInt()}if(er.isAbiType(t.type)){const s=e.next().value,o=e.next().value,i=e.next().value,c=e.next().value;return new er(s,o,i,c).toBigInt()}if(Gu(t.type)){const s=[],o=BigInt(e.next().value);for(;s.length<o;)s.push(Se(e.next().value));const i=Se(e.next().value),c=BigInt(e.next().value);return Av({data:s,pending_word:i,pending_word_len:c})}if(tr.isTypeFixedArray(t.type)){const s=[],o={name:"",type:tr.getFixedArrayType(t.type)},i=tr.getFixedArraySize(t.type);for(;s.length<i;)s.push(Or(e,o,n,r));return s}if(so(t.type)){const s=[],o={name:"",type:Is(t.type)},i=BigInt(e.next().value);for(;s.length<i;)s.push(Or(e,o,n,r));return s}if(Qi(t.type)){const s={name:"",type:Is(t.type)};return Or(e,s,n,r)}if(n&&t.type in n&&n[t.type])return Ji(t.type)?Z_(t.type,e):n[t.type].members.reduce((s,o)=>(s[o.name]=Or(e,o,n,r),s),{});if(r&&t.type in r&&r[t.type]){const s=Number(e.next().value),o=r[t.type].variants.reduce((c,d,f)=>f===s?(c[d.name]=Or(e,{name:"",type:d.type},n,r),c):(c[d.name]=void 0,c),{});if(t.type.startsWith("core::option::Option")){const c=s===cs.Some?o.Some:void 0;return new z_(s,c)}if(t.type.startsWith("core::result::Result")){let c;return s===kr.Ok?c=o.Ok:c=o.Err,new F_(s,c)}return new Yu(o)}if(Zo(t.type))return V_(t.type).reduce((o,i,c)=>{const d=i?.name?i.name:c,f=i?.type?i.type:i,g={name:d,type:f};return o[d]=Or(e,g,n,r),o},{});if(so(t.type)){const s=[],o={name:"",type:Is(t.type)},i=BigInt(e.next().value);for(;s.length<i;)s.push(Or(e,o,n,r));return s}return Z_(t.type,e)}function Nf(e,t,n,r,s){const{name:o,type:i}=t;let c;switch(!0){case Xi(o):return c=e.next().value,BigInt(c);case(n&&i in n||Zo(i)):return Or(e,t,n,r);case(r&&qi(i,r)):return Or(e,t,n,r);case tr.isTypeFixedArray(i):return Or(e,t,n,r);case so(i):if(Ko(i))return Or(e,t,n,r);const d=[];if(s&&s[`${o}_len`]){const f=s[`${o}_len`];for(;d.length<f;)d.push(Or(e,{name:o,type:t.type.replace("*","")},n,r))}return d;case Qi(i):return Or(e,t,n,r);default:return Z_(i,e)}}var K_=(e,t)=>{if(He(Ht(e)||xs(e)||Ss(e),`Validate: arg ${t.name} should be a felt typed as (String, Number or BigInt)`),Ht(e)&&!Qn(e))return;const n=BigInt(e.toString(10));He(n>=0n&&n<=2n**252n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^252-1]`)},$P=(e,t)=>{He(Ht(e),`Validate: arg ${t.name} should be a string.`),He(e.length<32,`Validate: arg ${t.name} cairo typed ${t.type} should be a string of less than 32 characters.`)},UP=(e,t)=>{He(Ht(e),`Validate: arg ${t.name} should be a string.`)},Bf=(e,t)=>{xs(e)&&He(e<=Number.MAX_SAFE_INTEGER,"Validation: Parameter is too large to be typed as Number use (BigInt or String)"),He(Ht(e)||xs(e)||Ss(e)||Jn(e)&&"low"in e&&"high"in e||Jn(e)&&["limb0","limb1","limb2","limb3"].every(r=>r in e),`Validate: arg ${t.name} of cairo type ${t.type} should be type (String, Number or BigInt), but is ${typeof e} ${e}.`);let n;switch(t.type){case Cr.u256:n=new gn(e).toBigInt();break;case Cr.u512:n=new er(e).toBigInt();break;default:n=An(e)}switch(t.type){case Cr.u8:He(n>=0n&&n<=255n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0 - 255]`);break;case Cr.u16:He(n>=0n&&n<=65535n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 65535]`);break;case Cr.u32:He(n>=0n&&n<=4294967295n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 4294967295]`);break;case Cr.u64:He(n>=0n&&n<=2n**64n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^64-1]`);break;case Cr.u128:He(n>=0n&&n<=2n**128n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^128-1]`);break;case Cr.u256:He(n>=0n&&n<=2n**256n-1n,`Validate: arg ${t.name} is ${t.type} should be in range 0 - 2^256-1`);break;case Cr.u512:He(er.is(n),`Validate: arg ${t.name} is ${t.type} should be in range 0 - 2^512-1`);break;case ji.ClassHash:He(n>=0n&&n<=2n**252n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^252-1]`);break;case ji.ContractAddress:He(n>=0n&&n<=2n**252n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^252-1]`);break;case ji.Secp256k1Point:{He(n>=0n&&n<=2n**512n-1n,`Validate: arg ${t.name} must be ${t.type} : a 512 bits number.`);break}case ji.U96:{He(n>=0n&&n<=2n**96n-1n,`Validate: arg ${t.name} must be ${t.type} : a 96 bits number.`);break}default:break}},kv=(e,t)=>{He(x_(e),`Validate: arg ${t.name} of cairo type ${t.type} should be type (Boolean)`)},Ov=(e,t,n)=>{if(t.type===Cr.u256||t.type===Cr.u512){Bf(e,t);return}if(Ji(t.type)){He(!Jn(e),`EthAddress type is waiting a BigNumberish. Got "${e}"`);const r=BigInt(e.toString(10));He(r>=0n&&r<=2n**160n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^160-1]`);return}He(Jn(e),`Validate: arg ${t.name} is cairo type struct (${t.type}), and should be defined as a js object (not array)`),n[t.type].members.forEach(({name:r})=>{He(Object.keys(e).includes(r),`Validate: arg ${t.name} should have a property ${r}`)})},Rv=(e,t)=>{He(Jn(e),`Validate: arg ${t.name} is cairo type Enum (${t.type}), and should be defined as a js object (not array)`);const n=Object.getOwnPropertyNames(Object.getPrototypeOf(e)),r=[...Object.getOwnPropertyNames(e),...n];if(!(Cf(t.type)&&r.includes("isSome")&&r.includes("isNone"))&&!(If(t.type)&&r.includes("isOk")&&r.includes("isErr"))&&!(r.includes("variant")&&r.includes("activeVariant")))throw new Error(`Validate Enum: argument ${t.name}, type ${t.type}, value received "${e}", is not an Enum.`)},Pv=(e,t)=>{He(Jn(e),`Validate: arg ${t.name} should be a tuple (defined as object)`)},Nv=(e,t,n,r)=>{const s=so(t.type),o=s?Is(t.type):tr.getFixedArrayType(t.type);if(s&&Ya(o)&&B_(e))return;let i=[];if(s)He(Array.isArray(e),`Validate: arg ${t.name} should be an Array`),i=e;else switch(!0){case Array.isArray(e):i=e;break;case typeof e=="object":i=Object.values(e);break;default:throw new Error(`Validate: arg ${t.name} should be an Array or an object.`)}switch(!0){case Ya(o):i.forEach(c=>K_(c,t));break;case Zo(o):i.forEach(c=>Pv(c,{name:t.name,type:o}));break;case so(o):i.forEach(c=>Nv(c,{name:"",type:o},n,r));break;case Ku(o,n):i.forEach(c=>Ov(c,{name:t.name,type:o},n));break;case qi(o,r):i.forEach(c=>Rv(c,{name:t.name,type:o}));break;case(Wu(o)||L_(o)):i.forEach(c=>Bf(c,{name:"",type:o}));break;case kf(o):i.forEach(c=>kv(c,t));break;default:throw new Error(`Validate Unhandled: argument ${t.name}, type ${t.type}, value ${i}`)}},MP=(e,t)=>{const n=Is(t.type);switch(He(Wu(n)&&n!==er.abiSelector||Ya(n),`Validate: ${t.name} type is not authorized for NonZero type.`),!0){case Ya(n):K_(e,t),He(BigInt(e.toString(10))>0,"Validate: value 0 is not authorized in NonZero felt252 type.");break;case Wu(n):switch(Bf(e,{name:"",type:n}),n){case Cr.u256:He(new gn(e).toBigInt()>0,"Validate: value 0 is not authorized in NonZero uint256 type.");break;default:He(An(e)>0,"Validate: value 0 is not authorized in NonZero uint type.")}break;default:throw new Error(`Validate Unhandled: argument ${t.name}, type ${t.type}, value "${e}"`)}};function Bv(e,t,n,r){e.inputs.reduce((s,o)=>{const i=t[s];switch(!0){case Xi(o.name):return s;case Ya(o.type):K_(i,o);break;case Of(o.type):$P(i,o);break;case(Wu(o.type)||L_(o.type)):Bf(i,o);break;case kf(o.type):kv(i,o);break;case Gu(o.type):UP(i,o);break;case(so(o.type)||tr.isTypeFixedArray(o.type)):Nv(i,o,n,r);break;case Ku(o.type,n):Ov(i,o,n);break;case qi(o.type,r):Rv(i,o);break;case Zo(o.type):Pv(i,o);break;case Qi(o.type):MP(i,o);break;default:throw new Error(`Validate Unhandled: argument ${o.name}, type ${o.type}, value ${i}`)}return s+1},0)}var it=class od{constructor(t){Z(this,"abi");Z(this,"parser");Z(this,"structs");Z(this,"enums");this.structs=od.getAbiStruct(t),this.enums=od.getAbiEnum(t),this.parser=j_(t),this.abi=this.parser.getLegacyFormat()}validate(t,n,r=[]){if(t!==Vo.DEPLOY){const i=this.abi.filter(c=>{if(c.type!=="function")return!1;const d=c.stateMutability==="view"||c.state_mutability==="view";return t===Vo.INVOKE?!d:d}).map(c=>c.name);He(i.includes(n),`${t===Vo.INVOKE?"invocable":"viewable"} method not found in abi`)}const s=this.abi.find(i=>t===Vo.DEPLOY?i.name===n&&i.type==="constructor":i.name===n&&i.type==="function");if(Cv(n,r,s))return;const o=this.parser.methodInputsLength(s);if(r.length!==o)throw Error(`Invalid number of arguments, expected ${o} arguments, but got ${r.length}`);Bv(s,r,this.structs,this.enums)}compile(t,n){const r=this.abi.find(c=>c.name===t);if(Cv(t,n,r))return[];let s;if(Array.isArray(n))s=n;else{const c=NP(n,r.inputs,this.structs,this.enums);s=Object.values(c),Bv(r,s,this.structs,this.enums)}const o=s[Symbol.iterator](),i=r.inputs.reduce((c,d)=>Xi(d.name)&&!Ko(d.type)?c:c.concat(LP(o,d,this.structs,this.enums)),[]);return Object.defineProperty(i,"__compiled__",{enumerable:!1,writable:!1,value:!0}),i}static compile(t){const n=s=>{const o=(c,d=".")=>{const f=Array.isArray(c)?[c.length.toString(),...c]:c;return Object.entries(f).flatMap(([g,_])=>{let y=_;g==="entrypoint"?y=on(y):B_(y)&&(y=Sf(y));const b=Array.isArray(f)&&g==="0"?"$$len":g;if(Ss(y))return[[`${d}${b}`,Kr(y)]];if(Object(y)===y){const k=Object.getOwnPropertyNames(Object.getPrototypeOf(y)),B=[...Object.getOwnPropertyNames(y),...k];if(B.includes("isSome")&&B.includes("isNone")){const z=y,K=z.isSome()?cs.Some:cs.None;return z.isSome()?o({0:K,1:z.unwrap()},`${d}${b}.`):[[`${d}${b}`,Kr(K)]]}if(B.includes("isOk")&&B.includes("isErr")){const z=y,K=z.isOk()?kr.Ok:kr.Err;return o({0:K,1:z.unwrap()},`${d}${b}.`)}if(B.includes("variant")&&B.includes("activeVariant")){const z=y,K=z.activeVariant(),q=Object.keys(z.variant).findIndex(ee=>ee===K);return typeof z.unwrap()=="object"&&Object.keys(z.unwrap()).length===0?[[`${d}${b}`,Kr(q)]]:o({0:q,1:z.unwrap()},`${d}${b}.`)}return o(y,`${d}${b}.`)}return[[`${d}${b}`,Kr(y)]]})};return Object.fromEntries(o(s))};let r;if(Array.isArray(t)){const s={...t},o=n(s);r=Object.values(o)}else{const s=n(t);r=Object.values(s)}return Object.defineProperty(r,"__compiled__",{enumerable:!1,writable:!1,value:!0}),r}parse(t,n){const{outputs:r}=this.abi.find(i=>i.name===t),s=n.flat()[Symbol.iterator](),o=r.flat().reduce((i,c,d)=>{const f=c.name??d;return i[f]=Nf(s,c,this.structs,this.enums,i),i[f]&&i[`${f}_len`]&&delete i[`${f}_len`],i},{});return Object.keys(o).length===1&&0 in o?o[0]:o}format(t,n,r){const s=this.parse(t,n);return Pf(s,r)}static getAbiStruct(t){return t.filter(n=>n.type==="struct").reduce((n,r)=>({...n,[r.name]:r}),{})}static getAbiEnum(t){const n=t.filter(r=>r.type==="enum").reduce((r,s)=>({...r,[s.name]:s}),{});return delete n["core::bool"],n}static toCalldata(t=[]){return od.compile(t)}static toHex(t=[]){return od.compile(t).map(r=>Se(r))}decodeParameters(t,n){const r=Array.isArray(t)?t:[t],s=n.flat()[Symbol.iterator](),o=r.map(i=>Nf(s,{name:"",type:i},this.structs,this.enums));return o.length===1?o[0]:o}},zP={};Rt(zP,{calculateContractAddressFromHash:()=>el,calculateDeclareTransactionHash:()=>Uf,calculateDeployAccountTransactionHash:()=>Ju,calculateInvokeTransactionHash:()=>qu,calculateL2MessageTxHash:()=>zv,computeCompiledClassHash:()=>Wv,computeContractClassHash:()=>Yv,computeHashOnElements:()=>ks,computeHintedClassHash:()=>Vv,computeLegacyContractClassHash:()=>Zv,computePedersenHash:()=>Qu,computePedersenHashOnElements:()=>Hv,computePoseidonHash:()=>Fv,computePoseidonHashOnElements:()=>jv,computeSierraContractClassHash:()=>Gv,formatSpaces:()=>tl,getL1MessageHash:()=>vv,getL2MessageHash:()=>Ev,getSelector:()=>Wi,getSelectorFromName:()=>on,hashByteCodeSegments:()=>Kv,keccakBn:()=>O_,poseidon:()=>U,solidityUint256PackedKeccak256:()=>Fu,starknetKeccak:()=>R_});var FP={};Rt(FP,{calculateDeclareTransactionHash:()=>$v,calculateDeployAccountTransactionHash:()=>Lv,calculateInvokeTransactionHash:()=>Uv,calculateTransactionHashCommon:()=>$f,encodeDataResourceBoundsL1:()=>Lf,encodeResourceBoundsL1:()=>Qa,encodeResourceBoundsL2:()=>ec,hashDAMode:()=>Ja,hashFeeFieldV3B3:()=>Dv});var Wo=e=>e.map(t=>BigInt(t)),HP=32n,jP=64n,Df=128n,W_=jP+Df,VP=BigInt(pn("L1_GAS")),ZP=BigInt(pn("L2_GAS")),KP=BigInt(pn("L1_DATA"));function Ja(e,t){return(BigInt(e)<<HP)+BigInt(t)}function Qa(e){return(VP<<W_)+(e.l1_gas.max_amount<<Df)+e.l1_gas.max_price_per_unit}function ec(e){return(ZP<<W_)+(e.l2_gas.max_amount<<Df)+e.l2_gas.max_price_per_unit}function Lf(e){return(KP<<W_)+(e.l1_data_gas.max_amount<<Df)+e.l1_data_gas.max_price_per_unit}function Dv(e,t){const n=Qa(t),r=ec(t),s=Lf(t);return En([BigInt(e),n,r,s])}function $f(e,t,n,r,s,o,i,c,d,f,g=[]){const _=Dv(o,f),y=Ja(c,d),b=Wo([e,t,n,_,En(Wo(i)),r,s,y,...Wo(g)]);return Se(En(b))}function Lv(e,t,n,r,s,o,i,c,d,f,g,_){return $f(Fo.DEPLOY_ACCOUNT,s,e,o,i,g,_,c,d,f,[En(Wo(n)),t,r])}function $v(e,t,n,r,s,o,i,c,d,f,g,_){return $f(Fo.DECLARE,r,n,s,o,g,Wo(_),c,d,f,[En(Wo(i)),e,t])}function Uv(e,t,n,r,s,o,i,c,d,f,g){return $f(Fo.INVOKE,t,e,r,s,f,g,i,c,d,[En(Wo(o)),En(Wo(n))])}var WP={};Rt(WP,{calculateDeclareTransactionHash:()=>GP,calculateDeployAccountTransactionHash:()=>YP,calculateL2MessageTxHash:()=>zv,calculateTransactionHash:()=>XP,calculateTransactionHashCommon:()=>Xu,computeHashOnElements:()=>G_});var Mv={};Rt(Mv,{starkCurve:()=>G,weierstrass:()=>H});function G_(e){return[...e,e.length].reduce((t,n)=>Da(An(t),An(n)),0).toString()}function Xu(e,t,n,r,s,o,i,c=[]){const d=G_(s),f=[e,t,n,r,d,o,i,...c];return G_(f)}function GP(e,t,n,r,s,o,i){return Xu(Fo.DECLARE,n,t,0,[e],r,s,[o,...i?[i]:[]])}function YP(e,t,n,r,s,o,i,c){const d=[t,r,...n];return Xu(Fo.DEPLOY_ACCOUNT,s,e,0,d,o,i,[c])}function XP(e,t,n,r,s,o){return Xu(Fo.INVOKE,t,e,0,n,r,s,[o])}function zv(e,t,n,r,s,o){const i=[e,...r];return Xu(Fo.L1_HANDLER,0,t,Wi(n),i,0,s,[o])}function qP(e){return[Fe.ETransactionVersion.V3,Fe.ETransactionVersion.F3].includes(e.version)}function qu(e){if(qP(e))return Uv(e.senderAddress,e.version,e.compiledCalldata,e.chainId,e.nonce,e.accountDeploymentData,e.nonceDataAvailabilityMode,e.feeDataAvailabilityMode,e.resourceBounds,e.tip,e.paymasterData);throw new Error("Invalid Tx version for hash calculation")}function JP(e){return[Fe.ETransactionVersion.V3,Fe.ETransactionVersion.F3].includes(e.version)}function Uf(e){if(JP(e))return $v(e.classHash,e.compiledClassHash,e.senderAddress,e.version,e.chainId,e.nonce,e.accountDeploymentData,e.nonceDataAvailabilityMode,e.feeDataAvailabilityMode,e.resourceBounds,e.tip,e.paymasterData);throw new Error("Invalid Tx version for hash calculation")}function QP(e){return[Fe.ETransactionVersion.V3,Fe.ETransactionVersion.F3].includes(e.version)}function Ju(e){if(QP(e))return Lv(e.contractAddress,e.classHash,e.compiledConstructorCalldata,e.salt,e.version,e.chainId,e.nonce,e.nonceDataAvailabilityMode,e.feeDataAvailabilityMode,e.resourceBounds,e.tip,e.paymasterData);throw new Error("Invalid Tx version for hash calculation")}function Qu(e,t){return Da(BigInt(e),BigInt(t))}function Fv(e,t){return Se(Ig(BigInt(e),BigInt(t)))}function ks(e){return[...e,e.length].reduce((t,n)=>Da(BigInt(t),BigInt(n)),0).toString()}var Hv=ks;function jv(e){return Se(En(e.map(t=>BigInt(t))))}function el(e,t,n,r){const s=it.compile(n),o=ks(s),i=Kr("0x535441524b4e45545f434f4e54524143545f41444452455353"),c=ks([i,r,e,t,o]);return Se(BigInt(c)%v_)}function eN(e,t){return e==="attributes"||e==="accessible_scopes"?Array.isArray(t)&&t.length===0?void 0:t:e==="debug_info"?null:t===null?void 0:t}function tl(e){let t=!1;const n=[];for(const r of e)r==='"'&&!(n.length>0&&n.slice(-1)[0]==="\\")&&(t=!t),t?n.push(r):n.push(r===":"?": ":r===","?", ":r);return n.join("")}function Vv(e){const{abi:t,program:n}=e,s=tl(cr({abi:t,program:n},eN));return st(Do(Hi(s)).toString(16))}function Zv(e){const t=Ht(e)?Vi(e):e,n=Se(ev),r=ks(t.entry_points_by_type.EXTERNAL.flatMap(f=>[f.selector,f.offset])),s=ks(t.entry_points_by_type.L1_HANDLER.flatMap(f=>[f.selector,f.offset])),o=ks(t.entry_points_by_type.CONSTRUCTOR.flatMap(f=>[f.selector,f.offset])),i=ks(t.program.builtins.map(f=>pn(f))),c=Vv(t),d=ks(t.program.data);return ks([n,r,s,o,i,c,d])}function tN(e){return En(e.flatMap(t=>BigInt(pn(t))))}function Y_(e){const t=e.flatMap(n=>[BigInt(n.selector),BigInt(n.offset),tN(n.builtins)]);return En(t)}function Kv(e){const t=e.bytecode.map(o=>BigInt(o)),n=e.bytecode_segment_lengths??[];let r=0;const s=n.flatMap(o=>{const i=t.slice(r,r+=o);return[BigInt(o),En(i)]});return 1n+En(s)}function Wv(e){const n=BigInt(pn("COMPILED_CLASS_V1")),r=Y_(e.entry_points_by_type.EXTERNAL),s=Y_(e.entry_points_by_type.L1_HANDLER),o=Y_(e.entry_points_by_type.CONSTRUCTOR),i=e.bytecode_segment_lengths?Kv(e):En(e.bytecode.map(c=>BigInt(c)));return Se(En([n,r,s,o,i]))}function X_(e){const t=e.flatMap(n=>[BigInt(n.selector),BigInt(n.function_idx)]);return En(t)}function nN(e){const t=tl(cr(e.abi,null));return BigInt(st(Do(Hi(t)).toString(16)))}function Gv(e){const n=BigInt(pn("CONTRACT_CLASS_V0.1.0")),r=X_(e.entry_points_by_type.EXTERNAL),s=X_(e.entry_points_by_type.L1_HANDLER),o=X_(e.entry_points_by_type.CONSTRUCTOR),i=nN(e),c=En(e.sierra_program.map(d=>BigInt(d)));return Se(En([n,r,s,o,i,c]))}function Yv(e){const t=Ht(e)?Vi(e):e;return"sierra_program"in t?Gv(t):Zv(t)}var rN={};Rt(rN,{ZeroFeeEstimate:()=>Jv,compressProgram:()=>q_,decompressProgram:()=>nl,formatSignature:()=>rl,getFullPublicKey:()=>oN,intDAM:()=>Lt,randomAddress:()=>J_,resourceBoundsToBigInt:()=>iN,resourceBoundsToEstimateFeeResponse:()=>qv,resourceBoundsToHexString:()=>tc,signatureToDecimalArray:()=>sN,signatureToHexArray:()=>Os,toFeeVersion:()=>Qv,toOverheadOverallFee:()=>Q_,toOverheadResourceBounds:()=>Mf,toTransactionVersion:()=>sl,v3Details:()=>ur,zeroResourceBounds:()=>Xv});function q_(e){const t=Ht(e)?e:cr(e),n=o_(t);return YE(n)}function nl(e){if(Array.isArray(e))return e;const t=WE(i_(GE(e)));return Vi(t)}function J_(){const e=vg.randomPrivateKey();return Tg(e)}function rl(e){if(!e)throw Error("formatSignature: provided signature is undefined");if(Array.isArray(e))return e.map(t=>Se(t));try{const{r:t,s:n}=e;return[Se(t),Se(n)]}catch{throw new Error("Signature need to be weierstrass.SignatureType or an array for custom")}}function sN(e){return yv(rl(e))}function Os(e){return Zi(rl(e))}function Xv(){return Mf(Jv(),!1)}function Mf(e,t=as.get("resourceBoundsOverhead")){return{l2_gas:{max_amount:Ir(e.l2_gas_consumed,t!==!1?t.l2_gas.max_amount:0),max_price_per_unit:Ir(e.l2_gas_price,t!==!1?t.l2_gas.max_price_per_unit:0)},l1_gas:{max_amount:Ir(e.l1_gas_consumed,t!==!1?t.l1_gas.max_amount:0),max_price_per_unit:Ir(e.l1_gas_price,t!==!1?t.l1_gas.max_price_per_unit:0)},l1_data_gas:{max_amount:Ir(e.l1_data_gas_consumed,t!==!1?t.l1_data_gas.max_amount:0),max_price_per_unit:Ir(e.l1_data_gas_price,t!==!1?t.l1_data_gas.max_price_per_unit:0)}}}function qv(e){return{resourceBounds:e,overall_fee:e.l1_gas.max_amount*e.l1_gas.max_price_per_unit+e.l1_data_gas.max_amount*e.l1_data_gas.max_price_per_unit+e.l2_gas.max_amount*e.l2_gas.max_price_per_unit,unit:"FRI"}}function Q_(e,t=as.get("resourceBoundsOverhead")){return Ir(e.l1_gas_consumed,t!==!1?t.l1_gas.max_amount:0)*Ir(e.l1_gas_price,t!==!1?t.l1_gas.max_price_per_unit:0)+Ir(e.l1_data_gas_consumed,t!==!1?t.l1_data_gas.max_amount:0)*Ir(e.l1_data_gas_price,t!==!1?t.l1_data_gas.max_price_per_unit:0)+Ir(e.l2_gas_consumed,t!==!1?t.l2_gas.max_amount:0)*Ir(e.l2_gas_price,t!==!1?t.l2_gas.max_price_per_unit:0)}function Jv(){return{l1_gas_consumed:"0",l1_gas_price:"0",l1_data_gas_consumed:"0",l1_data_gas_price:"0",l2_gas_consumed:"0",l2_gas_price:"0",overall_fee:"0",unit:"FRI"}}function Lt(e){if(e===xf.L1)return dv.L1;if(e===xf.L2)return dv.L2;throw Error("EDAM conversion")}function sl(e,t){const n=Se(t||e);if(!Object.values(Uu).includes(n))throw Error(`${t?"providedVersion":"defaultVersion"} ${n} is not ETransactionVersion`);return n}function Qv(e){if(!e)return;const t=Se(e);if(t===Sr.V0)return Sr.F0;if(t===Sr.V1)return Sr.F1;if(t===Sr.V2)return Sr.F2;if(t===Sr.V3)return Sr.F3;throw Error(`toFeeVersion: ${t} is not supported`)}function ur(e){return{tip:e.tip||0,paymasterData:e.paymasterData||[],accountDeploymentData:e.accountDeploymentData||[],nonceDataAvailabilityMode:e.nonceDataAvailabilityMode||xf.L1,feeDataAvailabilityMode:e.feeDataAvailabilityMode||xf.L1,resourceBounds:e.resourceBounds??Xv()}}function oN(e){const t=Se(e);return st(qn(Eg(t,!1)))}function tc(e){const t=n=>{if(Ss(n))return Se(n);if(Jn(n)){const r={};return Object.keys(n).forEach(s=>{r[s]=t(n[s])}),r}return n};return t(e)}function iN(e){const t=n=>{if(Ht(n))return BigInt(n);if(Jn(n)){const r={};return Object.keys(n).forEach(s=>{r[s]=t(n[s])}),r}return n};return t(e)}function Rs(e){return"sierra_program"in(Ht(e)?Vi(e):e)}function nc(e){const t={...e};if(Rs(e.contract)&&(!e.compiledClassHash&&e.casm&&(t.compiledClassHash=Wv(e.casm)),!t.compiledClassHash))throw new Error("Extract compiledClassHash failed, provide (CairoAssembly).casm file or compiledClassHash");if(t.classHash=e.classHash??Yv(e.contract),!t.classHash)throw new Error("Extract classHash failed, provide (CompiledContract).json file or classHash");return t}function $M(e){if(Rs(e))throw Error("ContractClassResponse need to be LegacyContractClass (cairo0 response class)");const t=e;return{...t,program:nl(t.program)}}var aN={FAILED_TO_RECEIVE_TXN:1,NO_TRACE_AVAILABLE:10,CONTRACT_NOT_FOUND:20,ENTRYPOINT_NOT_FOUND:21,BLOCK_NOT_FOUND:24,INVALID_TXN_INDEX:27,CLASS_HASH_NOT_FOUND:28,TXN_HASH_NOT_FOUND:29,PAGE_SIZE_TOO_BIG:31,NO_BLOCKS:32,INVALID_CONTINUATION_TOKEN:33,TOO_MANY_KEYS_IN_FILTER:34,CONTRACT_ERROR:40,TRANSACTION_EXECUTION_ERROR:41,STORAGE_PROOF_NOT_SUPPORTED:42,CLASS_ALREADY_DECLARED:51,INVALID_TRANSACTION_NONCE:52,INSUFFICIENT_RESOURCES_FOR_VALIDATE:53,INSUFFICIENT_ACCOUNT_BALANCE:54,VALIDATION_FAILURE:55,COMPILATION_FAILED:56,CONTRACT_CLASS_SIZE_IS_TOO_LARGE:57,NON_ACCOUNT:58,DUPLICATE_TX:59,COMPILED_CLASS_HASH_MISMATCH:60,UNSUPPORTED_TX_VERSION:61,UNSUPPORTED_CONTRACT_CLASS_VERSION:62,UNEXPECTED_ERROR:63,INVALID_SUBSCRIPTION_ID:66,TOO_MANY_ADDRESSES_IN_FILTER:67,TOO_MANY_BLOCKS_BACK:68,COMPILATION_ERROR:100,INVALID_ADDRESS:150,TOKEN_NOT_SUPPORTED:151,INVALID_SIGNATURE:153,MAX_AMOUNT_TOO_LOW:154,CLASS_HASH_NOT_SUPPORTED:155,PAYMASTER_TRANSACTION_EXECUTION_ERROR:156,INVALID_TIME_BOUNDS:157,INVALID_DEPLOYMENT_DATA:158,INVALID_CLASS_HASH:159,INVALID_ID:160,UNKNOWN_ERROR:163},cN=aN;function uN(e,t=e.constructor){const{captureStackTrace:n}=Error;n&&n(e,t)}function lN(e,t){const{setPrototypeOf:n}=Object;n?n(e,t):e.__proto__=t}var dN=class extends Error{constructor(t){super(t);Z(this,"name");Object.defineProperty(this,"name",{value:new.target.name,enumerable:!1,configurable:!0}),lN(this,new.target.prototype),uN(this)}},Nn=class extends dN{},em=class extends Nn{constructor(t,n,r){super(`RPC: ${n} with params ${cr(r,null,2)}

      ${t.code}: ${t.message}: ${cr(t.data)}`);Z(this,"request");this.baseError=t,this.request={method:n,params:r}}get code(){return this.baseError.code}isType(t){return cN[t]===this.code}},fN=class extends Nn{constructor(e){super(e),this.name="TimeoutError"}},e1=class extends Nn{constructor(e){super(e),this.name="WebSocketNotConnectedError"}},hN={};Rt(hN,{ethRandomPrivateKey:()=>t1,validateAndParseEthAddress:()=>tm});function t1(){return Za(qn(c_.utils.randomPrivateKey()))}function tm(e){C_(e,Ts,2n**160n-1n,"Ethereum Address ");const t=st(Yt(Se(e)).padStart(40,"0"));return He(!!t.match(/^(0x)?[0-9a-f]{40}$/),"Invalid Ethereum Address Format"),t}var zf=typeof globalThis<"u"&&globalThis.fetch.bind(globalThis)||typeof window<"u"&&window.fetch.bind(window)||typeof globalThis<"u"&&globalThis.fetch.bind(globalThis)||(()=>{throw new Nn("'fetch()' not detected, use the 'baseFetch' constructor parameter to set it")}),pN={};Rt(pN,{Block:()=>ut,createSierraContractClass:()=>n1,extractAbi:()=>r1,getDefaultNodeUrl:()=>il,getDefaultNodes:()=>s1,getSupportedRpcVersions:()=>mN,parseContract:()=>rm,validBlockTags:()=>o1,wait:()=>rc});function ol(e){const t=e.version?Se(e.version):Sr.V3;return t===Sr.V3||t===Sr.F3}function oo(e,t){const n=e.split("."),r=t.split(".");return n.every((s,o)=>s==="*"||s===r[o])}function nm(e,t={allowAnyPatchVersion:!1}){return Object.values(Ho).some(n=>oo(t.allowAnyPatchVersion?gN(n):n,e))}function gN(e){const t=e.split(".");return t.length<3?e:`${t[0]}.${t[1]}.*`}function _N(e){const[t,n]=e.replace(/^v/,"").split(".");return`v${t}_${n}`}function UM(e){return e.status==="PENDING"}function MM(e){return!("block_hash"in e)}function zM(e){return!("block_hash"in e)}function rc(e){return new Promise(t=>{setTimeout(t,e)})}function n1(e){const t={...e};return delete t.sierra_program_debug_info,t.abi=tl(cr(e.abi)),t.sierra_program=tl(cr(e.sierra_program)),t.sierra_program=q_(t.sierra_program),t}function rm(e){const t=Ht(e)?Vi(e):e;return Rs(e)?n1(t):{...t,..."program"in t&&{program:q_(t.program)}}}function r1(e){return Ht(e.abi)?Vi(e.abi):e.abi}var il=(e,t=!1,n)=>{t||It.info("Using default public node url, please provide nodeUrl in provider options!");const s=s1(n??as.get("rpcVersion"))[e??Ka.SN_SEPOLIA],o=Math.floor(Math.random()*s.length);return s[o]};function s1(e){const t={...uv};return Object.keys(t).forEach(function(n,r){t[n]=t[n].map(s=>`${s}${_N(e)}`)}),t}function mN(){return[...new Set(Object.values(Ho))]}var o1=Object.values(jo),ut=class{constructor(e){Z(this,"hash",null);Z(this,"number",null);Z(this,"tag",null);Z(this,"valueOf",()=>this.number);Z(this,"toString",()=>this.hash);this.setIdentifier(e)}setIdentifier(e){if(Ht(e))if(N_(e))this.number=parseInt(e,10);else if(Qn(e))this.hash=e;else if(o1.includes(e))this.tag=e;else throw TypeError(`Block identifier unmanaged: ${e}`);else Ss(e)?this.hash=Se(e):xs(e)?this.number=e:this.tag=jo.LATEST;if(xs(this.number)&&this.number<0)throw TypeError(`Block number (${this.number}) can't be negative`)}get queryIdentifier(){return this.number!==null?`blockNumber=${this.number}`:this.hash!==null?`blockHash=${this.hash}`:`blockNumber=${this.tag}`}get identifier(){return this.number!==null?{block_number:this.number}:this.hash!==null?{block_hash:this.hash}:this.tag}set identifier(e){this.setIdentifier(e)}},yN={};Rt(yN,{fromCallsToExecuteCalldata:()=>a1,fromCallsToExecuteCalldata_cairo1:()=>c1,getCompiledCalldata:()=>sc,getExecuteCalldata:()=>oc,getVersionsByType:()=>sm,transformCallsToMulticallArrays:()=>i1});function sc(e,t){return Array.isArray(e)&&"__compiled__"in e?e:Array.isArray(e)&&Array.isArray(e[0])&&"__compiled__"in e[0]?e[0]:t()}var i1=e=>{const t=[],n=[];return e.forEach(r=>{const s=it.compile(r.calldata||[]);t.push({to:An(r.contractAddress).toString(10),selector:An(on(r.entrypoint)).toString(10),data_offset:n.length.toString(),data_len:s.length.toString()}),n.push(...s)}),{callArray:t,calldata:it.compile({calldata:n})}},a1=e=>{const{callArray:t,calldata:n}=i1(e);return[...it.compile({callArray:t}),...n]},c1=e=>{const t=e.map(n=>({contractAddress:n.contractAddress,entrypoint:n.entrypoint,calldata:Array.isArray(n.calldata)&&"__compiled__"in n.calldata?n.calldata:it.compile(n.calldata)}));return it.compile({orderCalls:t})},oc=(e,t="0")=>t==="1"?c1(e):a1(e);function sm(e){return e==="fee"?{v3:Sr.F3}:{v3:Sr.V3}}var om={headers:{"Content-Type":"application/json"},blockIdentifier:jo.LATEST,retries:200},bN=class{constructor(e){Z(this,"id","RPC081");Z(this,"channelSpecVersion",Ho.v0_8_1);Z(this,"nodeUrl");Z(this,"headers");Z(this,"requestId");Z(this,"blockIdentifier");Z(this,"retries");Z(this,"waitMode");Z(this,"chainId");Z(this,"specVersion");Z(this,"transactionRetryIntervalFallback");Z(this,"batchClient");Z(this,"baseFetch");const{baseFetch:t,batch:n,blockIdentifier:r,chainId:s,headers:o,nodeUrl:i,retries:c,specVersion:d,transactionRetryIntervalFallback:f,waitMode:g}=e||{};Object.values(Ka).includes(i)?this.nodeUrl=il(i,e?.default,this.channelSpecVersion):i?this.nodeUrl=i:this.nodeUrl=il(void 0,e?.default,this.channelSpecVersion),this.baseFetch=t||as.get("fetch")||zf,this.blockIdentifier=r??om.blockIdentifier,this.chainId=s,this.headers={...om.headers,...o},this.retries=c??om.retries,this.specVersion=d,this.transactionRetryIntervalFallback=f,this.waitMode=g??!1,this.requestId=0,xs(n)&&(this.batchClient=new gv({nodeUrl:this.nodeUrl,headers:this.headers,interval:n,baseFetch:this.baseFetch,rpcMethods:{}})),It.debug("Using Channel",this.id)}readSpecVersion(){return this.specVersion}get transactionRetryIntervalDefault(){return this.transactionRetryIntervalFallback??5e3}setChainId(e){this.chainId=e}fetch(e,t,n=0){const r={id:n,jsonrpc:"2.0",method:e,...t&&{params:t}};return this.baseFetch(this.nodeUrl,{method:"POST",body:cr(r),headers:this.headers})}errorHandler(e,t,n,r){if(n)throw new em(n,e,t);if(r instanceof Nn)throw r;if(r)throw Error(r.message)}async fetchEndpoint(e,t){try{if(this.batchClient){const{error:o,result:i}=await this.batchClient.fetch(e,t,this.requestId+=1);return this.errorHandler(e,t,o),i}const n=await this.fetch(e,t,this.requestId+=1),{error:r,result:s}=await n.json();return this.errorHandler(e,t,r),s}catch(n){throw this.errorHandler(e,t,n?.response?.data,n),n}}async getChainId(){return this.chainId??(this.chainId=await this.fetchEndpoint("starknet_chainId")),this.chainId}getSpecVersion(){return this.fetchEndpoint("starknet_specVersion")}async setUpSpecVersion(){if(!this.specVersion){const e=await this.fetchEndpoint("starknet_specVersion");if(oo(this.channelSpecVersion,e)||It.error(ar.channelVersionMismatch,{channelId:this.id,channelSpecVersion:this.channelSpecVersion,nodeSpecVersion:this.specVersion}),!nm(e))throw new Nn(`${ar.unsupportedSpecVersion}, channelId: ${this.id}`);this.specVersion=e}return this.specVersion}getMessagesStatus(e){const t=Se(e);return this.fetchEndpoint("starknet_getMessagesStatus",{transaction_hash:t})}getStorageProof(e=[],t=[],n=[],r=this.blockIdentifier){const s=new ut(r).identifier,o=Zi(e),i=Zi(t);return this.fetchEndpoint("starknet_getStorageProof",{block_id:s,class_hashes:o,contract_addresses:i,contracts_storage_keys:n})}getCompiledCasm(e){const t=Se(e);return this.fetchEndpoint("starknet_getCompiledCasm",{class_hash:t})}getNonceForAddress(e,t=this.blockIdentifier){const n=Se(e),r=new ut(t).identifier;return this.fetchEndpoint("starknet_getNonce",{contract_address:n,block_id:r})}getBlockLatestAccepted(){return this.fetchEndpoint("starknet_blockHashAndNumber")}getBlockNumber(){return this.fetchEndpoint("starknet_blockNumber")}getBlockWithTxHashes(e=this.blockIdentifier){const t=new ut(e).identifier;return this.fetchEndpoint("starknet_getBlockWithTxHashes",{block_id:t})}getBlockWithTxs(e=this.blockIdentifier){const t=new ut(e).identifier;return this.fetchEndpoint("starknet_getBlockWithTxs",{block_id:t})}getBlockWithReceipts(e=this.blockIdentifier){const t=new ut(e).identifier;return this.fetchEndpoint("starknet_getBlockWithReceipts",{block_id:t})}getBlockStateUpdate(e=this.blockIdentifier){const t=new ut(e).identifier;return this.fetchEndpoint("starknet_getStateUpdate",{block_id:t})}getBlockTransactionsTraces(e=this.blockIdentifier){const t=new ut(e).identifier;return this.fetchEndpoint("starknet_traceBlockTransactions",{block_id:t})}getBlockTransactionCount(e=this.blockIdentifier){const t=new ut(e).identifier;return this.fetchEndpoint("starknet_getBlockTransactionCount",{block_id:t})}getTransactionByHash(e){const t=Se(e);return this.fetchEndpoint("starknet_getTransactionByHash",{transaction_hash:t})}getTransactionByBlockIdAndIndex(e,t){const n=new ut(e).identifier;return this.fetchEndpoint("starknet_getTransactionByBlockIdAndIndex",{block_id:n,index:t})}getTransactionReceipt(e){const t=Se(e);return this.fetchEndpoint("starknet_getTransactionReceipt",{transaction_hash:t})}getTransactionTrace(e){const t=Se(e);return this.fetchEndpoint("starknet_traceTransaction",{transaction_hash:t})}getTransactionStatus(e){const t=Se(e);return this.fetchEndpoint("starknet_getTransactionStatus",{transaction_hash:t})}simulateTransaction(e,t={}){const{blockIdentifier:n=this.blockIdentifier,skipValidate:r=!0,skipFeeCharge:s=!0}=t,o=new ut(n).identifier,i=[];return r&&i.push(mr.SKIP_VALIDATE),s&&i.push(mr.SKIP_FEE_CHARGE),this.fetchEndpoint("starknet_simulateTransactions",{block_id:o,transactions:e.map(c=>this.buildTransaction(c)),simulation_flags:i})}async waitForTransaction(e,t){const n=Se(e);let{retries:r}=this,s=!1,o=!1;const i=t?.retryInterval??this.transactionRetryIntervalDefault,c=t?.errorStates??[Un.REJECTED],d=t?.successStates??[Un.ACCEPTED_ON_L2,Un.ACCEPTED_ON_L1];let f;for(;!s;){await rc(i);try{f=await this.getTransactionStatus(n);const _=f.execution_status,y=f.finality_status;if(!y)throw new Error("waiting for transaction status");if(c.includes(_)||c.includes(y)){const b=`${_}: ${y}`,k=new Error(b);throw k.response=f,o=!0,k}else(d.includes(_)||d.includes(y))&&(s=!0)}catch(_){if(_ instanceof Error&&o)throw _;if(r<=0)throw new Error(`waitForTransaction timed-out with retries ${this.retries}`)}r-=1}let g=null;for(;g===null;){try{g=await this.getTransactionReceipt(n)}catch{if(r<=0)throw new Error(`waitForTransaction timed-out with retries ${this.retries}`)}r-=1,await rc(i)}return g}getStorageAt(e,t,n=this.blockIdentifier){const r=Se(e),s=S_(t),o=new ut(n).identifier;return this.fetchEndpoint("starknet_getStorageAt",{contract_address:r,key:s,block_id:o})}getClassHashAt(e,t=this.blockIdentifier){const n=Se(e),r=new ut(t).identifier;return this.fetchEndpoint("starknet_getClassHashAt",{block_id:r,contract_address:n})}getClass(e,t=this.blockIdentifier){const n=Se(e),r=new ut(t).identifier;return this.fetchEndpoint("starknet_getClass",{class_hash:n,block_id:r})}getClassAt(e,t=this.blockIdentifier){const n=Se(e),r=new ut(t).identifier;return this.fetchEndpoint("starknet_getClassAt",{block_id:r,contract_address:n})}async getEstimateFee(e,{blockIdentifier:t=this.blockIdentifier,skipValidate:n=!0}={}){const r=new ut(t).identifier,s={simulation_flags:n?[mr.SKIP_VALIDATE]:[]};return this.fetchEndpoint("starknet_estimateFee",{request:e.map(o=>this.buildTransaction(o,"fee")),block_id:r,...s})}async invoke(e,t){let n;if(ol(t))if(Wa(t.resourceBounds))n=this.fetchEndpoint("starknet_addInvokeTransaction",{invoke_transaction:{type:$n.INVOKE,sender_address:e.contractAddress,calldata:it.toHex(e.calldata),version:mt.V3,signature:Os(e.signature),nonce:Se(t.nonce),resource_bounds:tc(t.resourceBounds),tip:Se(t.tip),paymaster_data:t.paymasterData.map(r=>Se(r)),account_deployment_data:t.accountDeploymentData.map(r=>Se(r)),nonce_data_availability_mode:t.nonceDataAvailabilityMode,fee_data_availability_mode:t.feeDataAvailabilityMode}});else throw Error(ar.SWOldV3);else throw Error(ar.legacyTxRPC08Message);return this.waitMode?this.waitForTransaction((await n).transaction_hash):n}async declare({contract:e,signature:t,senderAddress:n,compiledClassHash:r},s){let o;if(Rs(e)&&ol(s))if(Wa(s.resourceBounds))o=this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:$n.DECLARE,sender_address:n,compiled_class_hash:r||"",version:mt.V3,signature:Os(t),nonce:Se(s.nonce),contract_class:{sierra_program:nl(e.sierra_program),contract_class_version:e.contract_class_version,entry_points_by_type:e.entry_points_by_type,abi:e.abi},resource_bounds:tc(s.resourceBounds),tip:Se(s.tip),paymaster_data:s.paymasterData.map(i=>Se(i)),account_deployment_data:s.accountDeploymentData.map(i=>Se(i)),nonce_data_availability_mode:s.nonceDataAvailabilityMode,fee_data_availability_mode:s.feeDataAvailabilityMode}});else throw Error(ar.SWOldV3);else throw Error(ar.legacyTxRPC08Message);return this.waitMode?this.waitForTransaction((await o).transaction_hash):o}async deployAccount({classHash:e,constructorCalldata:t,addressSalt:n,signature:r},s){let o;if(ol(s))if(Wa(s.resourceBounds))o=this.fetchEndpoint("starknet_addDeployAccountTransaction",{deploy_account_transaction:{type:$n.DEPLOY_ACCOUNT,version:mt.V3,signature:Os(r),nonce:Se(s.nonce),contract_address_salt:Se(n||0),constructor_calldata:it.toHex(t||[]),class_hash:Se(e),resource_bounds:tc(s.resourceBounds),tip:Se(s.tip),paymaster_data:s.paymasterData.map(i=>Se(i)),nonce_data_availability_mode:s.nonceDataAvailabilityMode,fee_data_availability_mode:s.feeDataAvailabilityMode}});else throw Error(ar.SWOldV3);else throw Error(ar.legacyTxRPC08Message);return this.waitMode?this.waitForTransaction((await o).transaction_hash):o}callContract(e,t=this.blockIdentifier){const n=new ut(t).identifier;return this.fetchEndpoint("starknet_call",{request:{contract_address:e.contractAddress,entry_point_selector:on(e.entrypoint),calldata:it.toHex(e.calldata)},block_id:n})}estimateMessageFee(e,t=this.blockIdentifier){const{from_address:n,to_address:r,entry_point_selector:s,payload:o}=e,i={from_address:tm(n),to_address:Se(r),entry_point_selector:Wi(s),payload:I_(o)},c=new ut(t).identifier;return this.fetchEndpoint("starknet_estimateMessageFee",{message:i,block_id:c})}getSyncingStats(){return this.fetchEndpoint("starknet_syncing")}getEvents(e){return this.fetchEndpoint("starknet_getEvents",{filter:e})}buildTransaction(e,t){const n=sm(t);let r;if(ol(e))r={signature:Os(e.signature),nonce:Se(e.nonce),resource_bounds:tc(e.resourceBounds),tip:Se(e.tip),paymaster_data:e.paymasterData.map(s=>Se(s)),nonce_data_availability_mode:e.nonceDataAvailabilityMode,fee_data_availability_mode:e.feeDataAvailabilityMode,account_deployment_data:e.accountDeploymentData.map(s=>Se(s))};else throw Error("v0,v1,v2 tx are not supported on RPC 0.8");if(e.type===$n.INVOKE)return{type:$n.INVOKE,sender_address:e.contractAddress,calldata:it.toHex(e.calldata),version:Se(e.version||n.v3),...r};if(e.type===$n.DECLARE){if(!Rs(e.contract))throw It.error("Cairo 0 -  non Sierra v1 tx are not supported"),Error("Declaring non Sierra contract using RPC 0.8");return{type:e.type,contract_class:{...e.contract,sierra_program:nl(e.contract.sierra_program)},compiled_class_hash:e.compiledClassHash||"",sender_address:e.senderAddress,version:Se(e.version||n.v3),...r}}if(e.type===$n.DEPLOY_ACCOUNT){const{account_deployment_data:s,...o}=r;return{type:e.type,constructor_calldata:it.toHex(e.constructorCalldata||[]),class_hash:Se(e.classHash),contract_address_salt:Se(e.addressSalt||0),version:Se(e.version||n.v3),...o}}throw Error("RPC buildTransaction received unknown TransactionType")}},al={};Rt(al,{RpcChannel:()=>wN});var im={headers:{"Content-Type":"application/json"},blockIdentifier:jo.LATEST,retries:200},wN=class{constructor(e){Z(this,"id","RPC090");Z(this,"channelSpecVersion",Ho.v0_9_0);Z(this,"nodeUrl");Z(this,"headers");Z(this,"requestId");Z(this,"blockIdentifier");Z(this,"retries");Z(this,"waitMode");Z(this,"chainId");Z(this,"specVersion");Z(this,"transactionRetryIntervalFallback");Z(this,"batchClient");Z(this,"baseFetch");const{baseFetch:t,batch:n,blockIdentifier:r,chainId:s,headers:o,nodeUrl:i,retries:c,specVersion:d,transactionRetryIntervalFallback:f,waitMode:g}=e||{};Object.values(Ka).includes(i)?this.nodeUrl=il(i,e?.default,this.channelSpecVersion):i?this.nodeUrl=i:this.nodeUrl=il(void 0,e?.default,this.channelSpecVersion),this.baseFetch=t||as.get("fetch")||zf,this.blockIdentifier=r??im.blockIdentifier,this.chainId=s,this.headers={...im.headers,...o},this.retries=c??im.retries,this.specVersion=d,this.transactionRetryIntervalFallback=f,this.waitMode=g??!1,this.requestId=0,xs(n)&&(this.batchClient=new gv({nodeUrl:this.nodeUrl,headers:this.headers,interval:n,baseFetch:this.baseFetch,rpcMethods:{}})),It.debug("Using Channel",this.id)}readSpecVersion(){return this.specVersion}get transactionRetryIntervalDefault(){return this.transactionRetryIntervalFallback??5e3}setChainId(e){this.chainId=e}fetch(e,t,n=0){const r={id:n,jsonrpc:"2.0",method:e,...t&&{params:t}};return this.baseFetch(this.nodeUrl,{method:"POST",body:cr(r),headers:this.headers})}errorHandler(e,t,n,r){if(n)throw new em(n,e,t);if(r instanceof Nn)throw r;if(r)throw Error(r.message)}async fetchEndpoint(e,t){try{if(this.batchClient){const{error:o,result:i}=await this.batchClient.fetch(e,t,this.requestId+=1);return this.errorHandler(e,t,o),i}const n=await this.fetch(e,t,this.requestId+=1),{error:r,result:s}=await n.json();return this.errorHandler(e,t,r),s}catch(n){throw this.errorHandler(e,t,n?.response?.data,n),n}}async getChainId(){return this.chainId??(this.chainId=await this.fetchEndpoint("starknet_chainId")),this.chainId}getSpecVersion(){return this.fetchEndpoint("starknet_specVersion")}async setUpSpecVersion(){if(!this.specVersion){const e=await this.fetchEndpoint("starknet_specVersion");if(oo(this.channelSpecVersion,e)||It.error(ar.channelVersionMismatch,{channelId:this.id,channelSpecVersion:this.channelSpecVersion,nodeSpecVersion:this.specVersion}),!nm(e))throw new Nn(`${ar.unsupportedSpecVersion}, channelId: ${this.id}`);this.specVersion=e}return this.specVersion}getMessagesStatus(e){const t=Se(e);return this.fetchEndpoint("starknet_getMessagesStatus",{transaction_hash:t})}getStorageProof(e=[],t=[],n=[],r=this.blockIdentifier){const s=new ut(r).identifier,o=Zi(e),i=Zi(t);return this.fetchEndpoint("starknet_getStorageProof",{block_id:s,class_hashes:o,contract_addresses:i,contracts_storage_keys:n})}getCompiledCasm(e){const t=Se(e);return this.fetchEndpoint("starknet_getCompiledCasm",{class_hash:t})}getNonceForAddress(e,t=this.blockIdentifier){const n=Se(e),r=new ut(t).identifier;return this.fetchEndpoint("starknet_getNonce",{contract_address:n,block_id:r})}getBlockLatestAccepted(){return this.fetchEndpoint("starknet_blockHashAndNumber")}getBlockNumber(){return this.fetchEndpoint("starknet_blockNumber")}getBlockWithTxHashes(e=this.blockIdentifier){const t=new ut(e).identifier;return this.fetchEndpoint("starknet_getBlockWithTxHashes",{block_id:t})}getBlockWithTxs(e=this.blockIdentifier){const t=new ut(e).identifier;return this.fetchEndpoint("starknet_getBlockWithTxs",{block_id:t})}getBlockWithReceipts(e=this.blockIdentifier){const t=new ut(e).identifier;return this.fetchEndpoint("starknet_getBlockWithReceipts",{block_id:t})}getBlockStateUpdate(e=this.blockIdentifier){const t=new ut(e).identifier;return this.fetchEndpoint("starknet_getStateUpdate",{block_id:t})}getBlockTransactionsTraces(e=this.blockIdentifier){const t=new ut(e).identifier;return this.fetchEndpoint("starknet_traceBlockTransactions",{block_id:t})}getBlockTransactionCount(e=this.blockIdentifier){const t=new ut(e).identifier;return this.fetchEndpoint("starknet_getBlockTransactionCount",{block_id:t})}getTransactionByHash(e){const t=Se(e);return this.fetchEndpoint("starknet_getTransactionByHash",{transaction_hash:t})}getTransactionByBlockIdAndIndex(e,t){const n=new ut(e).identifier;return this.fetchEndpoint("starknet_getTransactionByBlockIdAndIndex",{block_id:n,index:t})}getTransactionReceipt(e){const t=Se(e);return this.fetchEndpoint("starknet_getTransactionReceipt",{transaction_hash:t})}getTransactionTrace(e){const t=Se(e);return this.fetchEndpoint("starknet_traceTransaction",{transaction_hash:t})}getTransactionStatus(e){const t=Se(e);return this.fetchEndpoint("starknet_getTransactionStatus",{transaction_hash:t})}simulateTransaction(e,t={}){const{blockIdentifier:n=this.blockIdentifier,skipValidate:r=!0,skipFeeCharge:s=!0}=t,o=new ut(n).identifier,i=[];return r&&i.push(bo.SKIP_VALIDATE),s&&i.push(bo.SKIP_FEE_CHARGE),this.fetchEndpoint("starknet_simulateTransactions",{block_id:o,transactions:e.map(c=>this.buildTransaction(c)),simulation_flags:i})}async waitForTransaction(e,t){const n=Se(e);let{retries:r}=this,s=!1,o=!1;const i=t?.retryInterval??this.transactionRetryIntervalDefault,c=t?.errorStates??[],d=t?.successStates??[ma.ACCEPTED_ON_L2,ma.ACCEPTED_ON_L1];let f;for(;!s;){await rc(i);try{f=await this.getTransactionStatus(n);const _=f.execution_status,y=f.finality_status;if(!y)throw new Error("waiting for transaction status");if(c.includes(_)||c.includes(y)){const b=`${_}: ${y}`,k=new Error(b);throw k.response=f,o=!0,k}else(d.includes(_)||d.includes(y))&&(s=!0)}catch(_){if(_ instanceof Error&&o)throw _;if(r<=0)throw new Error(`waitForTransaction timed-out with retries ${this.retries}`)}r-=1}let g=null;for(;g===null;){try{g=await this.getTransactionReceipt(n)}catch{if(r<=0)throw new Error(`waitForTransaction timed-out with retries ${this.retries}`)}r-=1,await rc(i)}return g}getStorageAt(e,t,n=this.blockIdentifier){const r=Se(e),s=S_(t),o=new ut(n).identifier;return this.fetchEndpoint("starknet_getStorageAt",{contract_address:r,key:s,block_id:o})}getClassHashAt(e,t=this.blockIdentifier){const n=Se(e),r=new ut(t).identifier;return this.fetchEndpoint("starknet_getClassHashAt",{block_id:r,contract_address:n})}getClass(e,t=this.blockIdentifier){const n=Se(e),r=new ut(t).identifier;return this.fetchEndpoint("starknet_getClass",{class_hash:n,block_id:r})}getClassAt(e,t=this.blockIdentifier){const n=Se(e),r=new ut(t).identifier;return this.fetchEndpoint("starknet_getClassAt",{block_id:r,contract_address:n})}async getEstimateFee(e,{blockIdentifier:t=this.blockIdentifier,skipValidate:n=!0}={}){const r=new ut(t).identifier,s={simulation_flags:n?[bo.SKIP_VALIDATE]:[]};return this.fetchEndpoint("starknet_estimateFee",{request:e.map(o=>this.buildTransaction(o,"fee")),block_id:r,...s})}async invoke(e,t){const n=this.buildTransaction({type:Fe.ETransactionType.INVOKE,...e,...t},"transaction"),r=this.fetchEndpoint("starknet_addInvokeTransaction",{invoke_transaction:n});return this.waitMode?this.waitForTransaction((await r).transaction_hash):r}async declare(e,t){const n=this.buildTransaction({type:Fe.ETransactionType.DECLARE,...e,...t},"transaction"),r=this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:n});return this.waitMode?this.waitForTransaction((await r).transaction_hash):r}async deployAccount(e,t){const n=this.buildTransaction({type:Fe.ETransactionType.DEPLOY_ACCOUNT,...e,...t},"transaction"),r=this.fetchEndpoint("starknet_addDeployAccountTransaction",{deploy_account_transaction:n});return this.waitMode?this.waitForTransaction((await r).transaction_hash):r}callContract(e,t=this.blockIdentifier){const n=new ut(t).identifier;return this.fetchEndpoint("starknet_call",{request:{contract_address:e.contractAddress,entry_point_selector:on(e.entrypoint),calldata:it.toHex(e.calldata)},block_id:n})}estimateMessageFee(e,t=this.blockIdentifier){const{from_address:n,to_address:r,entry_point_selector:s,payload:o}=e,i={from_address:tm(n),to_address:Se(r),entry_point_selector:Wi(s),payload:I_(o)},c=new ut(t).identifier;return this.fetchEndpoint("starknet_estimateMessageFee",{message:i,block_id:c})}getSyncingStats(){return this.fetchEndpoint("starknet_syncing")}getEvents(e){return this.fetchEndpoint("starknet_getEvents",{filter:e})}buildTransaction(e,t){const n=sm(t);He(ol(e),ar.legacyTxRPC08Message),He(t!=="transaction"||Wa(e.resourceBounds),ar.SWOldV3);const r={signature:Os(e.signature),nonce:Se(e.nonce),resource_bounds:tc(e.resourceBounds),tip:Se(e.tip),paymaster_data:e.paymasterData.map(s=>Se(s)),nonce_data_availability_mode:e.nonceDataAvailabilityMode,fee_data_availability_mode:e.feeDataAvailabilityMode,account_deployment_data:e.accountDeploymentData.map(s=>Se(s)),version:sl(n.v3,e.version)};if(e.type===Fe.ETransactionType.INVOKE)return{type:_a.INVOKE,sender_address:e.contractAddress,calldata:it.toHex(e.calldata),...r};if(e.type===Fe.ETransactionType.DECLARE)return He(Rs(e.contract),"Declaring non Sierra contract using RPC 0.9"),{type:e.type,contract_class:{...e.contract,sierra_program:nl(e.contract.sierra_program)},compiled_class_hash:e.compiledClassHash||"",sender_address:e.senderAddress,...r};if(e.type===Fe.ETransactionType.DEPLOY_ACCOUNT){const{account_deployment_data:s,...o}=r;return{type:e.type,constructor_calldata:it.toHex(e.constructorCalldata||[]),class_hash:Se(e.classHash),contract_address_salt:Se(e.addressSalt||0),...o}}throw Error("RPC buildTransaction received unknown TransactionType")}},u1=class{constructor(){Z(this,"listeners",{})}on(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)}off(e,t){this.listeners[e]&&(this.listeners[e]=this.listeners[e].filter(n=>n!==t))}emit(e,t){this.listeners[e]&&this.listeners[e].forEach(n=>n(t))}clear(){this.listeners={}}},cl=typeof WebSocket<"u"&&WebSocket||typeof globalThis<"u"&&globalThis.WebSocket||typeof window<"u"&&window.WebSocket&&window.WebSocket.bind(window)||typeof globalThis<"u"&&globalThis.WebSocket||class{constructor(){throw new Nn("WebSocket module not detected, use the 'websocket' constructor parameter to set a compatible connection")}},Ff=class{constructor(e){Z(this,"channel");Z(this,"method");Z(this,"params");Z(this,"id");Z(this,"events",new u1);Z(this,"buffer",[]);Z(this,"maxBufferSize");Z(this,"handler",null);Z(this,"_isClosed",!1);this.channel=e.channel,this.method=e.method,this.params=e.params??{},this.id=e.id,this.maxBufferSize=e.maxBufferSize}get isClosed(){return this._isClosed}_handleEvent(e){if(this.handler)this.handler(e);else{if(this.buffer.length>=this.maxBufferSize){const t=this.buffer.shift();It.warn(`Subscription ${this.id}: Buffer full. Dropping oldest event:`,t)}this.buffer.push(e)}}on(e){if(this.handler)throw new Error("A handler is already attached to this subscription.");for(this.handler=e;this.buffer.length>0;){const t=this.buffer.shift();t&&this.handler(t)}}async unsubscribe(){if(this._isClosed)return!0;const e=await this.channel.unsubscribe(this.id);return e&&(this._isClosed=!0,this.channel.removeSubscription(this.id),this.events.emit("unsubscribe",void 0),this.events.clear()),e}},FM=class{constructor(e){Z(this,"nodeUrl");Z(this,"websocket");Z(this,"WsImplementation");Z(this,"activeSubscriptions",new Map);Z(this,"maxBufferSize");Z(this,"autoReconnect");Z(this,"reconnectOptions");Z(this,"requestTimeout");Z(this,"isReconnecting",!1);Z(this,"reconnectAttempts",0);Z(this,"userInitiatedClose",!1);Z(this,"reconnectTimeoutId",null);Z(this,"requestQueue",[]);Z(this,"events",new u1);Z(this,"openListener",e=>this.events.emit("open",e));Z(this,"closeListener",this.onCloseProxy.bind(this));Z(this,"messageListener",this.onMessageProxy.bind(this));Z(this,"errorListener",e=>this.events.emit("error",e));Z(this,"sendId",0);this.nodeUrl=e.nodeUrl,this.maxBufferSize=e.maxBufferSize??1e3,this.autoReconnect=e.autoReconnect??!0,this.reconnectOptions={retries:e.reconnectOptions?.retries??5,delay:e.reconnectOptions?.delay??2e3},this.requestTimeout=e.requestTimeout??6e4,this.WsImplementation=e.websocket||as.get("websocket")||cl,this.websocket=new this.WsImplementation(this.nodeUrl),this.websocket.addEventListener("open",this.openListener),this.websocket.addEventListener("close",this.closeListener),this.websocket.addEventListener("message",this.messageListener),this.websocket.addEventListener("error",this.errorListener)}idResolver(e){return e||this.sendId++}send(e,t,n){if(!this.isConnected())throw new e1("WebSocketChannel.send() failed due to socket being disconnected");const r=this.idResolver(n),s={id:r,jsonrpc:"2.0",method:e,...t&&{params:t}};return this.websocket.send(cr(s)),r}sendReceive(e,t){if(this.isReconnecting||!this.isConnected()&&this.autoReconnect&&!this.userInitiatedClose)return It.info(`WebSocket: Connection unavailable, queueing request: ${e}`),new Promise((r,s)=>{this.requestQueue.push({method:e,params:t,resolve:r,reject:s})});const n=this.send(e,t);return new Promise((r,s)=>{let o;if(!this.websocket||this.websocket.readyState!==cl.OPEN){s(new e1("WebSocket not available or not connected."));return}const i=d=>{if(!Ht(d.data)){It.warn("WebSocket received non-string message data:",d.data);return}const f=JSON.parse(d.data);f.id===n&&(clearTimeout(o),this.websocket.removeEventListener("message",i),this.websocket.removeEventListener("error",c),"result"in f?r(f.result):s(new Error(`Error on ${e} (id: ${n}): ${JSON.stringify(f.error)}`)))},c=d=>{clearTimeout(o),this.websocket.removeEventListener("message",i),this.websocket.removeEventListener("error",c),s(new Error(`WebSocket error during ${e} (id: ${n}): ${d.type||"Unknown error"}`))};this.websocket.addEventListener("message",i),this.websocket.addEventListener("error",c),o=setTimeout(()=>{this.websocket.removeEventListener("message",i),this.websocket.removeEventListener("error",c),s(new fN(`Request ${e} (id: ${n}) timed out after ${this.requestTimeout}ms`))},this.requestTimeout)})}isConnected(){return this.websocket.readyState===cl.OPEN}async waitForConnection(){return this.websocket.readyState!==cl.OPEN?new Promise((e,t)=>{this.websocket&&(this.websocket.onopen=()=>e(this.websocket.readyState),this.websocket.onerror=n=>t(n))}):this.websocket.readyState}disconnect(e,t){this.reconnectTimeoutId&&(clearTimeout(this.reconnectTimeoutId),this.reconnectTimeoutId=null),this.websocket.close(e,t),this.userInitiatedClose=!0}async waitForDisconnection(){return this.websocket.readyState!==cl.CLOSED?new Promise((e,t)=>{this.websocket&&(this.websocket.onclose=()=>e(this.websocket.readyState),this.websocket.onerror=t)}):this.websocket.readyState}async unsubscribe(e){const t=await this.sendReceive("starknet_unsubscribe",{subscription_id:e});return t&&this.events.emit("unsubscribe",e),t}waitForUnsubscription(e){return new Promise(t=>{const n=r=>{r===e&&(this.events.off("unsubscribe",n),t())};this.events.on("unsubscribe",n)})}reconnect(){this.userInitiatedClose=!1,this.websocket=new this.WsImplementation(this.nodeUrl),this.websocket.addEventListener("open",this.openListener),this.websocket.addEventListener("close",this.closeListener),this.websocket.addEventListener("message",this.messageListener),this.websocket.addEventListener("error",this.errorListener)}_processRequestQueue(){for(It.info(`WebSocket: Processing ${this.requestQueue.length} queued requests.`);this.requestQueue.length>0;){const{method:e,params:t,resolve:n,reject:r}=this.requestQueue.shift();this.sendReceive(e,t).then(n).catch(r)}}async _restoreSubscriptions(){const e=Array.from(this.activeSubscriptions.values());this.activeSubscriptions.clear();const t=e.map(async n=>{try{const r=await this.sendReceive(n.method,n.params);n.id=r,this.activeSubscriptions.set(r,n),It.info(`Subscription ${n.method} restored with new ID: ${r}`)}catch(r){It.error(`Failed to restore subscription ${n.method}:`,r)}});await Promise.all(t)}_startReconnect(){if(this.isReconnecting||!this.autoReconnect)return;this.isReconnecting=!0,this.reconnectAttempts=0;const e=()=>{if(this.reconnectAttempts>=this.reconnectOptions.retries){It.error("WebSocket: Maximum reconnection retries reached. Giving up."),this.isReconnecting=!1;return}this.reconnectAttempts+=1,It.info(`WebSocket: Connection lost. Attempting to reconnect... (${this.reconnectAttempts}/${this.reconnectOptions.retries})`),this.reconnect(),this.websocket.onopen=async()=>{It.info("WebSocket: Reconnection successful."),this.isReconnecting=!1,this.reconnectAttempts=0,await this._restoreSubscriptions(),this._processRequestQueue(),this.events.emit("open",new Event("open"))},this.websocket.onerror=()=>{const t=this.reconnectOptions.delay*2**(this.reconnectAttempts-1);It.info(`WebSocket: Reconnect attempt failed. Retrying in ${t}ms.`),this.reconnectTimeoutId=setTimeout(e,t)}};e()}onCloseProxy(e){this.websocket.removeEventListener("open",this.openListener),this.websocket.removeEventListener("close",this.closeListener),this.websocket.removeEventListener("message",this.messageListener),this.websocket.removeEventListener("error",this.errorListener),this.events.emit("close",e),this.userInitiatedClose||this._startReconnect()}onMessageProxy(e){let t;try{t=JSON.parse(e.data)}catch(n){It.error(`WebSocketChannel: Error parsing incoming message: ${e.data}, Error: ${n}`);return}if(t.method&&Jn(t.params)&&"subscription_id"in t.params){const{result:n,subscription_id:r}=t.params,s=this.activeSubscriptions.get(r);s?s._handleEvent(n):It.warn(`WebSocketChannel: Received event for untracked subscription ID: ${r}.`)}It.debug("onMessageProxy:",e.data),this.events.emit("message",e)}async subscribeNewHeads(e){const t="starknet_subscribeNewHeads",n={block_id:e?new ut(e).identifier:void 0},r=await this.sendReceive(t,n),s=new Ff({channel:this,method:t,params:n,id:r,maxBufferSize:this.maxBufferSize});return this.activeSubscriptions.set(r,s),s}async subscribeEvents(e,t,n){const r="starknet_subscribeEvents",s={from_address:e!==void 0?Se(e):void 0,keys:t,block_id:n?new ut(n).identifier:void 0},o=await this.sendReceive(r,s),i=new Ff({channel:this,method:r,params:s,id:o,maxBufferSize:this.maxBufferSize});return this.activeSubscriptions.set(o,i),i}async subscribeTransactionStatus(e,t){const n="starknet_subscribeTransactionStatus",r={transaction_hash:Se(e),block_id:t?new ut(t).identifier:void 0},s=await this.sendReceive(n,r),o=new Ff({channel:this,method:n,params:r,id:s,maxBufferSize:this.maxBufferSize});return this.activeSubscriptions.set(s,o),o}async subscribePendingTransaction(e,t){const n="starknet_subscribePendingTransactions",r={transaction_details:e,sender_address:t&&Zi(t)},s=await this.sendReceive(n,r),o=new Ff({channel:this,method:n,params:r,id:s,maxBufferSize:this.maxBufferSize});return this.activeSubscriptions.set(s,o),o}removeSubscription(e){this.activeSubscriptions.delete(e)}on(e,t){this.events.on(e,t)}off(e,t){this.events.off(e,t)}},l1=class{constructor(e){Z(this,"resourceBoundsOverhead");this.resourceBoundsOverhead=e}parseGetBlockResponse(e){return e}parseTransactionReceipt(e){return e}parseFeeEstimateBulkResponse(e){return e.map(t=>({resourceBounds:Mf(t,this.resourceBoundsOverhead),overall_fee:Q_(t,this.resourceBoundsOverhead),unit:t.unit}))}parseSimulateTransactionResponse(e){return e.map(t=>({transaction_trace:t.transaction_trace,resourceBounds:Mf(t.fee_estimation,this.resourceBoundsOverhead),overall_fee:Q_(t.fee_estimation,this.resourceBoundsOverhead),unit:t.fee_estimation.unit}))}parseContractClassResponse(e){return{...e,abi:Ht(e.abi)?JSON.parse(e.abi):e.abi}}parseL1GasPriceResponse(e){return e.l1_gas_price.price_in_wei}};function EN(e){return e.version==="0x3"&&"tip"in e&&Ht(e.tip)&&(e.type==="INVOKE"||e.type==="DECLARE"||e.type==="DEPLOY_ACCOUNT")}function vN(e){return!!e.channel.batchClient}function d1(e,t=!0){return e.transactions.filter(EN).map(n=>BigInt(n.tip)).filter(n=>t||n>0n)}function f1(e,t){return{minTip:0n,maxTip:0n,averageTip:0n,medianTip:0n,modeTip:0n,recommendedTip:0n,p90Tip:0n,p95Tip:0n,metrics:{blocksAnalyzed:e,transactionsTipsFound:t}}}function h1(e,t){const n=t/100*(e.length-1),r=Math.floor(n),s=Math.ceil(n);if(r===s)return e[r];const o=n-r,i=e[r],f=(e[s]-i)*BigInt(Math.round(o*1e3))/1000n;return i+f}function p1(e){He(e.length>0,"Cannot calculate statistics from empty tip array");const t=e.reduce((b,k)=>k<b?k:b,Af.max),n=e.reduce((b,k)=>k>b?k:b,0n),s=e.reduce((b,k)=>b+k,0n)/BigInt(e.length),o=[...e].sort((b,k)=>b<k?-1:b>k?1:0),i=Math.floor(o.length/2);let c;o.length%2===0?c=(o[i-1]+o[i])/2n:c=o[i];const d=new Map;e.forEach(b=>{d.set(b,(d.get(b)||0)+1)});const{modeTip:f}=Array.from(d.entries()).reduce((b,[k,B])=>B>b.maxCount||B===b.maxCount&&k<b.modeTip?{maxCount:B,modeTip:k}:b,{maxCount:0,modeTip:0n}),g=h1(o,90),_=h1(o,95);return{minTip:t,maxTip:n,averageTip:s,medianTip:c,modeTip:f,recommendedTip:c,p90Tip:g,p95Tip:_}}async function g1(e,t){try{const n=await e.getBlockWithTxs(t);return xs(n.block_number)?n.block_number:(await e.getBlockLatestAccepted()).block_number}catch(n){throw new Nn(`Failed to determine starting block number: ${n instanceof Error?n.message:"Unknown error"}`)}}async function AN(e,t){try{return await e.getBlockWithTxs(t)}catch(n){return It.warn(`Failed to fetch block ${t}:`,n),null}}function _1(e,t){const n=Math.max(0,e-t+1),r=e-n+1;return Array.from({length:r},(s,o)=>e-o)}async function TN(e,t){const n=t.map(async r=>{try{return await e.getBlockWithTxs(r)}catch(s){return It.warn(`Failed to fetch block ${r} in parallel:`,s),null}});return Promise.all(n)}async function xN(e,t,n){const{maxBlocks:r=3,minTxsNecessary:s=10,includeZeroTips:o=!0}=n;try{const i=await g1(e,t),c=_1(i,r),d=await TN(e,c),f=d.filter(y=>y!==null).flatMap(y=>d1(y,o)),g=d.filter(y=>y!==null).length;return f.length<s?(It.error(`Insufficient transaction data: found ${f.length} V3 transactions with tips in ${g} blocks (block range: ${Math.max(0,i-r+1)}-${i}). Required: ${s} transactions. Consider reducing minTxsNecessary or increasing maxBlocks.`),f1(g,f)):{...p1(f),metrics:{blocksAnalyzed:g,transactionsTipsFound:f}}}catch(i){throw new Nn(`Failed to analyze tip statistics (parallel): ${i instanceof Error?i.message:"Unknown error"}`)}}async function SN(e,t,n){const{maxBlocks:r=3,minTxsNecessary:s=10,includeZeroTips:o=!0}=n;try{const i=await g1(e,t),c=_1(i,r),d=[];let f=0;for(const _ of c){const y=await AN(e,_);if(y){f+=1;const b=d1(y,o);if(d.push(...b),d.length>=s)break}}return d.length<s?(It.error(`Insufficient transaction data: found ${d.length} V3 transactions with tips in ${f} blocks (block range: ${Math.max(0,i-r+1)}-${i}). Required: ${s} transactions. Consider reducing minTxsNecessary or increasing maxBlocks.`),f1(f,d)):{...p1(d),metrics:{blocksAnalyzed:f,transactionsTipsFound:d}}}catch(i){throw new Nn(`Failed to analyze tip statistics (sequential): ${i instanceof Error?i.message:"Unknown error"}`)}}async function CN(e,t=jo.LATEST,n={}){const{maxBlocks:r=3,minTxsNecessary:s=10}=n;return He(Number.isInteger(r),"maxBlocks parameter must be an integer"),He(r>=1,"maxBlocks parameter must be greater than or equal to 1"),He(r<=100,"maxBlocks parameter must be less than or equal to 100 for performance"),He(Number.isInteger(s),"minTxsNecessary parameter must be an integer"),He(s>=1,"minTxsNecessary parameter must be greater than or equal to 1"),vN(e)?xN(e,t,n):SN(e,t,n)}var m1=class Zy{constructor(t){Z(this,"statusReceipt");Z(this,"value");[this.statusReceipt,this.value]=Zy.isSuccess(t)?["success",t]:Zy.isReverted(t)?["reverted",t]:["error",new Error("Unknown response type")];for(const[n]of Object.entries(this))Object.defineProperty(this,n,{enumerable:!1});for(const[n,r]of Object.entries(t))Object.defineProperty(this,n,{enumerable:!0,writable:!1,value:r})}match(t){return this.statusReceipt in t?t[this.statusReceipt](this.value):t._()}isSuccess(){return this.statusReceipt==="success"}isReverted(){return this.statusReceipt==="reverted"}isError(){return this.statusReceipt==="error"}static isSuccess(t){return t.execution_status===fv.SUCCEEDED}static isReverted(t){return t.execution_status===fv.REVERTED}},IN={};Rt(IN,{encodeData:()=>T1,encodeType:()=>v1,encodeValue:()=>ul,getDependencies:()=>cm,getMessageHash:()=>ea,getStructHash:()=>ll,getTypeHash:()=>A1,isMerkleTreeType:()=>E1,prepareSelector:()=>w1,validateTypedData:()=>jf,verifyMessage:()=>PN});var kN={};Rt(kN,{MerkleTree:()=>am,proofMerklePath:()=>y1});var am=class cp{constructor(t,n=Qu){Z(this,"leaves");Z(this,"branches",[]);Z(this,"root");Z(this,"hashMethod");this.hashMethod=n,this.leaves=t,this.root=this.build(t)}build(t){if(t.length===1)return t[0];t.length!==this.leaves.length&&this.branches.push(t);const n=[];for(let r=0;r<t.length;r+=2)r+1===t.length?n.push(cp.hash(t[r],"0x0",this.hashMethod)):n.push(cp.hash(t[r],t[r+1],this.hashMethod));return this.build(n)}static hash(t,n,r=Qu){const[s,o]=[BigInt(t),BigInt(n)].sort((i,c)=>i>=c?1:-1);return r(s,o)}getProof(t,n=this.leaves,r=[]){const s=n.indexOf(t);if(s===-1)throw new Error("leaf not found");if(n.length===1)return r;const o=s%2===0,i=(o?n[s+1]:n[s-1])??"0x0",c=[...r,i],d=this.leaves.length===n.length?-1:this.branches.findIndex(g=>g.length===n.length),f=this.branches[d+1]??[this.root];return this.getProof(cp.hash(o?t:i,o?i:t,this.hashMethod),f,c)}};function y1(e,t,n,r=Qu){if(n.length===0)return e===t;const[s,...o]=n;return y1(e,am.hash(t,s,r),o,r)}var ON={u256:JSON.parse('[{ "name": "low", "type": "u128" }, { "name": "high", "type": "u128" }]'),TokenAmount:JSON.parse('[{ "name": "token_address", "type": "ContractAddress" }, { "name": "amount", "type": "u256" }]'),NftId:JSON.parse('[{ "name": "collection_address", "type": "ContractAddress" }, { "name": "token_id", "type": "u256" }]')},Rr={[Fe.TypedDataRevision.ACTIVE]:{domain:"StarknetDomain",hashMethod:jv,hashMerkleMethod:Fv,escapeTypeString:e=>`"${e}"`,presetTypes:ON},[Fe.TypedDataRevision.LEGACY]:{domain:"StarkNetDomain",hashMethod:Hv,hashMerkleMethod:Qu,escapeTypeString:e=>e,presetTypes:{}}};function Hf(e,t,{min:n,max:r}){const s=BigInt(e);He(s>=n&&s<=r,`${s} (${t}) is out of bounds [${n}, ${r}]`)}function b1({types:e,domain:t}){if(Rr[Fe.TypedDataRevision.ACTIVE].domain in e&&t.revision?.toString()===Fe.TypedDataRevision.ACTIVE)return Fe.TypedDataRevision.ACTIVE;if(Rr[Fe.TypedDataRevision.LEGACY].domain in e&&(t.revision??Fe.TypedDataRevision.LEGACY)===Fe.TypedDataRevision.LEGACY)return Fe.TypedDataRevision.LEGACY}function Ps(e){try{return Se(e)}catch{if(Ht(e))return Se(pn(e));throw new Error(`Invalid BigNumberish: ${e}`)}}function jf(e){const t=e;return!!(t.message&&t.primaryType&&t.types&&b1(t))}function w1(e){return Qn(e)?e:on(e)}function E1(e){return e.type==="merkletree"}function cm(e,t,n=[],r="",s=Fe.TypedDataRevision.LEGACY){let o=[t];return t[t.length-1]==="*"?o=[t.slice(0,-1)]:s===Fe.TypedDataRevision.ACTIVE&&(t==="enum"?o=[r]:t.match(/^\(.*\)$/)&&(o=t.slice(1,-1).split(",").map(i=>i[i.length-1]==="*"?i.slice(0,-1):i))),o.filter(i=>!n.includes(i)&&e[i]).reduce((i,c)=>[...i,...[c,...e[c].reduce((d,f)=>[...d,...cm(e,f.type,d,f.contains,s).filter(g=>!d.includes(g))],[])].filter(d=>!i.includes(d))],[])}function RN(e,t){if(t.parent&&t.key){const r=e[t.parent].find(o=>o.name===t.key);if(!E1(r))throw new Error(`${t.key} is not a merkle tree`);if(r.contains.endsWith("*"))throw new Error(`Merkle tree contain property must not be an array but was given ${t.key}`);return r.contains}return"raw"}function v1(e,t,n=Fe.TypedDataRevision.LEGACY){const r=n===Fe.TypedDataRevision.ACTIVE?{...e,...Rr[n].presetTypes}:e,[s,...o]=cm(r,t,void 0,void 0,n),i=s?[s,...o.sort()]:[],c=Rr[n].escapeTypeString;return i.map(d=>{const f=r[d].map(g=>{const _=g.type==="enum"&&n===Fe.TypedDataRevision.ACTIVE?g.contains:g.type,y=_.match(/^\(.*\)$/)?`(${_.slice(1,-1).split(",").map(b=>b&&c(b)).join(",")})`:c(_);return`${c(g.name)}:${y}`});return`${c(d)}(${f})`}).join("")}function A1(e,t,n=Fe.TypedDataRevision.LEGACY){return on(v1(e,t,n))}function ul(e,t,n,r={},s=Fe.TypedDataRevision.LEGACY){if(e[t])return[t,ll(e,t,n,s)];if(Rr[s].presetTypes[t])return[t,ll(Rr[s].presetTypes,t,n,s)];if(t.endsWith("*")){const o=n.map(i=>ul(e,t.slice(0,-1),i,void 0,s)[1]);return[t,Rr[s].hashMethod(o)]}switch(t){case"enum":{if(s===Fe.TypedDataRevision.ACTIVE){const[o,i]=Object.entries(n)[0],c=e[r.parent].find(y=>y.name===r.key),d=e[c.contains],f=d.find(y=>y.name===o),g=d.indexOf(f),_=f.type.slice(1,-1).split(",").map((y,b)=>{if(!y)return y;const k=i[b];return ul(e,y,k,void 0,s)[1]});return[t,Rr[s].hashMethod([g,..._])]}return[t,Ps(n)]}case"merkletree":{const o=RN(e,r),i=n.map(d=>ul(e,o,d,void 0,s)[1]),{root:c}=new am(i,Rr[s].hashMerkleMethod);return["felt",c]}case"selector":return["felt",w1(n)];case"string":{if(s===Fe.TypedDataRevision.ACTIVE){const o=Sf(n),i=[o.data.length,...o.data,o.pending_word,o.pending_word_len];return[t,Rr[s].hashMethod(i)]}return[t,Ps(n)]}case"i128":{if(s===Fe.TypedDataRevision.ACTIVE){const o=BigInt(n);return Hf(o,t,nv),[t,Ps(o<0n?E_+o:o)]}return[t,Ps(n)]}case"timestamp":case"u128":return s===Fe.TypedDataRevision.ACTIVE&&Hf(n,t,rv),[t,Ps(n)];case"felt":case"shortstring":return s===Fe.TypedDataRevision.ACTIVE&&Hf(Ps(n),t,Af),[t,Ps(n)];case"ClassHash":case"ContractAddress":return s===Fe.TypedDataRevision.ACTIVE&&Hf(n,t,Af),[t,Ps(n)];case"bool":return s===Fe.TypedDataRevision.ACTIVE&&He(x_(n),`Type mismatch for ${t} ${n}`),[t,Ps(n)];default:{if(s===Fe.TypedDataRevision.ACTIVE)throw new Error(`Unsupported type: ${t}`);return[t,Ps(n)]}}}function T1(e,t,n,r=Fe.TypedDataRevision.LEGACY){const s=e[t]??Rr[r].presetTypes[t],[o,i]=s.reduce(([c,d],f)=>{if(n[f.name]===void 0||n[f.name]===null&&f.type!=="enum")throw new Error(`Cannot encode data: missing data for '${f.name}'`);const g=n[f.name],_={parent:t,key:f.name},[y,b]=ul(e,f.type,g,_,r);return[[...c,y],[...d,b]]},[["felt"],[A1(e,t,r)]]);return[o,i]}function ll(e,t,n,r=Fe.TypedDataRevision.LEGACY){return Rr[r].hashMethod(T1(e,t,n,r)[1])}function ea(e,t){if(!jf(e))throw new Error("Typed data does not match JSON schema");const n=b1(e),{domain:r,hashMethod:s}=Rr[n],o=[pn("StarkNet Message"),ll(e.types,r,e.domain,n),t,ll(e.types,e.primaryType,e.message,n)];return s(o)}function PN(e,t,n,r){const s=jf(e);if(!zu(e)&&!s)throw new Error("message has a wrong format.");if(s&&r===void 0)throw new Error("When providing a TypedData in message parameter, the accountAddress parameter has to be provided.");if(s&&!zu(r))throw new Error("accountAddress shall be a BigNumberish");const o=s?ea(e,r):Se(e),i=Array.isArray(t)?new Ri(BigInt(t[0]),BigInt(t[1])):t,c=Se(n);return ew(i,o,c)}async function NN(e,t,n,r,s,o){const i=jf(t);if(!zu(t)&&!i)throw new Error("message has a wrong format.");if(!zu(r))throw new Error("accountAddress shall be a BigNumberish");const c=i?ea(t,r):Se(t),d=s?[s]:["isValidSignature","is_valid_signature"],f=o||{okResponse:[],nokResponse:["0x0","0x00"],error:["argent/invalid-signature","0x617267656e742f696e76616c69642d7369676e6174757265","is invalid, with respect to the public key","0x697320696e76616c6964","INVALID_SIG","0x494e56414c49445f534947"]};let g;for(const _ of d)try{const y=await e.callContract({contractAddress:Se(r),entrypoint:_,calldata:it.compile({hash:An(c).toString(),signature:rl(n)})});if(f.nokResponse.includes(y[0].toString()))return!1;if(f.okResponse.length===0||f.okResponse.includes(y[0].toString()))return!0;throw Error("signatureVerificationResponse Error: response is not part of known responses")}catch(y){if(f.error.some(b=>y.message.includes(b)))return!1;g=y}throw Error(`Signature verification Error: ${g}`)}async function BN(e,t=e.blockIdentifier){const n=await e.getBlockWithTxHashes(t);return{l1DataGasPrice:BigInt(n.l1_data_gas_price.price_in_fri),l1GasPrice:BigInt(n.l1_gas_price.price_in_fri),l2GasPrice:BigInt(n.l2_gas_price.price_in_fri)}}var x1=class{constructor(e){Z(this,"responseParser");Z(this,"channel");Z(this,"getStateUpdate",this.getBlockStateUpdate);if(e&&"channel"in e)this.channel=e.channel,this.responseParser="responseParser"in e?e.responseParser:new l1;else{const t=e;if(t&&t.specVersion)if(oo("0.8",t.specVersion))this.channel=new $u.RpcChannel({...t,waitMode:!1});else if(oo("0.9",t.specVersion))this.channel=new al.RpcChannel({...t,waitMode:!1});else throw new Error(`unsupported channel for spec version: ${t.specVersion}`);else if(oo("0.8",as.get("rpcVersion")))this.channel=new $u.RpcChannel({...t,waitMode:!1});else if(oo("0.9",as.get("rpcVersion")))this.channel=new al.RpcChannel({...t,waitMode:!1});else throw new Error("unable to define spec version for channel");this.responseParser=new l1(t?.resourceBoundsOverhead)}}static async create(e){const n=await new $u.RpcChannel({...e}).getSpecVersion();if(nm(n)||It.warn(`Using incompatible node spec version ${n}`),oo("0.8",n))return new this({...e,specVersion:Ho.v0_8_1});if(oo("0.9",n))return new this({...e,specVersion:Ho.v0_9_0});throw new Nn(`Provided RPC node specification version ${n} is not compatible with the SDK. SDK supported RPC versions ${Object.keys(Ho).toString()}`)}fetch(e,t,n=0){return this.channel.fetch(e,t,n)}async getChainId(){return this.channel.getChainId()}readSpecVersion(){return this.channel.readSpecVersion()}async getSpecVersion(){return this.channel.getSpecVersion()}setUpSpecVersion(){return this.channel.setUpSpecVersion()}async getNonceForAddress(e,t){return this.channel.getNonceForAddress(e,t)}async getBlock(e){return this.channel.getBlockWithTxHashes(e).then(this.responseParser.parseGetBlockResponse)}async getBlockLatestAccepted(){return this.channel.getBlockLatestAccepted()}async getBlockNumber(){return this.channel.getBlockNumber()}async getBlockWithTxHashes(e){return this.channel.getBlockWithTxHashes(e)}async getBlockWithTxs(e){return this.channel.getBlockWithTxs(e)}async waitForBlock(e=jo.LATEST,t=5e3){if(e===jo.LATEST||e==="pending")return;const n=await this.getBlockNumber(),r=e===jo.PRE_CONFIRMED?n+1:Number(Se(e));if(r<=n)return;const{retries:s}=this.channel;let o=s,i=!1;for(;!i;)if(await this.getBlockNumber()===r?i=!0:await rc(t),o-=1,o<=0)throw new Error(`waitForBlock() timed-out after ${s} tries.`)}async getL1GasPrice(e){return this.channel.getBlockWithTxHashes(e).then(this.responseParser.parseL1GasPriceResponse)}async getGasPrices(e=this.channel.blockIdentifier){if(this.channel instanceof al.RpcChannel)return BN(this.channel,e);throw new Nn("Unsupported method for RPC version")}async getL1MessageHash(e){const t=await this.channel.getTransactionByHash(e);He(t.type==="L1_HANDLER","This L2 transaction is not a L1 message.");const{calldata:n,contract_address:r,entry_point_selector:s,nonce:o}=t,i=[n[0],r,o,s,n.length-1,...n.slice(1)];return Fu(i)}async getBlockWithReceipts(e){return this.channel.getBlockWithReceipts(e)}async getBlockStateUpdate(e){return this.channel.getBlockStateUpdate(e)}async getBlockTransactionsTraces(e){return this.channel.getBlockTransactionsTraces(e)}async getBlockTransactionCount(e){return this.channel.getBlockTransactionCount(e)}async getTransaction(e){return this.channel.getTransactionByHash(e)}async getTransactionByHash(e){return this.channel.getTransactionByHash(e)}async getTransactionByBlockIdAndIndex(e,t){return this.channel.getTransactionByBlockIdAndIndex(e,t)}async getTransactionReceipt(e){const t=await this.channel.getTransactionReceipt(e),n=this.responseParser.parseTransactionReceipt(t);return new m1(n)}async getTransactionTrace(e){return this.channel.getTransactionTrace(e)}async getTransactionStatus(e){return this.channel.getTransactionStatus(e)}async getSimulateTransaction(e,t){return this.channel.simulateTransaction(e,t).then(n=>this.responseParser.parseSimulateTransactionResponse(n))}async waitForTransaction(e,t){const n=await this.channel.waitForTransaction(e,t);return new m1(n)}async getStorageAt(e,t,n){return this.channel.getStorageAt(e,t,n)}async getClassHashAt(e,t){return this.channel.getClassHashAt(e,t)}async getClassByHash(e){return this.getClass(e)}async getClass(e,t){return this.channel.getClass(e,t).then(this.responseParser.parseContractClassResponse)}async getClassAt(e,t){return this.channel.getClassAt(e,t).then(this.responseParser.parseContractClassResponse)}async getContractVersion(e,t,{blockIdentifier:n=this.channel.blockIdentifier,compiler:r=!0}={}){let s;if(e)s=await this.getClassAt(e,n);else if(t)s=await this.getClass(t,n);else throw Error("getContractVersion require contractAddress or classHash");return Rs(s)?r?{cairo:"1",compiler:U_(s.abi).compiler}:{cairo:"1",compiler:void 0}:{cairo:"0",compiler:"0"}}async getInvokeEstimateFee(e,t,n,r){return(await this.getEstimateFeeBulk([{type:Fe.ETransactionType.INVOKE,...e,...t}],{blockIdentifier:n,skipValidate:r}))[0]}async getDeclareEstimateFee(e,t,n,r){return(await this.getEstimateFeeBulk([{type:Fe.ETransactionType.DECLARE,...e,...t}],{blockIdentifier:n,skipValidate:r}))[0]}async getDeployAccountEstimateFee(e,t,n,r){return(await this.getEstimateFeeBulk([{type:Fe.ETransactionType.DEPLOY_ACCOUNT,...e,...t}],{blockIdentifier:n,skipValidate:r}))[0]}async getEstimateFeeBulk(e,t){return this.channel.getEstimateFee(e,t).then(n=>this.responseParser.parseFeeEstimateBulkResponse(n))}async invokeFunction(e,t){return this.channel.invoke(e,t)}async declareContract(e,t){return this.channel.declare(e,t)}async deployAccountContract(e,t){return this.channel.deployAccount(e,t)}async callContract(e,t){return this.channel.callContract(e,t)}async estimateMessageFee(e,t){return this.channel.estimateMessageFee(e,t)}async getSyncingStats(){return this.channel.getSyncingStats()}async getEvents(e){if(this.channel instanceof $u.RpcChannel)return this.channel.getEvents(e);if(this.channel instanceof al.RpcChannel)return this.channel.getEvents(e);throw new Error("Unsupported channel type")}async verifyMessageInStarknet(e,t,n,r,s){return NN(this,e,t,n,r,s)}async isClassDeclared(e,t){let n;if(!e.classHash&&"contract"in e)n=nc(e).classHash;else if(e.classHash)n=e.classHash;else throw Error("contractClassIdentifier type not satisfied");try{return await this.getClass(n,t)instanceof Object}catch(r){if(r instanceof Nn)return!1;throw r}}async prepareInvocations(e){const t=[];for(const n of e)n.type===Fe.ETransactionType.DECLARE?await this.isClassDeclared("payload"in n?n.payload:n)||t.unshift(n):t.push(n);return t}async getL1MessagesStatus(e){return this.channel.getMessagesStatus(e)}async getStorageProof(e,t,n,r){return this.channel.getStorageProof(e,t,n,r)}async getCompiledCasm(e){return this.channel.getCompiledCasm(e)}async getEstimateTip(e,t={}){return CN(this,e,t)}},DN={};Rt(DN,{StarknetIdContract:()=>fm,StarknetIdIdentityContract:()=>hm,StarknetIdMulticallContract:()=>pm,StarknetIdPfpContract:()=>_m,StarknetIdPopContract:()=>mm,StarknetIdVerifierContract:()=>gm,dynamicCallData:()=>gt,dynamicFelt:()=>Bn,execution:()=>Bs,getStarknetIdContract:()=>Vf,getStarknetIdIdentityContract:()=>k1,getStarknetIdMulticallContract:()=>O1,getStarknetIdPfpContract:()=>P1,getStarknetIdPopContract:()=>N1,getStarknetIdVerifierContract:()=>R1,isStarkDomain:()=>B1,useDecoded:()=>dm,useEncoded:()=>I1});var Ns="abcdefghijklmnopqrstuvwxyz0123456789-",ic=BigInt(Ns.length+1),Tn="\u8FD9\u6765",S1=BigInt(Ns.length),um=BigInt(Tn.length),C1=BigInt(Tn.length+1);function lm(e){let t=0;for(;e.endsWith(Tn[Tn.length-1]);)e=e.substring(0,e.length-1),t+=1;return[e,t]}function dm(e){let t="";return e.forEach(n=>{for(;n!==Ts;){const o=n%ic;if(n/=ic,o===BigInt(Ns.length)){const i=n/C1;if(i===Ts){const c=n%C1;n=i,c===Ts?t+=Ns[0]:t+=Tn[Number(c)-1]}else{const c=n%um;t+=Tn[Number(c)],n/=um}}else t+=Ns[Number(o)]}const[r,s]=lm(t);s&&(t=r+(s%2===0?Tn[Tn.length-1].repeat(s/2-1)+Tn[0]+Ns[1]:Tn[Tn.length-1].repeat((s-1)/2+1))),t+="."}),t&&t.concat("stark")}function I1(e){let t=BigInt(0),n=BigInt(1);if(e.endsWith(Tn[0]+Ns[1])){const[r,s]=lm(e.substring(0,e.length-2));e=r+Tn[Tn.length-1].repeat(2*(s+1))}else{const[r,s]=lm(e);s&&(e=r+Tn[Tn.length-1].repeat(1+2*(s-1)))}for(let r=0;r<e.length;r+=1){const s=e[r],o=Ns.indexOf(s),i=BigInt(Ns.indexOf(s));if(o!==-1)r===e.length-1&&e[r]===Ns[0]?(t+=n*S1,n*=ic,n*=ic):(t+=n*i,n*=ic);else if(Tn.indexOf(s)!==-1){t+=n*S1,n*=ic;const c=(r===e.length-1?1:0)+Tn.indexOf(s);t+=n*BigInt(c),n*=um}}return t}var fm={MAINNET:"0x6ac597f8116f886fa1c97a23fa4e08299975ecaf6b598873ca6792b9bbfb678",TESTNET_SEPOLIA:"0x154bc2e1af9260b9e66af0e9c46fc757ff893b3ff6a85718a810baf1474"};function Vf(e){switch(e){case xr.SN_MAIN:return fm.MAINNET;case xr.SN_SEPOLIA:return fm.TESTNET_SEPOLIA;default:throw new Error("Starknet.id is not yet deployed on this network")}}var hm={MAINNET:"0x05dbdedc203e92749e2e746e2d40a768d966bd243df04a6b712e222bc040a9af",TESTNET_SEPOLIA:"0x3697660a0981d734780731949ecb2b4a38d6a58fc41629ed611e8defda"};function k1(e){switch(e){case xr.SN_MAIN:return hm.MAINNET;case xr.SN_SEPOLIA:return hm.TESTNET_SEPOLIA;default:throw new Error("Starknet.id verifier contract is not yet deployed on this network")}}var pm="0x034ffb8f4452df7a613a0210824d6414dbadcddce6c6e19bf4ddc9e22ce5f970";function O1(e){switch(e){case xr.SN_MAIN:return pm;case xr.SN_SEPOLIA:return pm;default:throw new Error("Starknet.id multicall contract is not yet deployed on this network")}}var gm={MAINNET:"0x07d14dfd8ee95b41fce179170d88ba1f0d5a512e13aeb232f19cfeec0a88f8bf",TESTNET_SEPOLIA:"0x60B94fEDe525f815AE5E8377A463e121C787cCCf3a36358Aa9B18c12c4D566"};function R1(e){switch(e){case xr.SN_MAIN:return gm.MAINNET;case xr.SN_SEPOLIA:return gm.TESTNET_SEPOLIA;default:throw new Error("Starknet.id verifier contract is not yet deployed on this network")}}var _m={MAINNET:"0x070aaa20ec4a46da57c932d9fd89ca5e6bb9ca3188d3df361a32306aff7d59c7",TESTNET_SEPOLIA:"0x9e7bdb8dabd02ea8cfc23b1d1c5278e46490f193f87516ed5ff2dfec02"};function P1(e){switch(e){case xr.SN_MAIN:return _m.MAINNET;case xr.SN_SEPOLIA:return _m.TESTNET_SEPOLIA;default:throw new Error("Starknet.id profile picture verifier contract is not yet deployed on this network")}}var mm={MAINNET:"0x0293eb2ba9862f762bd3036586d5755a782bd22e6f5028320f1d0405fd47bff4",TESTNET_SEPOLIA:"0x15ae88ae054caa74090b89025c1595683f12edf7a4ed2ad0274de3e1d4a"};function N1(e){switch(e){case xr.SN_MAIN:return mm.MAINNET;case xr.SN_SEPOLIA:return mm.TESTNET_SEPOLIA;default:throw new Error("Starknet.id proof of personhood verifier contract is not yet deployed on this network")}}function Bs(e,t=void 0,n=void 0){return new Yu({Static:e,IfEqual:t?Xa(t[0],t[1],t[2]):void 0,IfNotEqual:n?Xa(n[0],n[1],n[2]):void 0})}function Bn(e,t=void 0){return new Yu({Hardcoded:e,Reference:t?Xa(t[0],t[1]):void 0})}function gt(e,t=void 0,n=void 0){return new Yu({Hardcoded:e,Reference:t?Xa(t[0],t[1]):void 0,ArrayReference:n?Xa(n[0],n[1]):void 0})}function B1(e){return/^(?:[a-z0-9-]{1,48}(?:[a-z0-9-]{1,48}[a-z0-9-])?\.)*[a-z0-9-]{1,48}\.stark$/.test(e)}var LN=class up{async getStarkName(t,n){return up.getStarkName(this,t,n)}async getAddressFromStarkName(t,n){return up.getAddressFromStarkName(this,t,n)}async getStarkProfile(t,n,r,s,o,i,c){return up.getStarkProfile(this,t,n,r,s,o,i,c)}static async getStarkName(t,n,r){const s=await t.getChainId(),o=r??Vf(s);try{const c=(await t.callContract({contractAddress:o,entrypoint:"address_to_domain",calldata:it.compile({address:n,hint:[]})})).map(f=>BigInt(f)).slice(1),d=dm(c);if(!d)throw Error("Starkname not found");return d}catch(i){throw i instanceof Error&&i.message==="Starkname not found"?i:Error("Could not get stark name")}}static async getAddressFromStarkName(t,n,r){const s=n.endsWith(".stark")?n:`${n}.stark`;if(!B1(s))throw new Error("Invalid domain, must be a valid .stark domain");const o=await t.getChainId(),i=r??Vf(o);try{const c=s.replace(".stark","").split(".").map(f=>I1(f).toString(10));return(await t.callContract({contractAddress:i,entrypoint:"domain_to_address",calldata:it.compile({domain:c,hint:[]})}))[0]}catch{throw Error("Could not get address from stark name")}}static async getStarkProfile(t,n,r,s,o,i,c,d){const f=await t.getChainId(),g=r??Vf(f),_=s??k1(f),y=o??R1(f),b=i??P1(f),k=c??N1(f),B=d??O1(f);try{const z=[{execution:Bs({}),to:gt(g),selector:gt(on("address_to_domain")),calldata:[gt(n),gt("0")]},{execution:Bs({}),to:Bn(g),selector:Bn(on("domain_to_id")),calldata:[gt(void 0,void 0,[0,0])]},{execution:Bs({}),to:Bn(_),selector:Bn(on("get_verifier_data")),calldata:[gt(void 0,[1,0]),gt(pn("twitter")),gt(y),gt("0")]},{execution:Bs({}),to:Bn(_),selector:Bn(on("get_verifier_data")),calldata:[gt(void 0,[1,0]),gt(pn("github")),gt(y),gt("0")]},{execution:Bs({}),to:Bn(_),selector:Bn(on("get_verifier_data")),calldata:[gt(void 0,[1,0]),gt(pn("discord")),gt(y),gt("0")]},{execution:Bs({}),to:Bn(_),selector:Bn(on("get_verifier_data")),calldata:[gt(void 0,[1,0]),gt(pn("proof_of_personhood")),gt(k),gt("0")]},{execution:Bs({}),to:Bn(_),selector:Bn(on("get_verifier_data")),calldata:[gt(void 0,[1,0]),gt(pn("nft_pp_contract")),gt(b),gt("0")]},{execution:Bs({}),to:Bn(_),selector:Bn(on("get_extended_verifier_data")),calldata:[gt(void 0,[1,0]),gt(pn("nft_pp_id")),gt("2"),gt(b),gt("0")]},{execution:Bs(void 0,void 0,[6,0,0]),to:Bn(void 0,[6,0]),selector:Bn(on("tokenURI")),calldata:[gt(void 0,[7,1]),gt(void 0,[7,2])]}],K=await t.callContract({contractAddress:B,entrypoint:"aggregate",calldata:it.compile({calls:z})});if(Array.isArray(K)){const J=parseInt(K[0],16),q=[];let ee=1;for(let Me=0;Me<J&&ee<K.length;Me+=1){const Ge=parseInt(K[ee],16);ee+=1;const le=K.slice(ee,ee+Ge);q.push(le),ee+=Ge}const be=dm(q[0].slice(1).map(Me=>BigInt(Me))),fe=q[2][0]!=="0x0"?BigInt(q[2][0]).toString():void 0,ne=q[3][0]!=="0x0"?BigInt(q[3][0]).toString():void 0,pe=q[4][0]!=="0x0"?BigInt(q[4][0]).toString():void 0,xe=q[5][0]==="0x1",_e=(K[0]==="0x9"?q[8].slice(1).map(Me=>Gi(Me)).join(""):void 0)||`https://starknet.id/api/identicons/${BigInt(q[1][0]).toString()}`;return{name:be,twitter:fe,github:ne,discord:pe,proofOfPersonhood:xe,profilePicture:_e}}throw Error("Error while calling aggregate function")}catch(z){throw z instanceof Error?z:Error("Could not get user stark profile data from address")}}},D1=class extends zE(x1,LN){},HM=class{},L1=new x1({default:!0}),jM=class{},$N=class{constructor(e=vg.randomPrivateKey()){Z(this,"pk");this.pk=e instanceof Uint8Array?qn(e):Se(e)}async getPubKey(){return Tg(this.pk)}async signMessage(e,t){const n=ea(e,t);return this.signRaw(n)}async signTransaction(e,t){const n=oc(e,t.cairoVersion);let r;if(Object.values(Fe.ETransactionVersion3).includes(t.version)){const s=t;r=qu({...s,senderAddress:s.walletAddress,compiledCalldata:n,version:s.version,nonceDataAvailabilityMode:Lt(s.nonceDataAvailabilityMode),feeDataAvailabilityMode:Lt(s.feeDataAvailabilityMode)})}else throw Error("unsupported signTransaction version");return this.signRaw(r)}async signDeployAccountTransaction(e){const t=it.compile(e.constructorCalldata);let n;if(Object.values(Fe.ETransactionVersion3).includes(e.version)){const r=e;n=Ju({...r,salt:r.addressSalt,compiledConstructorCalldata:t,version:r.version,nonceDataAvailabilityMode:Lt(r.nonceDataAvailabilityMode),feeDataAvailabilityMode:Lt(r.feeDataAvailabilityMode)})}else throw Error("unsupported signDeployAccountTransaction version");return this.signRaw(n)}async signDeclareTransaction(e){let t;if(Object.values(Fe.ETransactionVersion3).includes(e.version)){const n=e;t=Uf({...n,version:n.version,nonceDataAvailabilityMode:Lt(n.nonceDataAvailabilityMode),feeDataAvailabilityMode:Lt(n.feeDataAvailabilityMode)})}else throw Error("unsupported signDeclareTransaction version");return this.signRaw(t)}async signRaw(e){return Qb(e,this.pk)}},UN={};Rt(UN,{bnToUint256:()=>ym,isUint256:()=>zN,uint256ToBN:()=>MN});function MN(e){return new gn(e).toBigInt()}function zN(e){return gn.is(e)}function ym(e){return new gn(e).toUint256HexString()}var VM=class{constructor(e=t1()){Z(this,"pk");this.pk=e instanceof Uint8Array?qn(e).padStart(64,"0"):Yt(Se(e)).padStart(64,"0")}async getPubKey(){return st(qn(secp256k12.getPublicKey(this.pk,!1)).padStart(130,"0").slice(2))}async signMessage(e,t){const n=ea(e,t),r=secp256k12.sign(Yt(Za(n)),this.pk);return this.formatEthSignature(r)}async signTransaction(e,t){const n=oc(e,t.cairoVersion);let r;if(Object.values(Fe.ETransactionVersion3).includes(t.version)){const o=t;r=qu({...o,senderAddress:o.walletAddress,compiledCalldata:n,version:o.version,nonceDataAvailabilityMode:Lt(o.nonceDataAvailabilityMode),feeDataAvailabilityMode:Lt(o.feeDataAvailabilityMode)})}else throw Error("unsupported signTransaction version");const s=secp256k12.sign(Yt(Za(r)),this.pk);return this.formatEthSignature(s)}async signDeployAccountTransaction(e){const t=it.compile(e.constructorCalldata);let n;if(Object.values(Fe.ETransactionVersion3).includes(e.version)){const s=e;n=Ju({...s,salt:s.addressSalt,compiledConstructorCalldata:t,version:s.version,nonceDataAvailabilityMode:Lt(s.nonceDataAvailabilityMode),feeDataAvailabilityMode:Lt(s.feeDataAvailabilityMode)})}else throw Error("unsupported signDeployAccountTransaction version");const r=secp256k12.sign(Yt(Za(n)),this.pk);return this.formatEthSignature(r)}async signDeclareTransaction(e){let t;if(Object.values(Fe.ETransactionVersion3).includes(e.version)){const r=e;t=Uf({...r,version:r.version,nonceDataAvailabilityMode:Lt(r.nonceDataAvailabilityMode),feeDataAvailabilityMode:Lt(r.feeDataAvailabilityMode)})}else throw Error("unsupported signDeclareTransaction version");const n=secp256k12.sign(Yt(Za(t)),this.pk);return this.formatEthSignature(n)}formatEthSignature(e){const t=ym(e.r),n=ym(e.s);return[Se(t.low),Se(t.high),Se(n.low),Se(n.high),Se(e.recovery)]}},FN=class{constructor(e,t,n="LedgerW",r=HN){Z(this,"transporter");Z(this,"_transporter");Z(this,"accountID");Z(this,"eip2645applicationName");Z(this,"pathBuffer");Z(this,"appVersion");Z(this,"pubKey");Z(this,"fullPubKey");He(t>=0,"Ledger account ID shall not be a negative number."),He(t<=w_,"Ledger account ID shall be < 2**31."),He(!!n,"Ledger application name shall not be empty."),this.transporter=e,this._transporter=this.transporter,this.accountID=t,this.pubKey="",this.fullPubKey="",this.eip2645applicationName=n,this.appVersion="",this.pathBuffer=r(this.accountID,this.eip2645applicationName)}async getPubKey(){return this.pubKey||await this.getPublicKeys(),this.pubKey}async getFullPubKey(){return this.fullPubKey||await this.getPublicKeys(),this.fullPubKey}async getAppVersion(){if(!this.appVersion){const e=await this._transporter.send(+"0x5a",0,0,0);this.appVersion=`${e[0]}.${e[1]}.${e[2]}`}return this.appVersion}async signMessage(e,t){const n=ea(e,t);return this.signRaw(n)}async signTransaction(e,t){const n=oc(e,t.cairoVersion);let r;if(Object.values(Fe.ETransactionVersion3).includes(t.version)){const s=t;r=qu({...s,senderAddress:s.walletAddress,compiledCalldata:n,version:s.version,nonceDataAvailabilityMode:Lt(s.nonceDataAvailabilityMode),feeDataAvailabilityMode:Lt(s.feeDataAvailabilityMode)})}else throw Error("unsupported signTransaction version");return this.signRaw(r)}async signDeployAccountTransaction(e){const t=it.compile(e.constructorCalldata);let n;if(Object.values(Fe.ETransactionVersion3).includes(e.version)){const r=e;n=Ju({...r,salt:r.addressSalt,compiledConstructorCalldata:t,version:r.version,nonceDataAvailabilityMode:Lt(r.nonceDataAvailabilityMode),feeDataAvailabilityMode:Lt(r.feeDataAvailabilityMode)})}else throw Error("unsupported signDeployAccountTransaction version");return this.signRaw(n)}async signDeclareTransaction(e){let t;if(Object.values(Fe.ETransactionVersion3).includes(e.version)){const n=e;t=Uf({...n,version:n.version,nonceDataAvailabilityMode:Lt(n.nonceDataAvailabilityMode),feeDataAvailabilityMode:Lt(n.feeDataAvailabilityMode)})}else throw Error("unsupported signDeclareTransaction version");return this.signRaw(t)}async signRaw(e){st(qn(await this._transporter.send(+"0x5a",2,0,0,xt.from(this.pathBuffer))));const t=Se(BigInt(e)<<4n),n=Cs(t),r=Uint8Array.from(await this._transporter.send(+"0x5a",2,1,0,xt.from(n))),s=BigInt(st(qn(r.subarray(1,33)))),o=BigInt(st(qn(r.subarray(33,65)))),i=r[65];return new Ri(s,o).addRecoveryBit(i)}async getPublicKeys(){const e=this.pathBuffer,t=Uint8Array.from(await this._transporter.send(+"0x5a",1,0,0,xt.from(e)));this.pubKey=st(qn(t.subarray(1,33))),this.fullPubKey=st(qn(t.subarray(0,65)))}};function HN(e,t="LedgerW"){const n=new Uint8Array([128,0,10,85]),r=new Uint8Array([71,65,233,201]),s=t==="LedgerW"?new Uint8Array([43,206,231,219]):k_(t),o=new Uint8Array([0,0,0,0]),i=Se(e),c=st(Yt(i).padStart(8,"0")),d=Cs(c),f=new Uint8Array([0,0,0,0]);return Xt([n,r,s,o,d,f])}function Zf(e){const t=Se(Ht(e)?st(e):e),n=Yt(t).padStart(64,"0");return st(n)}function $1(e){const t=Zf(e);if(!t.match(/^(0x)?[0-9a-fA-F]{64}$/))throw new Error("Invalid Address Format");return C_(t,Ts,v_-1n,"Starknet Address"),t}function jN(e){const t=Yt($1(e)).toLowerCase().split(""),n=Yt(O_(e)),r=rs(n.padStart(64,"0"));for(let s=0;s<t.length;s+=2)r[s>>1]>>4>=8&&(t[s]=t[s].toUpperCase()),(r[s>>1]&15)>=8&&(t[s+1]=t[s+1].toUpperCase());return st(t.join(""))}function VN(e){return jN(e)===e}var ZN=class extends FN{constructor(e,t,n="LedgerW",r=U1){super(e,t,n,r)}async signTransaction(e,t){const n=oc(e,t.cairoVersion);if(Object.values(Fe.ETransactionVersion3).includes(t.version)){const r=t,s=qu({...r,senderAddress:r.walletAddress,compiledCalldata:n,version:r.version,nonceDataAvailabilityMode:Lt(r.nonceDataAvailabilityMode),feeDataAvailabilityMode:Lt(r.feeDataAvailabilityMode)}),o=await this.signTxV3(r,e);return He(An(s)===o.hash,"The V3 transaction hash calculated by Starknet.js is different from the one calculated by the Ledger."),o.signature}throw Error("unsupported signTransaction version")}async signDeployAccountTransaction(e){const t=it.compile(e.constructorCalldata);let n;if(Object.values(Fe.ETransactionVersion3).includes(e.version)){const r=e;n=Ju({...r,salt:r.addressSalt,compiledConstructorCalldata:t,version:r.version,nonceDataAvailabilityMode:Lt(r.nonceDataAvailabilityMode),feeDataAvailabilityMode:Lt(r.feeDataAvailabilityMode)});const s=await this.signDeployAccountV3(r);return He(An(n)===s.hash,"The transaction hash calculated by Starknet.js is different from the one calculated by the Ledger."),s.signature}throw Error("unsupported signDeployAccountTransaction version")}convertBnToLedger(e){return Cs(Zf(Se(e)))}decodeSignatureLedger(e){const t=BigInt(st(qn(e.subarray(0,32)))),n=BigInt(st(qn(e.subarray(33,65)))),r=BigInt(st(qn(e.subarray(65,97)))),s=e[97],i=new Ri(n,r).addRecoveryBit(s);return{hash:t,signature:i}}encodeCall(e){const t=this.convertBnToLedger(e.contractAddress),n=Cs(Zf(Wi(e.entrypoint)));let r=new Uint8Array([]);if(e.calldata){const c=it.compile(e.calldata);r=Xt(c.map(d=>this.convertBnToLedger(d)))}const s=Xt([t,n,r]),o=[],i=7*32;for(let c=0;c<s.length;c+=i)o.push(s.subarray(c,c+i));return o}async signTxV3(e,t){He(e.paymasterData.length<=7,"Paymaster data includes more than 7 items."),He(e.accountDeploymentData.length<=7,"accountDeploymentData includes more than 7 items"),await this._transporter.send(+"0x5a",3,0,0,xt.from(this.pathBuffer));const n=this.convertBnToLedger(e.walletAddress),r=this.convertBnToLedger(e.tip),s=this.convertBnToLedger(e.chainId),o=this.convertBnToLedger(e.nonce),i=this.convertBnToLedger(Ja(e.nonceDataAvailabilityMode===Fe.EDataAvailabilityMode.L1?Fe.EDAMode.L1:Fe.EDAMode.L2,e.feeDataAvailabilityMode===Fe.EDataAvailabilityMode.L1?Fe.EDAMode.L1:Fe.EDAMode.L2)),c=this.convertBnToLedger(Qa(e.resourceBounds)),d=this.convertBnToLedger(ec(e.resourceBounds)),f=Xt([n,r,c,d,s,o,i]);await this._transporter.send(+"0x5a",3,1,0,xt.from(f));const g=Xt(e.paymasterData.map(k=>this.convertBnToLedger(k)));await this._transporter.send(+"0x5a",3,2,0,xt.from(g));const _=Xt(e.paymasterData.map(k=>this.convertBnToLedger(k)));await this._transporter.send(+"0x5a",3,3,0,xt.from(_));const y=this.convertBnToLedger(t.length);await this._transporter.send(+"0x5a",3,4,0,xt.from(y));let b=new Uint8Array(0);for(const k of t){const B=this.encodeCall(k);await this._transporter.send(+"0x5a",3,5,0,xt.from(B[0])),B.length>1&&B.slice(1).forEach(async z=>{await this._transporter.send(+"0x5a",3,5,1,xt.from(z))}),b=await this._transporter.send(+"0x5a",3,5,2)}return this.decodeSignatureLedger(b)}async signDeployAccountV3(e){await this._transporter.send(+"0x5a",5,0,0,xt.from(this.pathBuffer));const t=this.convertBnToLedger(e.contractAddress),n=this.convertBnToLedger(e.chainId),r=this.convertBnToLedger(e.nonce),s=this.convertBnToLedger(Ja(e.nonceDataAvailabilityMode===Fe.EDataAvailabilityMode.L1?Fe.EDAMode.L1:Fe.EDAMode.L2,e.feeDataAvailabilityMode===Fe.EDataAvailabilityMode.L1?Fe.EDAMode.L1:Fe.EDAMode.L2)),o=this.convertBnToLedger(e.classHash),i=this.convertBnToLedger(e.addressSalt),c=Xt([t,n,r,s,o,i]);await this._transporter.send(+"0x5a",5,1,0,xt.from(c));const d=this.convertBnToLedger(e.tip),f=this.convertBnToLedger(Qa(e.resourceBounds)),g=this.convertBnToLedger(ec(e.resourceBounds)),_=Xt([d,f,g]);await this._transporter.send(+"0x5a",5,2,0,xt.from(_));const y=Xt(e.paymasterData.map(q=>this.convertBnToLedger(q)));await this._transporter.send(+"0x5a",5,3,0,xt.from(y));const b=it.compile(e.constructorCalldata),k=this.convertBnToLedger(b.length);await this._transporter.send(+"0x5a",5,4,0,xt.from(k));const B=Xt(b.map(q=>this.convertBnToLedger(q))),z=[],K=7*32;for(let q=0;q<B.length;q+=K)z.push(B.subarray(q,q+K));let J=new Uint8Array(0);for(const q of z)J=await this._transporter.send(+"0x5a",5,5,0,xt.from(q));return this.decodeSignatureLedger(J)}};function U1(e,t="LedgerW"){const n=new Uint8Array([Lu,0,10,85]),r=new Uint8Array([71|Lu,65,233,201]),s=t==="LedgerW"?new Uint8Array([43,206,231,219]):k_(t),o=Xt([new Uint8Array([s[0]|Lu]),s.subarray(1)]),i=new Uint8Array([Lu,0,0,0]),c=Se(BigInt(e)|av),d=st(Yt(c).padStart(8,"0")),f=Cs(d),g=new Uint8Array([0,0,0,0]);return Xt([n,r,o,i,f,g])}var ZM=class extends ZN{constructor(e,t,n="LedgerW",r=U1){super(e,t,n,r)}async signTxV3(e,t){He(e.paymasterData.length<=7,"Paymaster data includes more than 7 items."),He(e.accountDeploymentData.length<=7,"accountDeploymentData includes more than 7 items"),await this._transporter.send(+"0x5a",3,0,0,xt.from(this.pathBuffer));const n=this.convertBnToLedger(e.walletAddress),r=this.convertBnToLedger(e.chainId),s=this.convertBnToLedger(e.nonce),o=this.convertBnToLedger(Ja(Lt(e.nonceDataAvailabilityMode),Lt(e.feeDataAvailabilityMode))),i=Xt([n,r,s,o]);if(await this._transporter.send(+"0x5a",3,1,0,xt.from(i)),Wa(e.resourceBounds)){const _=this.convertBnToLedger(e.tip),y=this.convertBnToLedger(Qa(e.resourceBounds)),b=this.convertBnToLedger(ec(e.resourceBounds)),k=this.convertBnToLedger(Lf(e.resourceBounds)),B=Xt([_,y,b,k]);await this._transporter.send(+"0x5a",3,2,0,xt.from(B))}const c=Xt(e.paymasterData.map(_=>this.convertBnToLedger(_)));await this._transporter.send(+"0x5a",3,3,0,xt.from(c));const d=Xt(e.paymasterData.map(_=>this.convertBnToLedger(_)));await this._transporter.send(+"0x5a",3,4,0,xt.from(d));const f=this.convertBnToLedger(t.length);await this._transporter.send(+"0x5a",3,5,0,xt.from(f));let g=new Uint8Array(0);for(const _ of t){const y=this.encodeCall(_);g=await this._transporter.send(+"0x5a",3,6,0,xt.from(y[0])),y.length>1&&y.slice(1).forEach(async b=>{g=await this._transporter.send(+"0x5a",3,6,1,xt.from(b))})}return this.decodeSignatureLedger(g)}async signDeployAccountV3(e){await this._transporter.send(+"0x5a",5,0,0,xt.from(this.pathBuffer));const t=this.convertBnToLedger(e.contractAddress),n=this.convertBnToLedger(e.chainId),r=this.convertBnToLedger(e.nonce),s=this.convertBnToLedger(Ja(Lt(e.nonceDataAvailabilityMode),Lt(e.feeDataAvailabilityMode))),o=this.convertBnToLedger(e.classHash),i=this.convertBnToLedger(e.addressSalt),c=Xt([t,n,r,s,o,i]);if(await this._transporter.send(+"0x5a",5,1,0,xt.from(c)),Wa(e.resourceBounds)){const B=this.convertBnToLedger(e.tip),z=this.convertBnToLedger(Qa(e.resourceBounds)),K=this.convertBnToLedger(ec(e.resourceBounds)),J=this.convertBnToLedger(Lf(e.resourceBounds)),q=Xt([B,z,K,J]);await this._transporter.send(+"0x5a",5,2,0,xt.from(q))}const d=Xt(e.paymasterData.map(B=>this.convertBnToLedger(B)));await this._transporter.send(+"0x5a",5,3,0,xt.from(d));const f=it.compile(e.constructorCalldata),g=this.convertBnToLedger(f.length);await this._transporter.send(+"0x5a",5,4,0,xt.from(g));const _=Xt(f.map(B=>this.convertBnToLedger(B))),y=[],b=7*32;for(let B=0;B<_.length;B+=b)y.push(_.subarray(B,B+b));let k=new Uint8Array(0);for(const B of y)k=await this._transporter.send(+"0x5a",5,5,0,xt.from(B));return this.decodeSignatureLedger(k)}encodeCall(e){const t=this.convertBnToLedger(e.contractAddress),n=Cs(Zf(Wi(e.entrypoint)));let r=new Uint8Array([]);if(e.calldata){const c=it.compile(e.calldata),d=this.convertBnToLedger(c.length);r=Xt([d,...c.map(f=>this.convertBnToLedger(f))])}else r=this.convertBnToLedger("0x00");const s=Xt([t,n,r]),o=[],i=7*32;for(let c=0;c<s.length;c+=i)o.push(s.subarray(c,c+i));return o}},KN={};Rt(KN,{buildExecuteFromOutsideCall:()=>j1,buildExecuteFromOutsideCallData:()=>H1,getOutsideCall:()=>bm,getTypedData:()=>F1,toOutsideCallV2:()=>Kf});function Kf(e){return"calldata_len"in e?{To:e.to,Selector:e.selector,Calldata:e.calldata}:e}function bm(e){const t=e.calldata??[],n=Array.isArray(t)?t:it.compile(t);return{to:e.contractAddress,selector:on(e.entrypoint),calldata:n}}function M1(e,t){const n=bm(e);return t==="1"?{...n,calldata_len:n.calldata.length,calldata:n.calldata}:{To:n.to,Selector:n.selector,Calldata:n.calldata}}function z1(e,t){return{name:"Account.execute_from_outside",version:t,chainId:e,...t==="2"?{revision:"1"}:{}}}function F1(e,t,n,r,s){return s==="1"?{types:eP,primaryType:"OutsideExecution",domain:z1(e,s),message:{...t,nonce:n,calls_len:r.length,calls:r.map(o=>M1(o,s))}}:{types:tP,primaryType:"OutsideExecution",domain:z1(e,s),message:{Caller:t.caller,Nonce:n,"Execute After":t.execute_after,"Execute Before":t.execute_before,Calls:r.map(o=>M1(o,s))}}}function H1(e){const t=e.outsideExecution,n=rl(e.signature);return it.compile({outside_execution:t,signature:n})}function j1(e){return(Array.isArray(e)?e:[e]).map(r=>{let s;if(r.version===Ga.V1)s="execute_from_outside";else if(r.version===Ga.V2)s="execute_from_outside_v2";else throw new Error("Unsupported OutsideExecution version");return{contractAddress:Se(r.signerAddress),entrypoint:s,calldata:H1(r)}})}var WN={};Rt(WN,{supportsInterface:()=>wm});async function wm(e,t,n){const r={contractAddress:Se(t),entrypoint:"supports_interface",calldata:[Se(n)]};try{const s=await e.callContract(r);return BigInt(s[0])!==0n}catch{return!1}}var GN={};Rt(GN,{assertCallsAreStrictlyEqual:()=>V1,assertPaymasterTransactionSafety:()=>Z1,getDefaultPaymasterNodeUrl:()=>Wf});var Wf=(e,t=!1)=>{t||It.info("Using default public node url, please provide nodeUrl in provider options!");const n=lv[e??Ka.SN_SEPOLIA],r=Math.floor(Math.random()*n.length);return n[r]},YN=(e,t)=>{const n=Kf(e[e.length-1]),s=it.toCalldata(n.Calldata)[1];He(BigInt(s)===BigInt(t),"Gas token value is not equal to the provided gas fees")},XN=(e,t)=>{const n=Kf(e[e.length-1]);He(BigInt(n.To)===BigInt(t),"Gas token address is not equal to the provided gas token")};function V1(e,t){const n="Provided calls are not strictly equal to the returned calls";He(t.length-1===e.length,`${n}: Expected ${e.length+1} calls, got ${t.length}`);for(let r=0;r<e.length;r+=1){const s=e[r],o=Kf(t[r]),i=_=>An(_).toString(16).toLowerCase(),c=i(s.contractAddress),d=i(o.To);He(c===d,`${n}: Contract address mismatch at call ${r}. Expected: ${s.contractAddress}, Got: ${o.To}`),He(on(s.entrypoint)===o.Selector,`${n}: Entrypoint mismatch at call ${r}. Expected: ${s.entrypoint}, Got: ${o.Selector}`);const f=it.toCalldata(s.calldata),g=it.toCalldata(o.Calldata);He(f.length===g.length,`${n}: Calldata length mismatch at call ${r}. Expected length: ${f.length}, Got length: ${g.length}`);for(let _=0;_<f.length;_+=1){const y=BigInt(f[_]),b=BigInt(g[_]);He(y===b,`${n}: Calldata value mismatch at call ${r}, parameter ${_}. Expected: ${f[_]}, Got: ${g[_]}`)}}}var Z1=(e,t,n,r)=>{if(n.feeMode.mode!=="sponsored"&&(e.type==="invoke"||e.type==="deploy_and_invoke")){const s="calls"in e.typed_data.message?e.typed_data.message.calls:e.typed_data.message.Calls;V1(t,s),XN(s,n.feeMode.gasToken),r&&(He(e.fee.suggested_max_fee_in_gas_token<=r,"Gas token price is too high"),YN(s,e.fee.suggested_max_fee_in_gas_token))}},K1=e=>e.map(t=>({to:t.contractAddress,selector:on(t.entrypoint),calldata:it.toHex(t.calldata)})),W1=e=>e.mode==="sponsored"?{mode:"sponsored"}:{mode:"default",gas_token:e.gasToken},qN=e=>e.mode==="sponsored"?{mode:"sponsored"}:{mode:"default",gasToken:e.gas_token},G1=e=>e?{execute_after:e.executeAfter||1,execute_before:e.executeBefore}:void 0,JN=e=>e?{executeAfter:e.execute_after,executeBefore:e.execute_before}:void 0,Em=e=>({version:e.version,feeMode:qN(e.fee_mode),timeBounds:JN(e.time_bounds)}),vm={headers:{"Content-Type":"application/json"}},Y1=class cI{constructor(t){Z(this,"nodeUrl");Z(this,"headers");Z(this,"baseFetch");Z(this,"requestId");if(t instanceof cI){this.nodeUrl=t.nodeUrl,this.headers={...vm.headers,...t.headers},this.baseFetch=t.baseFetch,this.requestId=t.requestId;return}if(t&&"nodeUrl"in t&&"headers"in t&&"baseFetch"in t){this.nodeUrl=t.nodeUrl??Wf(void 0),this.headers={...vm.headers,...t.headers},this.baseFetch=t.baseFetch??zf,this.requestId=0;return}const{nodeUrl:n,headers:r,baseFetch:s}=t||{};n&&Object.values(Ka).includes(n)?this.nodeUrl=Wf(n,t?.default):n?this.nodeUrl=n:this.nodeUrl=Wf(void 0,t?.default),this.baseFetch=s??zf,this.headers={...vm.headers,...r},this.requestId=0}fetch(t,n,r=0){const s={id:r,jsonrpc:"2.0",method:t,...n&&{params:n}};return this.baseFetch(this.nodeUrl,{method:"POST",body:cr(s),headers:this.headers})}errorHandler(t,n,r,s){if(r)throw new em(r,t,n);if(s instanceof Nn)throw s;if(s)throw Error(s.message)}async fetchEndpoint(t,n){try{this.requestId+=1;const r=await this.fetch(t,n,this.requestId),{error:s,result:o}=await r.json();return this.errorHandler(t,n,s),o}catch(r){throw this.errorHandler(t,n,r?.response?.data,r),r}}async isAvailable(){return this.fetchEndpoint("paymaster_isAvailable")}async buildTransaction(t,n){let r;switch(t.type){case"invoke":r={...t,invoke:{user_address:t.invoke.userAddress,calls:K1(t.invoke.calls)}};break;case"deploy_and_invoke":r={...t,invoke:{user_address:t.invoke.userAddress,calls:K1(t.invoke.calls)}};break;case"deploy":default:r=t;break}const s={version:n.version,fee_mode:W1(n.feeMode),time_bounds:G1(n.timeBounds)},o=await this.fetchEndpoint("paymaster_buildTransaction",{transaction:r,parameters:s}),i={gas_token_price_in_strk:BigInt(o.fee.gas_token_price_in_strk),estimated_fee_in_strk:BigInt(o.fee.estimated_fee_in_strk),estimated_fee_in_gas_token:BigInt(o.fee.estimated_fee_in_gas_token),suggested_max_fee_in_strk:BigInt(o.fee.suggested_max_fee_in_strk),suggested_max_fee_in_gas_token:BigInt(o.fee.suggested_max_fee_in_gas_token)};switch(o.type){case"invoke":return{type:"invoke",typed_data:o.typed_data,parameters:Em(o.parameters),fee:i};case"deploy_and_invoke":return{type:"deploy_and_invoke",deployment:o.deployment,typed_data:o.typed_data,parameters:Em(o.parameters),fee:i};case"deploy":default:return{type:"deploy",deployment:o.deployment,parameters:Em(o.parameters),fee:i}}}async executeTransaction(t,n){let r;switch(t.type){case"invoke":r={...t,invoke:{user_address:t.invoke.userAddress,typed_data:t.invoke.typedData,signature:Os(t.invoke.signature)}};break;case"deploy_and_invoke":r={...t,invoke:{user_address:t.invoke.userAddress,typed_data:t.invoke.typedData,signature:Os(t.invoke.signature)}};break;case"deploy":default:r=t;break}const s={version:n.version,fee_mode:W1(n.feeMode),time_bounds:G1(n.timeBounds)};return this.fetchEndpoint("paymaster_executeTransaction",{transaction:r,parameters:s})}async getSupportedTokens(){return this.fetchEndpoint("paymaster_getSupportedTokens").then(t=>t.map(n=>({token_address:n.token_address,decimals:n.decimals,priceInStrk:BigInt(n.price_in_strk)})))}},KM=class{},QN=new Y1({default:!0}),X1=class{constructor(e,t){Z(this,"address");Z(this,"entryPoint");this.address=e??Du.ADDRESS,this.entryPoint=t??Du.ENTRYPOINT}buildDeployerCall(e,t){const n=[].concat(e).map(r=>{const{classHash:s,salt:o,unique:i=!0,constructorCalldata:c=[],abi:d}=r,f=sc(c,()=>{if(d){const _=new it(d),y=Object.values(c);return _.validate(Vo.DEPLOY,"constructor",y),_.compile("constructor",y)}return it.compile(c)}),g=o??J_();return{call:{contractAddress:Se(this.address),entrypoint:this.entryPoint,calldata:[s,g,wv(i),f.length,...f]},address:el(i?Da(t,g):g,s,f,i?this.address:0)}});return{calls:n.map(r=>r.call),addresses:n.map(r=>r.address)}}parseDeployerEvent(e){if(!e.events?.length)throw new Error("Deployer emitted event is empty");const t=e.events.find(n=>Mu(n.from_address)===Mu(Se(this.address)))||{data:[]};return{transaction_hash:e.transaction_hash,contract_address:t.data[0],address:t.data[0],deployer:t.data[1],unique:t.data[2],classHash:t.data[3],calldata_len:t.data[4],calldata:t.data.slice(5,5+parseInt(t.data[4],16)),salt:t.data[t.data.length-1]}}},WM=class{},e3=new X1(Du.ADDRESS,Du.ENTRYPOINT),GM=new X1(T_.ADDRESS,T_.ENTRYPOINT),q1=class extends D1{constructor(t){const{provider:n,address:r,signer:s,cairoVersion:o,transactionVersion:i,paymaster:c,defaultTipType:d}=t;super(n);Z(this,"signer");Z(this,"address");Z(this,"cairoVersion");Z(this,"transactionVersion");Z(this,"paymaster");Z(this,"deployer");Z(this,"defaultTipType");Z(this,"deploySelf",this.deployAccount);this.address=r.toLowerCase(),this.signer=Ht(s)||s instanceof Uint8Array?new $N(s):s,o&&(this.cairoVersion=o.toString()),this.transactionVersion=i??as.get("transactionVersion"),this.paymaster=c?new Y1(c):QN,this.deployer=t.deployer??e3,this.defaultTipType=d??as.get("defaultTipType"),It.debug("Account setup",{transactionVersion:this.transactionVersion,cairoVersion:this.cairoVersion,channel:this.channel.id})}static async create(){throw new Nn("Not supported")}async getNonce(t){return super.getNonceForAddress(this.address,t)}async getNonceSafe(t){try{return An(t??await this.getNonce())}catch{return 0n}}async getCairoVersion(t){if(!this.cairoVersion){const{cairo:n}=t?await super.getContractVersion(void 0,t):await super.getContractVersion(this.address);this.cairoVersion=n}return this.cairoVersion}async estimateInvokeFee(t,n={}){const r=[{type:Fe.ETransactionType.INVOKE,payload:[t].flat()}];return(await this.estimateFeeBulk(r,n))[0]}async estimateDeclareFee(t,n={}){He(Rs(t.contract),"Declare fee estimation is not supported for Cairo0 contracts");const r=[{type:Fe.ETransactionType.DECLARE,payload:nc(t)}];return(await this.estimateFeeBulk(r,n))[0]}async estimateAccountDeployFee({classHash:t,addressSalt:n=0,constructorCalldata:r=[],contractAddress:s},o={}){const i=it.compile(r),c=s??el(n,t,i,0),d=[{type:Fe.ETransactionType.DEPLOY_ACCOUNT,payload:{classHash:t,constructorCalldata:i,addressSalt:n,contractAddress:c}}];return(await this.estimateFeeBulk(d,o))[0]}async estimateDeployFee(t,n={}){const{calls:r}=this.deployer.buildDeployerCall(t,this.address);return this.estimateInvokeFee(r,n)}async estimateFeeBulk(t,n={}){if(!t.length)throw TypeError("Invocations should be non-empty array");if(n.resourceBounds)return[qv(n.resourceBounds)];const{nonce:r,blockIdentifier:s,version:o,skipValidate:i}=n,c=await this.resolveDetailsWithTip(n),d=await this.accountInvocationsFactory(t,{...ur(c),versions:[sl(Qv(this.transactionVersion)||Uu.F3,o)],nonce:r,blockIdentifier:s,skipValidate:i});return super.getEstimateFeeBulk(d,{blockIdentifier:s,skipValidate:i})}async simulateTransaction(t,n={}){if(!t.length)throw TypeError("Invocations should be non-empty array");const{nonce:r,blockIdentifier:s,skipValidate:o=!0,skipExecute:i,version:c}=n,d=await this.resolveDetailsWithTip(n),f=await this.accountInvocationsFactory(t,{...ur(d),versions:[this.resolveTransactionVersion(c)],nonce:r,blockIdentifier:s,skipValidate:o});return super.getSimulateTransaction(f,{blockIdentifier:s,skipValidate:o,skipExecute:i})}async execute(t,n={}){const r=[t].flat(),s=await this.resolveDetailsWithTip(n),{resourceBounds:o}=n;let i=o;i||(i=(await this.estimateInvokeFee(r,s)).resourceBounds);const d=(await this.accountInvocationsFactory([{type:Fe.ETransactionType.INVOKE,payload:r}],{...ur(s),resourceBounds:i,versions:[this.resolveTransactionVersion(n.version)],nonce:n.nonce,skipValidate:!1}))[0];return this.invokeFunction({contractAddress:d.contractAddress,calldata:d.calldata,signature:d.signature},{...ur(s),resourceBounds:d.resourceBounds,nonce:d.nonce,version:d.version})}async declareIfNot(t,n={}){const r=nc(t);try{await this.getClassByHash(r.classHash)}catch{return this.declare(t,n)}return{transaction_hash:"",class_hash:r.classHash}}async declare(t,n={}){He(Rs(t.contract),ar.declareNonSierra);const r=nc(t),s=await this.resolveDetailsWithTip(n),{resourceBounds:o}=n;let i=o;i||(i=(await this.estimateDeclareFee(t,s)).resourceBounds);const d=(await this.accountInvocationsFactory([{type:Fe.ETransactionType.DECLARE,payload:r}],{...ur(s),resourceBounds:i,versions:[this.resolveTransactionVersion(n.version)],nonce:n.nonce,skipValidate:!1}))[0];return super.declareContract({senderAddress:d.senderAddress,signature:d.signature,contract:d.contract,compiledClassHash:d.compiledClassHash},{...ur(s),nonce:d.nonce,resourceBounds:d.resourceBounds,version:d.version})}async deploy(t,n={}){const{calls:r,addresses:s}=this.deployer.buildDeployerCall(t,this.address);return{...await this.execute(r,n),contract_address:s}}async deployContract(t,n={}){const r=await this.deploy(t,n),s=await this.waitForTransaction(r.transaction_hash,n);return this.deployer.parseDeployerEvent(s)}async declareAndDeploy(t,n={}){let r=await this.declareIfNot(t,n);if(r.transaction_hash!==""){const o=await this.waitForTransaction(r.transaction_hash,n);r={...r,...o}}const s=await this.deployContract({...t,classHash:r.class_hash},n);return{declare:{...r},deploy:s}}async deployAccount({classHash:t,constructorCalldata:n=[],addressSalt:r=0,contractAddress:s},o={}){const i=it.compile(n),c=s??el(r,t,i,0),d=await this.resolveDetailsWithTip(o),{resourceBounds:f}=o;let g=f;g||(g=(await this.estimateAccountDeployFee({classHash:t,constructorCalldata:n,addressSalt:r,contractAddress:c},d)).resourceBounds);const y=(await this.accountInvocationsFactory([{type:Fe.ETransactionType.DEPLOY_ACCOUNT,payload:{classHash:t,constructorCalldata:i,addressSalt:r,contractAddress:c}}],{...ur(d),resourceBounds:g,versions:[this.resolveTransactionVersion(o.version)],nonce:Ts,skipValidate:!1}))[0];return super.deployAccountContract({classHash:y.classHash,addressSalt:y.addressSalt,constructorCalldata:y.constructorCalldata,signature:y.signature},{...ur(d),nonce:y.nonce,resourceBounds:y.resourceBounds,version:y.version})}async signMessage(t){return this.signer.signMessage(t,this.address)}async hashMessage(t){return ea(t,this.address)}async getSnip9Version(){return await wm(this,this.address,iv)?Ga.V2:await wm(this,this.address,ov)?Ga.V1:Ga.UNSUPPORTED}async isValidSnip9Nonce(t){try{const n={contractAddress:this.address,entrypoint:"is_valid_outside_execution_nonce",calldata:[Se(t)]},r=await this.callContract(n);return BigInt(r[0])!==0n}catch(n){throw new Error(`Failed to check if nonce is valid: ${n}`)}}async getSnip9Nonce(){const t=J_();return await this.isValidSnip9Nonce(t)?t:this.getSnip9Nonce()}async getOutsideTransaction(t,n,r,s){if(!Qn(t.caller)&&t.caller!=="ANY_CALLER")throw new Error(`The caller ${t.caller} is not valid.`);const o=Qn(t.caller)?t.caller:sv,i=[n].flat(),c=r??await this.getSnip9Version();if(!c)throw new Error("This account is not handling outside transactions.");const d=s?Se(s):await this.getSnip9Nonce(),f=F1(await this.getChainId(),{caller:o,execute_after:t.execute_after,execute_before:t.execute_before},d,i,c),g=await this.signMessage(f);return{outsideExecution:{caller:o,nonce:d,execute_after:t.execute_after,execute_before:t.execute_before,calls:i.map(bm)},signature:g,signerAddress:this.address,version:c}}async executeFromOutside(t,n){const r=j1(t);return this.execute(r,n)}async resolveDetailsWithTip(t){return{...t,tip:t.tip??(await this.getEstimateTip())[this.defaultTipType]}}resolveTransactionVersion(t){return sl(this.transactionVersion||Uu.V3,t)}async buildInvocation(t,n){const r=oc(t,await this.getCairoVersion()),s=n.skipValidate?[]:await this.signer.signTransaction(t,n);return{...ur(n),contractAddress:this.address,calldata:r,signature:s}}async buildDeclarePayload(t,n){const{classHash:r,contract:s,compiledClassHash:o}=nc(t),i=rm(s);He(!Pn(o)&&(n.version===Uu.F3||n.version===Uu.V3),"V3 Transaction work with Cairo1 Contracts and require compiledClassHash");const c=n.skipValidate?[]:await this.signer.signDeclareTransaction({...n,...ur(n),classHash:r,compiledClassHash:o,senderAddress:n.walletAddress});return{senderAddress:n.walletAddress,signature:c,contract:i,compiledClassHash:o}}async buildAccountDeployPayload({classHash:t,addressSalt:n=0,constructorCalldata:r=[],contractAddress:s},o){const i=it.compile(r),c=s??el(n,t,i,0),d=o.skipValidate?[]:await this.signer.signDeployAccountTransaction({...o,...ur(o),classHash:t,contractAddress:c,addressSalt:n,constructorCalldata:i});return{...ur(o),classHash:t,addressSalt:n,constructorCalldata:i,signature:d}}async accountInvocationsFactory(t,n){const{nonce:r,blockIdentifier:s,skipValidate:o=!0}=n,i=await this.getNonceSafe(r),c=await this.getChainId(),d=n.versions.map(_=>sl(_)),f="payload"in t[0]?t[0].payload:t[0],g=t[0].type===Fe.ETransactionType.DEPLOY_ACCOUNT?await this.getCairoVersion(f.classHash):await this.getCairoVersion();return Promise.all([].concat(t).map(async(_,y)=>{const b="payload"in _?_.payload:_,k={...ur(n),walletAddress:this.address,nonce:An(Number(i)+y),chainId:c,cairoVersion:g,version:d[0],skipValidate:o},B={type:_.type,nonce:An(Number(i)+y),blockIdentifier:s,version:d[0]};if(_.type===Fe.ETransactionType.INVOKE){const z=await this.buildInvocation([].concat(b),k);return{...B,...z,...k}}if(_.type===Fe.ETransactionType.DEPLOY){const{calls:z}=this.deployer.buildDeployerCall(b,this.address),K=await this.buildInvocation(z,k);return{...B,...K,...k,type:Fe.ETransactionType.INVOKE}}if(_.type===Fe.ETransactionType.DECLARE){He(Rs(b.contract),"Declare fee estimation is not supported for Cairo0 contracts");const z=await this.buildDeclarePayload(b,k);return{...B,...z,...k}}if(_.type===Fe.ETransactionType.DEPLOY_ACCOUNT){const z=await this.buildAccountDeployPayload(b,k);return{...B,...z,...k}}throw Error(`accountInvocationsFactory: unsupported transaction type: ${_}`)}))}async buildPaymasterTransaction(t,n){if(!n.deploymentData&&await this.getSnip9Version()===Ga.UNSUPPORTED)throw Error("Account is not compatible with SNIP-9");const r={version:"0x1",feeMode:n.feeMode,timeBounds:n.timeBounds};let s;return n.deploymentData?t.length>0?s={type:"deploy_and_invoke",invoke:{userAddress:this.address,calls:t},deployment:n.deploymentData}:s={type:"deploy",deployment:n.deploymentData}:s={type:"invoke",invoke:{userAddress:this.address,calls:t}},this.paymaster.buildTransaction(s,r)}async estimatePaymasterTransactionFee(t,n){return(await this.buildPaymasterTransaction(t,n)).fee}async preparePaymasterTransaction(t){let n;switch(t.type){case"deploy_and_invoke":{const r=await this.signMessage(t.typed_data);n={type:"deploy_and_invoke",invoke:{userAddress:this.address,typedData:t.typed_data,signature:Os(r)},deployment:t.deployment};break}case"invoke":{const r=await this.signMessage(t.typed_data);n={type:"invoke",invoke:{userAddress:this.address,typedData:t.typed_data,signature:Os(r)}};break}case"deploy":{n={type:"deploy",deployment:t.deployment};break}default:throw Error("Invalid transaction type")}return n}async executePaymasterTransaction(t,n,r){const s=await this.buildPaymasterTransaction(t,n);Z1(s,t,n,r);const o=await this.preparePaymasterTransaction(s);return this.paymaster.executeTransaction(o,s.parameters).then(i=>({transaction_hash:i.transaction_hash}))}async getStarkName(t=this.address,n){return super.getStarkName(t,n)}},YM=class extends null{},t3={};Rt(t3,{addDeclareTransaction:()=>rA,addInvokeTransaction:()=>nA,addStarknetChain:()=>eA,deploymentData:()=>r3,getPermissions:()=>J1,onAccountChange:()=>oA,onNetworkChanged:()=>iA,requestAccounts:()=>Am,requestChainId:()=>n3,signMessage:()=>sA,supportedSpecs:()=>s3,switchStarknetChain:()=>tA,watchAsset:()=>Q1});function Am(e,t=!1){return e.request({type:"wallet_requestAccounts",params:{silent_mode:t}})}function J1(e){return e.request({type:"wallet_getPermissions"})}function Q1(e,t){return e.request({type:"wallet_watchAsset",params:t})}function eA(e,t){return e.request({type:"wallet_addStarknetChain",params:t})}function tA(e,t){return e.request({type:"wallet_switchStarknetChain",params:{chainId:t}})}function n3(e){return e.request({type:"wallet_requestChainId"})}function r3(e){return e.request({type:"wallet_deploymentData"})}function nA(e,t){return e.request({type:"wallet_addInvokeTransaction",params:t})}function rA(e,t){return e.request({type:"wallet_addDeclareTransaction",params:t})}function sA(e,t){return e.request({type:"wallet_signTypedData",params:t})}function s3(e){return e.request({type:"wallet_supportedSpecs"})}function oA(e,t){e.on("accountsChanged",t)}function iA(e,t){e.on("networkChanged",t)}var XM=class Ky extends q1{constructor(n){super({...n,signer:""});Z(this,"walletProvider");this.walletProvider=n.walletProvider,this.walletProvider.on("accountsChanged",r=>{r&&(this.address=r[0].toLowerCase())}),this.walletProvider.on("networkChanged",r=>{r&&this.channel.setChainId(r)})}onAccountChange(n){oA(this.walletProvider,n)}onNetworkChanged(n){iA(this.walletProvider,n)}requestAccounts(n=!1){return Am(this.walletProvider,n)}getPermissions(){return J1(this.walletProvider)}switchStarknetChain(n){return tA(this.walletProvider,n)}watchAsset(n){return Q1(this.walletProvider,n)}addStarknetChain(n){return eA(this.walletProvider,n)}execute(n){const s={calls:[].concat(n).map(o=>{const{contractAddress:i,entrypoint:c,calldata:d}=o;return{contract_address:i,entry_point:c,calldata:d}})};return nA(this.walletProvider,s)}declare(n){const r=nc(n),s=n.contract,o={...s,abi:cr(s.abi)};if(!r.compiledClassHash)throw Error("compiledClassHash is required");const i={compiled_class_hash:r.compiledClassHash,contract_class:o};return rA(this.walletProvider,i)}async deploy(n){const{calls:r,addresses:s}=this.deployer.buildDeployerCall(n,this.address);return{...await this.execute(r),contract_address:s}}signMessage(n){return sA(this.walletProvider,n)}static async connect(n,r,s,o,i=!1){const[c]=await Am(r,i);return new Ky({provider:n,walletProvider:r,address:c,cairoVersion:s,paymaster:o})}static async connectSilent(n,r,s,o){return Ky.connect(n,r,s,o,!0)}},o3={};Rt(o3,{getAbiEvents:()=>xm,isAbiEvent:()=>Tm,parseEvents:()=>cA});function Tm(e){return e.type==="event"}function i3(e){return e.filter(t=>t.type==="event").reduce((t,n)=>{const r=n.name,s={...n};return s.name=r,{...t,[st(Do(Hi(r)).toString(16))]:s}},{})}function a3(e){const t=e.filter(s=>Tm(s)&&s.kind==="struct"),n=e.filter(s=>Tm(s)&&s.kind==="enum");return t.reduce((s,o)=>{let i=[],{name:c}=o,d=!1;const f=y=>y.type===c;for(;;){const y=n.find(k=>k.variants.some(f));if(Pn(y))break;const b=y.variants.find(f);i.unshift(b.name),b.kind==="flat"&&(d=!0),c=y.name}if(i.length===0)throw new Error("inconsistency in ABI events definition.");d&&(i=[i[i.length-1]]);const g=i.pop();let _={[st(Do(Hi(g)).toString(16))]:o};for(;i.length>0;)_={[st(Do(Hi(i.pop())).toString(16))]:_};return _={..._},aA(s,_)},{})}function xm(e){return $_(e)?a3(e):i3(e)}function aA(e,t){const n={...e};return Jn(e)&&Jn(t)&&Object.keys(t).forEach(r=>{Jn(t[r])?r in e?n[r]=aA(e[r],t[r]):Object.assign(n,{[r]:t[r]}):Object.assign(n,{[r]:t[r]})}),n}function cA(e,t,n,r){return e.flat().reduce((o,i)=>{const c=JSON.parse(JSON.stringify(i));let d=t[c.keys.shift()??0];if(!d)return o;for(;!d.name;){const k=c.keys.shift();He(!!k,'Not enough data in "keys" property of this event.'),d=d[k]}const f={};f[d.name]={};const g=c.keys[Symbol.iterator](),_=c.data[Symbol.iterator](),y=d.members?.filter(k=>k.kind==="key")||d.keys,b=d.members?.filter(k=>k.kind==="data")||d.data;return y.forEach(k=>{f[d.name][k.name]=Nf(g,k,n,r,f[d.name])}),b.forEach(k=>{f[d.name][k.name]=Nf(_,k,n,r,f[d.name])}),"block_hash"in c&&(f.block_hash=c.block_hash),"block_number"in c&&(f.block_number=c.block_number),"transaction_hash"in c&&(f.transaction_hash=c.transaction_hash),o.push(f),o},[])}function uA(e,t){return async function(...n){const r={...e.withOptionsProps};return e.withOptionsProps=void 0,e.call(t.name,n,{parseRequest:!0,parseResponse:!0,...r})}}function c3(e,t){return async function(...n){const r={...e.withOptionsProps};return e.withOptionsProps=void 0,e.invoke(t.name,n,{parseRequest:!0,...r})}}function lA(e,t){return t.stateMutability==="view"||t.state_mutability==="view"?uA(e,t):c3(e,t)}function u3(e,t){return function(...n){return e.populate(t.name,n)}}function l3(e,t){return function(...n){const r={...e.withOptionsProps};return e.withOptionsProps=void 0,e.estimate(t.name,n,r)}}var qM=class uI{constructor(t){Z(this,"abi");Z(this,"address");Z(this,"providerOrAccount");Z(this,"classHash");Z(this,"structs");Z(this,"events");Z(this,"functions");Z(this,"callStatic");Z(this,"populateTransaction");Z(this,"estimateFee");Z(this,"callData");Z(this,"withOptionsProps");const n=j_(t.abi);this.address=t.address&&t.address.toLowerCase(),this.abi=n.getLegacyFormat(),this.providerOrAccount=t.providerOrAccount??L1,this.classHash=t.classHash,this.callData=new it(t.abi),this.structs=it.getAbiStruct(t.abi),this.events=xm(t.abi);const r={enumerable:!0,value:{},writable:!1};Object.defineProperties(this,{functions:{enumerable:!0,value:{},writable:!1},callStatic:{enumerable:!0,value:{},writable:!1},populateTransaction:{enumerable:!0,value:{},writable:!1},estimateFee:{enumerable:!0,value:{},writable:!1}}),this.abi.forEach(s=>{if(s.type!=="function")return;const o=s.name;this[o]||Object.defineProperty(this,o,{...r,value:lA(this,s)}),this.functions[o]||Object.defineProperty(this.functions,o,{...r,value:lA(this,s)}),this.callStatic[o]||Object.defineProperty(this.callStatic,o,{...r,value:uA(this,s)}),this.populateTransaction[o]||Object.defineProperty(this.populateTransaction,o,{...r,value:u3(this,s)}),this.estimateFee[o]||Object.defineProperty(this.estimateFee,o,{...r,value:l3(this,s)})})}withOptions(t){return this.withOptionsProps=t,this}attach(t,n){this.address=t,n&&(this.abi=j_(n).getLegacyFormat(),this.callData=new it(n),this.structs=it.getAbiStruct(n),this.events=xm(n))}async isDeployed(){try{await this.providerOrAccount.getClassHashAt(this.address)}catch(t){const n=t instanceof Error?t.message:String(t);throw new Error(`Contract not deployed at address ${this.address}: ${n}`)}return this}async call(t,n=[],{parseRequest:r=!0,parseResponse:s=!0,formatResponse:o=void 0,blockIdentifier:i=void 0}={}){He(this.address!==null,"contract is not connected to an address");const c=sc(n,()=>r?(this.callData.validate(Vo.CALL,t,n),this.callData.compile(t,n)):(It.warn("Call skipped parsing but provided rawArgs, possible malfunction request"),n));return this.providerOrAccount.callContract({contractAddress:this.address,calldata:c,entrypoint:t},i).then(d=>s?o?this.callData.format(t,d,o):this.callData.parse(t,d):d)}invoke(t,n=[],{parseRequest:r=!0,signature:s,...o}={}){He(this.address!==null,"contract is not connected to an address");const i=sc(n,()=>r?(this.callData.validate(Vo.INVOKE,t,n),this.callData.compile(t,n)):(It.warn("Invoke skipped parsing but provided rawArgs, possible malfunction request"),n)),c={contractAddress:this.address,calldata:i,entrypoint:t};if(hv(this.providerOrAccount))return this.providerOrAccount.execute(c,{...o});if(!o.nonce)throw new Error("Manual nonce is required when invoking a function without an account");return It.warn(`Invoking ${t} without an account.`),this.providerOrAccount.invokeFunction({...c,signature:s},{...o,nonce:o.nonce})}async estimate(t,n=[],r={}){He(this.address!==null,"contract is not connected to an address"),sc(n,()=>!1)||this.callData.validate(Vo.INVOKE,t,n);const s=this.populate(t,n);if(hv(this.providerOrAccount))return this.providerOrAccount.estimateInvokeFee(s,r);throw Error("Contract must be connected to the account contract to estimate")}populate(t,n=[]){const r=sc(n,()=>this.callData.compile(t,n));return{contractAddress:this.address,entrypoint:t,calldata:r}}parseEvents(t){let n;return t.match({success:r=>{const s=r.events?.map(o=>({block_hash:r.block_hash,block_number:r.block_number,transaction_hash:r.transaction_hash,...o})).filter(o=>Mu(o.from_address)===Mu(this.address),[])||[];n=cA(s,this.events,this.structs,it.getAbiEnum(this.abi))},_:()=>{throw Error("This transaction was not successful.")}}),n}isCairo1(){return Tv.isCairo1Abi(this.abi)}async getVersion(){return this.providerOrAccount.getContractVersion(this.address)}typedv2(t){return this}static async factory(t,n={}){const{account:r,parseRequest:s=!0}=t;let o,i,c;if("classHash"in t&&t.classHash&&!("contract"in t)){const d=t;i=d.classHash.toString(),d.abi?o=d.abi:o=(await r.getClass(i)).abi,c=(await r.deployContract({classHash:i,constructorCalldata:d.constructorCalldata,salt:d.salt,unique:d.unique,abi:s?o:void 0},n)).contract_address}else{const d=t,f=rm(d.contract);o=d.abi?d.abi:r1(f);const{declare:{class_hash:g},deploy:{contract_address:_}}=await r.declareAndDeploy({...d,abi:s?o:void 0},n);i=g.toString(),c=_}return He(!!c,"Deployment of the contract failed"),new uI({abi:o,address:c,providerOrAccount:r,classHash:i})}},JM=class{constructor(){Z(this,"functions");Z(this,"callStatic");Z(this,"populateTransaction");Z(this,"estimateFee")}},QM=class{};function e7(e,t="fri"){if(t==="strk"){let s="";Ss(e)?s=e.toString():Ht(e)&&(Qn(e)?s=BigInt(e).toString():s=e);const[o,i="0"]=s.split("."),c=i.padEnd(18,"0");return`${o}${c}`.replace(/\b0+/g,"")}const n=BigInt(e).toString();let r;return n.length<=18?r=`0.${n.padStart(18,"0")}`:r=`${n.slice(0,n.length-18)}.${n.slice(n.length-18)}`,r.replace(/(\.[0-9]*[1-9])0+$|\.0*$/,"$1")}var t7=Fe.TypedDataRevision,d3=Be(15427);const et=e=>typeof e=="string",dl=()=>{let e,t;const n=new Promise((r,s)=>{e=r,t=s});return n.resolve=e,n.reject=t,n},dA=e=>e==null?"":""+e,f3=(e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},h3=/###/g,fA=e=>e&&e.indexOf("###")>-1?e.replace(h3,"."):e,hA=e=>!e||et(e),fl=(e,t,n)=>{const r=et(t)?t.split("."):t;let s=0;for(;s<r.length-1;){if(hA(e))return{};const o=fA(r[s]);!e[o]&&n&&(e[o]=new n),Object.prototype.hasOwnProperty.call(e,o)?e=e[o]:e={},++s}return hA(e)?{}:{obj:e,k:fA(r[s])}},pA=(e,t,n)=>{const{obj:r,k:s}=fl(e,t,Object);if(r!==void 0||t.length===1){r[s]=n;return}let o=t[t.length-1],i=t.slice(0,t.length-1),c=fl(e,i,Object);for(;c.obj===void 0&&i.length;)o=`${i[i.length-1]}.${o}`,i=i.slice(0,i.length-1),c=fl(e,i,Object),c?.obj&&typeof c.obj[`${c.k}.${o}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${o}`]=n},p3=(e,t,n,r)=>{const{obj:s,k:o}=fl(e,t,Object);s[o]=s[o]||[],s[o].push(n)},Gf=(e,t)=>{const{obj:n,k:r}=fl(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},g3=(e,t,n)=>{const r=Gf(e,n);return r!==void 0?r:Gf(t,n)},gA=(e,t,n)=>{for(const r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?et(e[r])||e[r]instanceof String||et(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):gA(e[r],t[r],n):e[r]=t[r]);return e},ac=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var _3={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const m3=e=>et(e)?e.replace(/[&<>"'\/]/g,t=>_3[t]):e;class y3{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}}const b3=[" ",",","?","!",";"],w3=new y3(20),E3=(e,t,n)=>{t=t||"",n=n||"";const r=b3.filter(i=>t.indexOf(i)<0&&n.indexOf(i)<0);if(r.length===0)return!0;const s=w3.getRegExp(`(${r.map(i=>i==="?"?"\\?":i).join("|")})`);let o=!s.test(e);if(!o){const i=e.indexOf(n);i>0&&!s.test(e.substring(0,i))&&(o=!0)}return o},Sm=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const r=t.split(n);let s=e;for(let o=0;o<r.length;){if(!s||typeof s!="object")return;let i,c="";for(let d=o;d<r.length;++d)if(d!==o&&(c+=n),c+=r[d],i=s[c],i!==void 0){if(["string","number","boolean"].indexOf(typeof i)>-1&&d<r.length-1)continue;o+=d-o+1;break}s=i}return s},Yf=e=>e?.replace("_","-"),v3={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class Xf{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(t,n)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||v3,this.options=n,this.debug=n.debug}log(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,s){return s&&!this.debug?null:(et(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Xf(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Xf(this.logger,t)}}var Ds=new Xf;class qf{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(n)||0;this.observers[r].set(n,s+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];this.observers[t]&&Array.from(this.observers[t].entries()).forEach(i=>{let[c,d]=i;for(let f=0;f<d;f++)c(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(i=>{let[c,d]=i;for(let f=0;f<d;f++)c.apply(c,[t,...r])})}}class _A extends qf{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,i=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;t.indexOf(".")>-1?c=t.split("."):(c=[t,n],r&&(Array.isArray(r)?c.push(...r):et(r)&&o?c.push(...r.split(o)):c.push(r)));const d=Gf(this.data,c);return!d&&!n&&!r&&t.indexOf(".")>-1&&(t=c[0],n=c[1],r=c.slice(2).join(".")),d||!i||!et(r)?d:Sm(this.data?.[t]?.[n],r,o)}addResource(t,n,r,s){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const i=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let c=[t,n];r&&(c=c.concat(i?r.split(i):r)),t.indexOf(".")>-1&&(c=t.split("."),s=n,n=c[1]),this.addNamespaces(n),pA(this.data,c,s),o.silent||this.emit("added",t,n,r,s)}addResources(t,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const o in r)(et(r[o])||Array.isArray(r[o]))&&this.addResource(t,n,o,r[o],{silent:!0});s.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,s,o){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},c=[t,n];t.indexOf(".")>-1&&(c=t.split("."),s=r,r=n,n=c[1]),this.addNamespaces(n);let d=Gf(this.data,c)||{};i.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?gA(d,r,o):d={...d,...r},pA(this.data,c,d),i.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(s=>n[s]&&Object.keys(n[s]).length>0)}toJSON(){return this.data}}var mA={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,s){return e.forEach(o=>{t=this.processors[o]?.process(t,n,r,s)??t}),t}};const yA={},bA=e=>!et(e)&&typeof e!="boolean"&&typeof e!="number";class Jf extends qf{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),f3(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ds.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};return t==null?!1:this.resolve(t,n)?.res!==void 0}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let o=n.ns||this.options.defaultNS||[];const i=r&&t.indexOf(r)>-1,c=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!E3(t,r,s);if(i&&!c){const d=t.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:t,namespaces:et(o)?[o]:o};const f=t.split(r);(r!==s||r===s&&this.options.ns.indexOf(f[0])>-1)&&(o=f.shift()),t=f.join(s)}return{key:t,namespaces:et(o)?[o]:o}}translate(t,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(n={...n}),n||(n={}),t==null)return"";Array.isArray(t)||(t=[String(t)]);const s=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:i,namespaces:c}=this.extractFromKey(t[t.length-1],n),d=c[c.length-1],f=n.lng||this.language,g=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f?.toLowerCase()==="cimode"){if(g){const _e=n.nsSeparator||this.options.nsSeparator;return s?{res:`${d}${_e}${i}`,usedKey:i,exactUsedKey:i,usedLng:f,usedNS:d,usedParams:this.getUsedParamsDetails(n)}:`${d}${_e}${i}`}return s?{res:i,usedKey:i,exactUsedKey:i,usedLng:f,usedNS:d,usedParams:this.getUsedParamsDetails(n)}:i}const _=this.resolve(t,n);let y=_?.res;const b=_?.usedKey||i,k=_?.exactUsedKey||i,B=["[object Number]","[object Function]","[object RegExp]"],z=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,K=!this.i18nFormat||this.i18nFormat.handleAsObject,J=n.count!==void 0&&!et(n.count),q=Jf.hasDefaultValue(n),ee=J?this.pluralResolver.getSuffix(f,n.count,n):"",be=n.ordinal&&J?this.pluralResolver.getSuffix(f,n.count,{ordinal:!1}):"",fe=J&&!n.ordinal&&n.count===0,ne=fe&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${ee}`]||n[`defaultValue${be}`]||n.defaultValue;let pe=y;K&&!y&&q&&(pe=ne);const xe=bA(pe),Ie=Object.prototype.toString.apply(pe);if(K&&pe&&xe&&B.indexOf(Ie)<0&&!(et(z)&&Array.isArray(pe))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const _e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,pe,{...n,ns:c}):`key '${i} (${this.language})' returned an object instead of string.`;return s?(_.res=_e,_.usedParams=this.getUsedParamsDetails(n),_):_e}if(o){const _e=Array.isArray(pe),Me=_e?[]:{},Ge=_e?k:b;for(const le in pe)if(Object.prototype.hasOwnProperty.call(pe,le)){const ie=`${Ge}${o}${le}`;q&&!y?Me[le]=this.translate(ie,{...n,defaultValue:bA(ne)?ne[le]:void 0,joinArrays:!1,ns:c}):Me[le]=this.translate(ie,{...n,joinArrays:!1,ns:c}),Me[le]===ie&&(Me[le]=pe[le])}y=Me}}else if(K&&et(z)&&Array.isArray(y))y=y.join(z),y&&(y=this.extendTranslation(y,t,n,r));else{let _e=!1,Me=!1;!this.isValidLookup(y)&&q&&(_e=!0,y=ne),this.isValidLookup(y)||(Me=!0,y=i);const le=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Me?void 0:y,ie=q&&ne!==y&&this.options.updateMissing;if(Me||_e||ie){if(this.logger.log(ie?"updateKey":"missingKey",f,d,i,ie?ne:y),o){const Ke=this.resolve(i,{...n,keySeparator:!1});Ke&&Ke.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let me=[];const Ne=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ne&&Ne[0])for(let Ke=0;Ke<Ne.length;Ke++)me.push(Ne[Ke]);else this.options.saveMissingTo==="all"?me=this.languageUtils.toResolveHierarchy(n.lng||this.language):me.push(n.lng||this.language);const Ve=(Ke,ot,pt)=>{const Ft=q&&pt!==y?pt:le;this.options.missingKeyHandler?this.options.missingKeyHandler(Ke,d,ot,Ft,ie,n):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(Ke,d,ot,Ft,ie,n),this.emit("missingKey",Ke,d,ot,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&J?me.forEach(Ke=>{const ot=this.pluralResolver.getSuffixes(Ke,n);fe&&n[`defaultValue${this.options.pluralSeparator}zero`]&&ot.indexOf(`${this.options.pluralSeparator}zero`)<0&&ot.push(`${this.options.pluralSeparator}zero`),ot.forEach(pt=>{Ve([Ke],i+pt,n[`defaultValue${pt}`]||ne)})}):Ve(me,i,ne))}y=this.extendTranslation(y,t,n,_,r),Me&&y===i&&this.options.appendNamespaceToMissingKey&&(y=`${d}:${i}`),(Me||_e)&&this.options.parseMissingKeyHandler&&(y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}:${i}`:i,_e?y:void 0))}return s?(_.res=y,_.usedParams=this.getUsedParamsDetails(n),_):y}extendTranslation(t,n,r,s,o){var i=this;if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const f=et(t)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(f){const y=t.match(this.interpolator.nestingRegexp);g=y&&y.length}let _=r.replace&&!et(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(_={...this.options.interpolation.defaultVariables,..._}),t=this.interpolator.interpolate(t,_,r.lng||this.language||s.usedLng,r),f){const y=t.match(this.interpolator.nestingRegexp),b=y&&y.length;g<b&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,function(){for(var y=arguments.length,b=new Array(y),k=0;k<y;k++)b[k]=arguments[k];return o?.[0]===b[0]&&!r.context?(i.logger.warn(`It seems you are nesting recursively key: ${b[0]} in key: ${n[0]}`),null):i.translate(...b,n)},r)),r.interpolation&&this.interpolator.reset()}const c=r.postProcess||this.options.postProcess,d=et(c)?[c]:c;return t!=null&&d?.length&&r.applyPostProcessor!==!1&&(t=mA.handle(d,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,s,o,i,c;return et(t)&&(t=[t]),t.forEach(d=>{if(this.isValidLookup(r))return;const f=this.extractFromKey(d,n),g=f.key;s=g;let _=f.namespaces;this.options.fallbackNS&&(_=_.concat(this.options.fallbackNS));const y=n.count!==void 0&&!et(n.count),b=y&&!n.ordinal&&n.count===0,k=n.context!==void 0&&(et(n.context)||typeof n.context=="number")&&n.context!=="",B=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);_.forEach(z=>{this.isValidLookup(r)||(c=z,!yA[`${B[0]}-${z}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(c)&&(yA[`${B[0]}-${z}`]=!0,this.logger.warn(`key "${s}" for languages "${B.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),B.forEach(K=>{if(this.isValidLookup(r))return;i=K;const J=[g];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(J,g,K,z,n);else{let ee;y&&(ee=this.pluralResolver.getSuffix(K,n.count,n));const be=`${this.options.pluralSeparator}zero`,fe=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(J.push(g+ee),n.ordinal&&ee.indexOf(fe)===0&&J.push(g+ee.replace(fe,this.options.pluralSeparator)),b&&J.push(g+be)),k){const ne=`${g}${this.options.contextSeparator}${n.context}`;J.push(ne),y&&(J.push(ne+ee),n.ordinal&&ee.indexOf(fe)===0&&J.push(ne+ee.replace(fe,this.options.pluralSeparator)),b&&J.push(ne+be))}}let q;for(;q=J.pop();)this.isValidLookup(r)||(o=q,r=this.getResource(K,z,q,n))}))})}),{res:r,usedKey:s,exactUsedKey:o,usedLng:i,usedNS:c}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,n,r,s):this.resourceStore.getResource(t,n,r,s)}getUsedParamsDetails(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!et(t.replace);let s=r?t.replace:t;if(r&&typeof t.count<"u"&&(s.count=t.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const o of n)delete s[o]}return s}static hasDefaultValue(t){const n="defaultValue";for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}}class wA{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ds.create("languageUtils")}getScriptPartFromCode(t){if(t=Yf(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=Yf(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(et(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(n=s)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return n=s;const o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(i=>{if(i===o)return i;if(!(i.indexOf("-")<0&&o.indexOf("-")<0)&&(i.indexOf("-")>0&&o.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===o||i.indexOf(o)===0&&o.length>1))return i})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),et(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],t),s=[],o=i=>{i&&(this.isSupportedCode(i)?s.push(i):this.logger.warn(`rejecting language code not found in supportedLngs: ${i}`))};return et(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):et(t)&&o(this.formatLanguageCode(t)),r.forEach(i=>{s.indexOf(i)<0&&o(this.formatLanguageCode(i))}),s}}const EA={zero:0,one:1,two:2,few:3,many:4,other:5},vA={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class A3{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=t,this.options=n,this.logger=Ds.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=Yf(t==="dev"?"en":t),s=n.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:r,type:s});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let i;try{i=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),vA;if(!t.match(/-|_/))return vA;const d=this.languageUtils.getLanguagePartFromCode(t);i=this.getRule(d,n)}return this.pluralRulesCache[o]=i,i}needsPlural(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(s=>`${n}${s}`)}getSuffixes(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((s,o)=>EA[s]-EA[o]).map(s=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=this.getRule(t,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,r))}}const AA=function(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=g3(e,t,n);return!o&&s&&et(n)&&(o=Sm(e,n,r),o===void 0&&(o=Sm(t,n,r))),o},Cm=e=>e.replace(/\$/g,"$$$$");class T3{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ds.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(n=>n),this.init(t)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:s,prefix:o,prefixEscaped:i,suffix:c,suffixEscaped:d,formatSeparator:f,unescapeSuffix:g,unescapePrefix:_,nestingPrefix:y,nestingPrefixEscaped:b,nestingSuffix:k,nestingSuffixEscaped:B,nestingOptionsSeparator:z,maxReplaces:K,alwaysFormat:J}=t.interpolation;this.escape=n!==void 0?n:m3,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=o?ac(o):i||"{{",this.suffix=c?ac(c):d||"}}",this.formatSeparator=f||",",this.unescapePrefix=g?"":_||"-",this.unescapeSuffix=this.unescapePrefix?"":g||"",this.nestingPrefix=y?ac(y):b||ac("$t("),this.nestingSuffix=k?ac(k):B||ac(")"),this.nestingOptionsSeparator=z||",",this.maxReplaces=K||1e3,this.alwaysFormat=J!==void 0?J:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(t,n,r,s){let o,i,c;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},f=b=>{if(b.indexOf(this.formatSeparator)<0){const K=AA(n,d,b,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(K,void 0,r,{...s,...n,interpolationkey:b}):K}const k=b.split(this.formatSeparator),B=k.shift().trim(),z=k.join(this.formatSeparator).trim();return this.format(AA(n,d,B,this.options.keySeparator,this.options.ignoreJSONStructure),z,r,{...s,...n,interpolationkey:B})};this.resetRegExp();const g=s?.missingInterpolationHandler||this.options.missingInterpolationHandler,_=s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:b=>Cm(b)},{regex:this.regexp,safeValue:b=>this.escapeValue?Cm(this.escape(b)):Cm(b)}].forEach(b=>{for(c=0;o=b.regex.exec(t);){const k=o[1].trim();if(i=f(k),i===void 0)if(typeof g=="function"){const z=g(t,o,s);i=et(z)?z:""}else if(s&&Object.prototype.hasOwnProperty.call(s,k))i="";else if(_){i=o[0];continue}else this.logger.warn(`missed to pass in variable ${k} for interpolating ${t}`),i="";else!et(i)&&!this.useRawValueToEscape&&(i=dA(i));const B=b.safeValue(i);if(t=t.replace(o[0],B),_?(b.regex.lastIndex+=i.length,b.regex.lastIndex-=o[0].length):b.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),t}nest(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,o,i;const c=(d,f)=>{const g=this.nestingOptionsSeparator;if(d.indexOf(g)<0)return d;const _=d.split(new RegExp(`${g}[ ]*{`));let y=`{${_[1]}`;d=_[0],y=this.interpolate(y,i);const b=y.match(/'/g),k=y.match(/"/g);((b?.length??0)%2===0&&!k||k.length%2!==0)&&(y=y.replace(/'/g,'"'));try{i=JSON.parse(y),f&&(i={...f,...i})}catch(B){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,B),`${d}${g}${y}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,d};for(;s=this.nestingRegexp.exec(t);){let d=[];i={...r},i=i.replace&&!et(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;let f=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const g=s[1].split(this.formatSeparator).map(_=>_.trim());s[1]=g.shift(),d=g,f=!0}if(o=n(c.call(this,s[1].trim(),i),i),o&&s[0]===t&&!et(o))return o;et(o)||(o=dA(o)),o||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${t}`),o=""),f&&(o=d.reduce((g,_)=>this.format(g,_,r.lng,{...r,interpolationkey:s[1].trim()}),o.trim())),t=t.replace(s[0],o),this.regexp.lastIndex=0}return t}}const x3=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);t==="currency"&&s.indexOf(":")<0?n.currency||(n.currency=s.trim()):t==="relativetime"&&s.indexOf(":")<0?n.range||(n.range=s.trim()):s.split(";").forEach(i=>{if(i){const[c,...d]=i.split(":"),f=d.join(":").trim().replace(/^'+|'+$/g,""),g=c.trim();n[g]||(n[g]=f),f==="false"&&(n[g]=!1),f==="true"&&(n[g]=!0),isNaN(f)||(n[g]=parseInt(f,10))}})}return{formatName:t,formatOptions:n}},cc=e=>{const t={};return(n,r,s)=>{let o=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(o={...o,[s.interpolationkey]:void 0});const i=r+JSON.stringify(o);let c=t[i];return c||(c=e(Yf(r),s),t[i]=c),c(n)}};class S3{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ds.create("formatter"),this.options=t,this.formats={number:cc((n,r)=>{const s=new Intl.NumberFormat(n,{...r});return o=>s.format(o)}),currency:cc((n,r)=>{const s=new Intl.NumberFormat(n,{...r,style:"currency"});return o=>s.format(o)}),datetime:cc((n,r)=>{const s=new Intl.DateTimeFormat(n,{...r});return o=>s.format(o)}),relativetime:cc((n,r)=>{const s=new Intl.RelativeTimeFormat(n,{...r});return o=>s.format(o,r.range||"day")}),list:cc((n,r)=>{const s=new Intl.ListFormat(n,{...r});return o=>s.format(o)})},this.init(t)}init(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=n.interpolation.formatSeparator||","}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=cc(n)}format(t,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=n.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(c=>c.indexOf(")")>-1)){const c=o.findIndex(d=>d.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,c)].join(this.formatSeparator)}return o.reduce((c,d)=>{const{formatName:f,formatOptions:g}=x3(d);if(this.formats[f]){let _=c;try{const y=s?.formatParams?.[s.interpolationkey]||{},b=y.locale||y.lng||s.locale||s.lng||r;_=this.formats[f](c,b,{...g,...s,...y})}catch(y){this.logger.warn(y)}return _}else this.logger.warn(`there was no format function for ${f}`);return c},t)}}const C3=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class I3 extends qf{constructor(t,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=Ds.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,s.backend,s)}queueLoad(t,n,r,s){const o={},i={},c={},d={};return t.forEach(f=>{let g=!0;n.forEach(_=>{const y=`${f}|${_}`;!r.reload&&this.store.hasResourceBundle(f,_)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?i[y]===void 0&&(i[y]=!0):(this.state[y]=1,g=!1,i[y]===void 0&&(i[y]=!0),o[y]===void 0&&(o[y]=!0),d[_]===void 0&&(d[_]=!0)))}),g||(c[f]=!0)}),(Object.keys(o).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(o),pending:Object.keys(i),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(d)}}loaded(t,n,r){const s=t.split("|"),o=s[0],i=s[1];n&&this.emit("failedLoading",o,i,n),!n&&r&&this.store.addResourceBundle(o,i,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);const c={};this.queue.forEach(d=>{p3(d.loaded,[o],i),C3(d,t),n&&d.errors.push(n),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(f=>{c[f]||(c[f]={});const g=d.loaded[f];g.length&&g.forEach(_=>{c[f][_]===void 0&&(c[f][_]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(d=>!d.done)}read(t,n,r){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;if(!t.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:s,wait:o,callback:i});return}this.readingCalls++;const c=(f,g)=>{if(this.readingCalls--,this.waitingReads.length>0){const _=this.waitingReads.shift();this.read(_.lng,_.ns,_.fcName,_.tried,_.wait,_.callback)}if(f&&g&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,s+1,o*2,i)},o);return}i(f,g)},d=this.backend[r].bind(this.backend);if(d.length===2){try{const f=d(t,n);f&&typeof f.then=="function"?f.then(g=>c(null,g)).catch(c):c(null,f)}catch(f){c(f)}return}return d(t,n,c)}prepareLoading(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();et(t)&&(t=this.languageUtils.toResolveHierarchy(t)),et(n)&&(n=[n]);const o=this.queueLoad(t,n,r,s);if(!o.toLoad.length)return o.pending.length||s(),null;o.toLoad.forEach(i=>{this.loadOne(i)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=t.split("|"),s=r[0],o=r[1];this.read(s,o,"read",void 0,void 0,(i,c)=>{i&&this.logger.warn(`${n}loading namespace ${o} for language ${s} failed`,i),!i&&c&&this.logger.log(`${n}loaded namespace ${o} for language ${s}`,c),this.loaded(t,i,c)})}saveMissing(t,n,r,s,o){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){const d={...i,isUpdate:o},f=this.backend.create.bind(this.backend);if(f.length<6)try{let g;f.length===5?g=f(t,n,r,s,d):g=f(t,n,r,s),g&&typeof g.then=="function"?g.then(_=>c(null,_)).catch(c):c(null,g)}catch(g){c(g)}else f(t,n,r,s,c,d)}!t||!t[0]||this.store.addResource(t[0],n,r,s)}}}const TA=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),et(e[1])&&(t.defaultValue=e[1]),et(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),xA=e=>(et(e.ns)&&(e.ns=[e.ns]),et(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),et(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),Qf=()=>{},k3=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class hl extends qf{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=xA(t),this.services={},this.logger=Ds,this.modules={external:[]},k3(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(){var t=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),n.defaultNS==null&&n.ns&&(et(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const s=TA();this.options={...s,...this.options,...xA(n)},this.options.interpolation={...s.interpolation,...this.options.interpolation},n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const o=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?Ds.init(o(this.modules.logger),this.options):Ds.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=S3;const _=new wA(this.options);this.store=new _A(this.options.resources,this.options);const y=this.services;y.logger=Ds,y.resourceStore=this.store,y.languageUtils=_,y.pluralResolver=new A3(_,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),g&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(y.formatter=o(g),y.formatter.init(y,this.options),this.options.interpolation.format=y.formatter.format.bind(y.formatter)),y.interpolator=new T3(this.options),y.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},y.backendConnector=new I3(o(this.modules.backend),y.resourceStore,y,this.options),y.backendConnector.on("*",function(b){for(var k=arguments.length,B=new Array(k>1?k-1:0),z=1;z<k;z++)B[z-1]=arguments[z];t.emit(b,...B)}),this.modules.languageDetector&&(y.languageDetector=o(this.modules.languageDetector),y.languageDetector.init&&y.languageDetector.init(y,this.options.detection,this.options)),this.modules.i18nFormat&&(y.i18nFormat=o(this.modules.i18nFormat),y.i18nFormat.init&&y.i18nFormat.init(this)),this.translator=new Jf(this.services,this.options),this.translator.on("*",function(b){for(var k=arguments.length,B=new Array(k>1?k-1:0),z=1;z<k;z++)B[z-1]=arguments[z];t.emit(b,...B)}),this.modules.external.forEach(b=>{b.init&&b.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Qf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=function(){return t.store[g](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=function(){return t.store[g](...arguments),t}});const d=dl(),f=()=>{const g=(_,y)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(y),r(_,y)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),d}loadResources(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qf;const s=et(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(s?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],i=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(f=>{f!=="cimode"&&o.indexOf(f)<0&&o.push(f)})};s?i(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>i(d)),this.options.preload?.forEach?.(c=>i(c)),this.services.backendConnector.load(o,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(t,n,r){const s=dl();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=Qf),this.services.backendConnector.reload(t,n,o=>{s.resolve(),r(o)}),s}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&mA.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){var r=this;this.isLanguageChangingTo=t;const s=dl();this.emit("languageChanging",t);const o=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},i=(d,f)=>{f?this.isLanguageChangingTo===t&&(o(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,s.resolve(function(){return r.t(...arguments)}),n&&n(d,function(){return r.t(...arguments)})},c=d=>{!t&&!d&&this.services.languageDetector&&(d=[]);const f=et(d)?d:d&&d[0],g=this.store.hasLanguageSomeTranslations(f)?f:this.services.languageUtils.getBestMatchFromCodes(et(d)?[d]:d);g&&(this.language||o(g),this.translator.language||this.translator.changeLanguage(g),this.services.languageDetector?.cacheUserLanguage?.(g)),this.loadResources(g,_=>{i(_,g)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(t),s}getFixedT(t,n,r){var s=this;const o=function(i,c){let d;if(typeof c!="object"){for(var f=arguments.length,g=new Array(f>2?f-2:0),_=2;_<f;_++)g[_-2]=arguments[_];d=s.options.overloadTranslationOptionHandler([i,c].concat(g))}else d={...c};d.lng=d.lng||o.lng,d.lngs=d.lngs||o.lngs,d.ns=d.ns||o.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||r||o.keyPrefix);const y=s.options.keySeparator||".";let b;return d.keyPrefix&&Array.isArray(i)?b=i.map(k=>`${d.keyPrefix}${y}${k}`):b=d.keyPrefix?`${d.keyPrefix}${y}${i}`:i,s.t(b,d)};return et(t)?o.lng=t:o.lngs=t,o.ns=n,o.keyPrefix=r,o}t(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.translator?.translate(...n)}exists(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.translator?.exists(...n)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const i=(c,d)=>{const f=this.services.backendConnector.state[`${c}|${d}`];return f===-1||f===0||f===2};if(n.precheck){const c=n.precheck(this,i);if(c!==void 0)return c}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||i(r,t)&&(!s||i(o,t)))}loadNamespaces(t,n){const r=dl();return this.options.ns?(et(t)&&(t=[t]),t.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){const r=dl();et(t)&&(t=[t]);const s=this.options.preload||[],o=t.filter(i=>s.indexOf(i)<0&&this.services.languageUtils.isSupportedCode(i));return o.length?(this.options.preload=s.concat(o),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new wA(TA());return n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new hl(t,n)}cloneInstance(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qf;const r=t.forkResourceStore;r&&delete t.forkResourceStore;const s={...this.options,...t,isClone:!0},o=new hl(s);if((t.debug!==void 0||t.prefix!==void 0)&&(o.logger=o.logger.clone(t)),["store","services","language"].forEach(c=>{o[c]=this[c]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},r){const c=Object.keys(this.store.data).reduce((d,f)=>(d[f]={...this.store.data[f]},d[f]=Object.keys(d[f]).reduce((g,_)=>(g[_]={...d[f][_]},g),d[f]),d),{});o.store=new _A(c,s),o.services.resourceStore=o.store}return o.translator=new Jf(o.services,s),o.translator.on("*",function(c){for(var d=arguments.length,f=new Array(d>1?d-1:0),g=1;g<d;g++)f[g-1]=arguments[g];o.emit(c,...f)}),o.init(s,n),o.translator.options=s,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Hn=hl.createInstance();Hn.createInstance=hl.createInstance;const n7=Hn.createInstance,r7=Hn.dir,s7=Hn.init,o7=Hn.loadResources,i7=Hn.reloadResources,a7=Hn.use,c7=Hn.changeLanguage,u7=Hn.getFixedT,l7=Hn.t,d7=Hn.exists,f7=Hn.setDefaultNamespace,h7=Hn.hasLoadedNamespace,p7=Hn.loadNamespaces,g7=Hn.loadLanguages,SA=e=>e&&e.startsWith("zh_")?"zh-CN":e,O3=()=>{try{return typeof window<"u"&&window.location?.protocol!=="chrome-extension:"}catch{return!1}},R3=()=>typeof document<"u",P3=async()=>{if(O3())return"en";try{if(typeof window<"u"||R3()){const{settingsStore:e}=await Promise.all([Be.e(418),Be.e(687),Be.e(30),Be.e(452)]).then(Be.bind(Be,74030)),t=await e.get("language");return SA(d3.l[t]?.code)||"en"}else return SA(Hn.language)||"en"}catch(e){return console.error("Error getting language from settings store:",e),"en"}};var N3={OS:"web",select:e=>"web"in e?e.web:e.default,get isTesting(){return!1}};const eh=N3,CA=async()=>({"argent-version":"5.27.5","argent-client":"ready-wallet","argent-platform":eh.OS==="web"?"extension":eh.OS,"Accept-Language":await P3()}),IA=CA(),m7={"argent-version":"5.27.5","argent-client":"ready-wallet","argent-platform":eh.OS==="web"?"extension":eh.OS},kA=e=>{switch(e){case"sepolia-alpha":return"sepolia";case"mainnet-alpha":return"mainnet"}return null},y7=async e=>{const t=kA(e),n=await CA();return t?{...n,"argent-network":t}:n};var B3=Be(38376),OA=Be.n(B3);/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function D3(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function RA(e,t=""){if(!Number.isSafeInteger(e)||e<0){const n=t&&`"${t}" `;throw new Error(`${n}expected integer >0, got ${e}`)}}function pl(e,t,n=""){const r=D3(e),s=e?.length,o=t!==void 0;if(!r||o&&s!==t){const i=n&&`"${n}" `,c=o?` of length ${t}`:"",d=r?`length=${s}`:`type=${typeof e}`;throw new Error(i+"expected Uint8Array"+c+", got "+d)}return e}function b7(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash must wrapped by utils.createHasher");RA(e.outputLen),RA(e.blockLen)}function PA(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function L3(e,t){pl(e,void 0,"digestInto() output");const n=t.outputLen;if(e.length<n)throw new Error('"digestInto() output" expected to be of length >='+n)}function w7(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}function E7(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function gl(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Im(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Ls(e,t){return e<<32-t|e>>>t}function v7(e,t){return e<<t|e>>>32-t>>>0}const A7=null;function $3(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}const T7=null;function x7(e){for(let t=0;t<e.length;t++)e[t]=$3(e[t]);return e}const S7=null,NA=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",U3=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function M3(e){if(pl(e),NA)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=U3[e[n]];return t}const io={_0:48,_9:57,A:65,F:70,a:97,f:102};function BA(e){if(e>=io._0&&e<=io._9)return e-io._0;if(e>=io.A&&e<=io.F)return e-(io.A-10);if(e>=io.a&&e<=io.f)return e-(io.a-10)}function C7(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(NA)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=BA(e.charCodeAt(o)),c=BA(e.charCodeAt(o+1));if(i===void 0||c===void 0){const d=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+o)}r[s]=i*16+c}return r}const z3=async()=>{};async function I7(e,t,n){let r=Date.now();for(let s=0;s<e;s++){n(s);const o=Date.now()-r;o>=0&&o<t||(await z3(),r+=o)}}function DA(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function k7(e,t=""){return typeof e=="string"?DA(e):pl(e,void 0,t)}function O7(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];pl(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}function R7(e,t){if(t!==void 0&&{}.toString.call(t)!=="[object Object]")throw new Error("options must be object or undefined");return Object.assign(e,t)}function F3(e,t={}){const n=(s,o)=>e(o).update(s).digest(),r=e(void 0);return n.outputLen=r.outputLen,n.blockLen=r.blockLen,n.create=s=>e(s),Object.assign(n,t),Object.freeze(n)}function P7(e=32){const t=typeof globalThis=="object"?globalThis.crypto:null;if(typeof t?.getRandomValues!="function")throw new Error("crypto.getRandomValues must be defined");return t.getRandomValues(new Uint8Array(e))}const H3=e=>({oid:Uint8Array.from([6,9,96,134,72,1,101,3,4,2,e])});function j3(e,t,n){return e&t^~e&n}function V3(e,t,n){return e&t^e&n^t&n}class LA{constructor(t,n,r,s){Z(this,"blockLen");Z(this,"outputLen");Z(this,"padOffset");Z(this,"isLE");Z(this,"buffer");Z(this,"view");Z(this,"finished",!1);Z(this,"length",0);Z(this,"pos",0);Z(this,"destroyed",!1);this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=Im(this.buffer)}update(t){PA(this),pl(t);const{view:n,buffer:r,blockLen:s}=this,o=t.length;for(let i=0;i<o;){const c=Math.min(s-this.pos,o-i);if(c===s){const d=Im(t);for(;s<=o-i;i+=s)this.process(d,i);continue}r.set(t.subarray(i,i+c),this.pos),this.pos+=c,i+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){PA(this),L3(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,gl(this.buffer.subarray(i)),this.padOffset>s-i&&(this.process(r,0),i=0);for(let _=i;_<s;_++)n[_]=0;r.setBigUint64(s-8,BigInt(this.length*8),o),this.process(r,0);const c=Im(t),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen must be aligned to 32bit");const f=d/4,g=this.get();if(f>g.length)throw new Error("_sha2: outputLen bigger than state");for(let _=0;_<f;_++)c.setUint32(4*_,g[_],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:c}=this;return t.destroyed=i,t.finished=o,t.length=s,t.pos=c,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const Go=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Yo=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),jn=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Vn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),th=BigInt(2**32-1),km=BigInt(32);function $A(e,t=!1){return t?{h:Number(e&th),l:Number(e>>km&th)}:{h:Number(e>>km&th)|0,l:Number(e&th)|0}}function UA(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let o=0;o<n;o++){const{h:i,l:c}=$A(e[o],t);[r[o],s[o]]=[i,c]}return[r,s]}const Z3=(e,t)=>BigInt(e>>>0)<<km|BigInt(t>>>0),Om=(e,t,n)=>e>>>n,Rm=(e,t,n)=>e<<32-n|t>>>n,ta=(e,t,n)=>e>>>n|t<<32-n,na=(e,t,n)=>e<<32-n|t>>>n,_l=(e,t,n)=>e<<64-n|t>>>n-32,ml=(e,t,n)=>e>>>n-32|t<<64-n,K3=(e,t)=>t,W3=(e,t)=>e,G3=(e,t,n)=>e<<n|t>>>32-n,Y3=(e,t,n)=>t<<n|e>>>32-n,X3=(e,t,n)=>t<<n-32|e>>>64-n,q3=(e,t,n)=>e<<n-32|t>>>64-n;function $s(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const MA=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),zA=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,FA=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),HA=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,jA=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),VA=(e,t,n,r,s,o)=>t+n+r+s+o+(e/2**32|0)|0,N7={fromBig:$A,split:UA,toBig:Z3,shrSH:Om,shrSL:Rm,rotrSH:ta,rotrSL:na,rotrBH:_l,rotrBL:ml,rotr32H:K3,rotr32L:W3,rotlSH:G3,rotlSL:Y3,rotlBH:X3,rotlBL:q3,add:$s,add3L:MA,add3H:zA,add4L:FA,add4H:HA,add5H:VA,add5L:jA},B7=null,J3=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Xo=new Uint32Array(64);class ZA extends LA{constructor(t){super(64,t,8,!1)}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:c,H:d}=this;return[t,n,r,s,o,i,c,d]}set(t,n,r,s,o,i,c,d){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=c|0,this.H=d|0}process(t,n){for(let _=0;_<16;_++,n+=4)Xo[_]=t.getUint32(n,!1);for(let _=16;_<64;_++){const y=Xo[_-15],b=Xo[_-2],k=Ls(y,7)^Ls(y,18)^y>>>3,B=Ls(b,17)^Ls(b,19)^b>>>10;Xo[_]=B+Xo[_-7]+k+Xo[_-16]|0}let{A:r,B:s,C:o,D:i,E:c,F:d,G:f,H:g}=this;for(let _=0;_<64;_++){const y=Ls(c,6)^Ls(c,11)^Ls(c,25),b=g+y+j3(c,d,f)+J3[_]+Xo[_]|0,B=(Ls(r,2)^Ls(r,13)^Ls(r,22))+V3(r,s,o)|0;g=f,f=d,d=c,c=i+b|0,i=o,o=s,s=r,r=b+B|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,c=c+this.E|0,d=d+this.F|0,f=f+this.G|0,g=g+this.H|0,this.set(r,s,o,i,c,d,f,g)}roundClean(){gl(Xo)}destroy(){this.set(0,0,0,0,0,0,0,0),gl(this.buffer)}}class Q3 extends ZA{constructor(){super(32);Z(this,"A",Go[0]|0);Z(this,"B",Go[1]|0);Z(this,"C",Go[2]|0);Z(this,"D",Go[3]|0);Z(this,"E",Go[4]|0);Z(this,"F",Go[5]|0);Z(this,"G",Go[6]|0);Z(this,"H",Go[7]|0)}}class D7 extends ZA{constructor(){super(28);Z(this,"A",Yo[0]|0);Z(this,"B",Yo[1]|0);Z(this,"C",Yo[2]|0);Z(this,"D",Yo[3]|0);Z(this,"E",Yo[4]|0);Z(this,"F",Yo[5]|0);Z(this,"G",Yo[6]|0);Z(this,"H",Yo[7]|0)}}const KA=UA(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),e6=KA[0],t6=KA[1],qo=new Uint32Array(80),Jo=new Uint32Array(80);class nh extends LA{constructor(t){super(128,t,16,!1)}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:o,Cl:i,Dh:c,Dl:d,Eh:f,El:g,Fh:_,Fl:y,Gh:b,Gl:k,Hh:B,Hl:z}=this;return[t,n,r,s,o,i,c,d,f,g,_,y,b,k,B,z]}set(t,n,r,s,o,i,c,d,f,g,_,y,b,k,B,z){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=o|0,this.Cl=i|0,this.Dh=c|0,this.Dl=d|0,this.Eh=f|0,this.El=g|0,this.Fh=_|0,this.Fl=y|0,this.Gh=b|0,this.Gl=k|0,this.Hh=B|0,this.Hl=z|0}process(t,n){for(let q=0;q<16;q++,n+=4)qo[q]=t.getUint32(n),Jo[q]=t.getUint32(n+=4);for(let q=16;q<80;q++){const ee=qo[q-15]|0,be=Jo[q-15]|0,fe=ta(ee,be,1)^ta(ee,be,8)^Om(ee,be,7),ne=na(ee,be,1)^na(ee,be,8)^Rm(ee,be,7),pe=qo[q-2]|0,xe=Jo[q-2]|0,Ie=ta(pe,xe,19)^_l(pe,xe,61)^Om(pe,xe,6),_e=na(pe,xe,19)^ml(pe,xe,61)^Rm(pe,xe,6),Me=FA(ne,_e,Jo[q-7],Jo[q-16]),Ge=HA(Me,fe,Ie,qo[q-7],qo[q-16]);qo[q]=Ge|0,Jo[q]=Me|0}let{Ah:r,Al:s,Bh:o,Bl:i,Ch:c,Cl:d,Dh:f,Dl:g,Eh:_,El:y,Fh:b,Fl:k,Gh:B,Gl:z,Hh:K,Hl:J}=this;for(let q=0;q<80;q++){const ee=ta(_,y,14)^ta(_,y,18)^_l(_,y,41),be=na(_,y,14)^na(_,y,18)^ml(_,y,41),fe=_&b^~_&B,ne=y&k^~y&z,pe=jA(J,be,ne,t6[q],Jo[q]),xe=VA(pe,K,ee,fe,e6[q],qo[q]),Ie=pe|0,_e=ta(r,s,28)^_l(r,s,34)^_l(r,s,39),Me=na(r,s,28)^ml(r,s,34)^ml(r,s,39),Ge=r&o^r&c^o&c,le=s&i^s&d^i&d;K=B|0,J=z|0,B=b|0,z=k|0,b=_|0,k=y|0,{h:_,l:y}=$s(f|0,g|0,xe|0,Ie|0),f=c|0,g=d|0,c=o|0,d=i|0,o=r|0,i=s|0;const ie=MA(Ie,Me,le);r=zA(ie,xe,_e,Ge),s=ie|0}({h:r,l:s}=$s(this.Ah|0,this.Al|0,r|0,s|0)),{h:o,l:i}=$s(this.Bh|0,this.Bl|0,o|0,i|0),{h:c,l:d}=$s(this.Ch|0,this.Cl|0,c|0,d|0),{h:f,l:g}=$s(this.Dh|0,this.Dl|0,f|0,g|0),{h:_,l:y}=$s(this.Eh|0,this.El|0,_|0,y|0),{h:b,l:k}=$s(this.Fh|0,this.Fl|0,b|0,k|0),{h:B,l:z}=$s(this.Gh|0,this.Gl|0,B|0,z|0),{h:K,l:J}=$s(this.Hh|0,this.Hl|0,K|0,J|0),this.set(r,s,o,i,c,d,f,g,_,y,b,k,B,z,K,J)}roundClean(){gl(qo,Jo)}destroy(){gl(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class L7 extends nh{constructor(){super(64);Z(this,"Ah",Vn[0]|0);Z(this,"Al",Vn[1]|0);Z(this,"Bh",Vn[2]|0);Z(this,"Bl",Vn[3]|0);Z(this,"Ch",Vn[4]|0);Z(this,"Cl",Vn[5]|0);Z(this,"Dh",Vn[6]|0);Z(this,"Dl",Vn[7]|0);Z(this,"Eh",Vn[8]|0);Z(this,"El",Vn[9]|0);Z(this,"Fh",Vn[10]|0);Z(this,"Fl",Vn[11]|0);Z(this,"Gh",Vn[12]|0);Z(this,"Gl",Vn[13]|0);Z(this,"Hh",Vn[14]|0);Z(this,"Hl",Vn[15]|0)}}class $7 extends nh{constructor(){super(48);Z(this,"Ah",jn[0]|0);Z(this,"Al",jn[1]|0);Z(this,"Bh",jn[2]|0);Z(this,"Bl",jn[3]|0);Z(this,"Ch",jn[4]|0);Z(this,"Cl",jn[5]|0);Z(this,"Dh",jn[6]|0);Z(this,"Dl",jn[7]|0);Z(this,"Eh",jn[8]|0);Z(this,"El",jn[9]|0);Z(this,"Fh",jn[10]|0);Z(this,"Fl",jn[11]|0);Z(this,"Gh",jn[12]|0);Z(this,"Gl",jn[13]|0);Z(this,"Hh",jn[14]|0);Z(this,"Hl",jn[15]|0)}}const Zn=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),Kn=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class U7 extends nh{constructor(){super(28);Z(this,"Ah",Zn[0]|0);Z(this,"Al",Zn[1]|0);Z(this,"Bh",Zn[2]|0);Z(this,"Bl",Zn[3]|0);Z(this,"Ch",Zn[4]|0);Z(this,"Cl",Zn[5]|0);Z(this,"Dh",Zn[6]|0);Z(this,"Dl",Zn[7]|0);Z(this,"Eh",Zn[8]|0);Z(this,"El",Zn[9]|0);Z(this,"Fh",Zn[10]|0);Z(this,"Fl",Zn[11]|0);Z(this,"Gh",Zn[12]|0);Z(this,"Gl",Zn[13]|0);Z(this,"Hh",Zn[14]|0);Z(this,"Hl",Zn[15]|0)}}class M7 extends nh{constructor(){super(32);Z(this,"Ah",Kn[0]|0);Z(this,"Al",Kn[1]|0);Z(this,"Bh",Kn[2]|0);Z(this,"Bl",Kn[3]|0);Z(this,"Ch",Kn[4]|0);Z(this,"Cl",Kn[5]|0);Z(this,"Dh",Kn[6]|0);Z(this,"Dl",Kn[7]|0);Z(this,"Eh",Kn[8]|0);Z(this,"El",Kn[9]|0);Z(this,"Fh",Kn[10]|0);Z(this,"Fl",Kn[11]|0);Z(this,"Gh",Kn[12]|0);Z(this,"Gl",Kn[13]|0);Z(this,"Hh",Kn[14]|0);Z(this,"Hl",Kn[15]|0)}}const n6=F3(()=>new Q3,H3(1)),z7=null,F7=null,H7=null,j7=null,V7=null;function r6(e){const t=r=>Array.isArray(r)?r.slice().sort((s,o)=>s.method.localeCompare(o.method)||(s.id??0)-(o.id??0)).map(s=>JSON.parse(OA()(s)||"")):JSON.parse(OA()(r)||""),n=r=>{const s=n6(DA(JSON.stringify(r)));return M3(s).slice(0,10)};return async(r,s={})=>{if(s.method?.toUpperCase()==="POST"&&typeof s.body=="string")try{const o=JSON.parse(s.body),i=t(o);s.body=JSON.stringify(i);const c=s.headers instanceof Headers?Object.fromEntries(s.headers.entries()):s.headers??{};s.headers={...c,"X-Playback-Key":n(i)}}catch{}return e(r,s)}}const WA=te()(async(e,t,n)=>{const s={...await IA,..."MISSING_ENV_VAR".IS_PLAYWRIGHT&&{IS_PLAYWRIGHT:"true"}},o="MISSING_ENV_VAR".IS_PLAYWRIGHT==="true"?r6(globalThis.fetch.bind(globalThis)):void 0;return new D1({nodeUrl:e,chainId:t,headers:s,baseFetch:o,batch:n,blockIdentifier:"pre_confirmed"})},{normalizer:([e,t="",n=!1])=>`${e}::${t}::${n}`});function GA(e){const t=Hu.encodeShortString(e.chainId);return WA(e.rpcUrl,t)}const s6="MISSING_ENV_VAR".RPC_BATCH_INTERVAL?Number("MISSING_ENV_VAR".RPC_BATCH_INTERVAL):250;function Z7(e,t=s6){const n=shortString.encodeShortString(e.chainId);return WA(e.rpcUrl,n,t)}const o6=document.getElementById("argent-x-extension")?.getAttribute("data-extension-id");function wt(e){return window.postMessage({...e,extensionId:o6},window.location.origin)}const i6=async()=>{wt({type:"DISCONNECT_ACCOUNT"})};function ct(e,t,n=()=>!0){return new Promise((r,s)=>{const o=setTimeout(()=>s(new Error("Timeout")),t),i=c=>{if(c.origin===window.location.origin&&c.data.type===e&&n(c.data))return clearTimeout(o),window.removeEventListener("message",i),r("data"in c.data?c.data.data:void 0)};window.addEventListener("message",i)})}var rh=Be(38236);function a6(e){return e}function c6(e){return e.length===0?a6:e.length===1?e[0]:function(n){return e.reduce((r,s)=>s(r),n)}}function K7(e){return typeof e=="object"&&e!==null&&"subscribe"in e}function Pm(e){const t={subscribe(n){let r=null,s=!1,o=!1,i=!1;function c(){if(r===null){i=!0;return}o||(o=!0,typeof r=="function"?r():r&&r.unsubscribe())}return r=e({next(d){s||n.next?.(d)},error(d){s||(s=!0,n.error?.(d),c())},complete(){s||(s=!0,n.complete?.(),c())}}),i&&c(),{unsubscribe:c}},pipe(...n){return c6(n)(t)}};return t}function u6(e){return t=>{let n=0,r=null;const s=[];function o(){r||(r=t.subscribe({next(c){for(const d of s)d.next?.(c)},error(c){for(const d of s)d.error?.(c)},complete(){for(const c of s)c.complete?.()}}))}function i(){if(n===0&&r){const c=r;r=null,c.unsubscribe()}}return{subscribe(c){return n++,s.push(c),o(),{unsubscribe(){n--,i();const d=s.findIndex(f=>f===c);d>-1&&s.splice(d,1)}}}}}}function W7(e){return t=>({subscribe(n){let r=0;return t.subscribe({next(o){n.next?.(e(o,r++))},error(o){n.error?.(o)},complete(){n.complete?.()}})}})}function G7(e){return t=>({subscribe(n){return t.subscribe({next(r){e.next?.(r),n.next?.(r)},error(r){e.error?.(r),n.error?.(r)},complete(){e.complete?.(),n.complete?.()}})}})}class Nm extends Error{constructor(t){super(t),this.name="ObservableAbortError",Object.setPrototypeOf(this,Nm.prototype)}}function l6(e){let t;return{promise:new Promise((r,s)=>{let o=!1;function i(){o||(o=!0,s(new Nm("This operation was aborted.")),c.unsubscribe())}const c=e.subscribe({next(d){o=!0,r(d),i()},error(d){o=!0,s(d),i()},complete(){o=!0,i()}});t=i}),abort:t}}function YA(e){return Pm(t=>{function n(s=0,o=e.op){const i=e.links[s];if(!i)throw new Error("No more links to execute - did you forget to add an ending link?");return i({op:o,next(d){return n(s+1,d)}})}return n().subscribe(t)})}function XA(e){return Array.isArray(e)?e:[e]}function Y7(e){return t=>{const n=XA(e.true).map(s=>s(t)),r=XA(e.false).map(s=>s(t));return s=>observable(o=>{const i=e.condition(s.op)?n:r;return YA({op:s.op,links:i}).subscribe(o)})}}function qA(e){const t=Object.create(null);for(const n in e){const r=e[n];t[r]=n}return t}const JA={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,NOT_IMPLEMENTED:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099},X7=qA(JA),d6=qA(JA),f6={PARSE_ERROR:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,FORBIDDEN:403,METHOD_NOT_SUPPORTED:405,TIMEOUT:408,CONFLICT:409,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,UNPROCESSABLE_CONTENT:422,TOO_MANY_REQUESTS:429,CLIENT_CLOSED_REQUEST:499,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501};function QA(e){return f6[e]??500}function q7(e){const t=Array.isArray(e)?e:[e],n=new Set(t.map(s=>{if("error"in s){const o=s.error.data;if(typeof o.httpStatus=="number")return o.httpStatus;const i=d6[s.error.code];return QA(i)}return 200}));return n.size!==1?207:n.values().next().value}function J7(e){return QA(e.code)}const eT=()=>{};function tT(e,t){return new Proxy(eT,{get(r,s){if(!(typeof s!="string"||s==="then"))return tT(e,[...t,s])},apply(r,s,o){const i=t[t.length-1]==="apply";return e({args:i?o.length>=2?o[1]:[]:o,path:i?t.slice(0,-1):t})}})}const h6=e=>tT(e,[]),p6=e=>new Proxy(eT,{get(t,n){if(!(typeof n!="string"||n==="then"))return e(n)}});function Q7(e){const{path:t,error:n,config:r}=e,{code:s}=e.error,o={message:n.message,code:TRPC_ERROR_CODES_BY_KEY[s],data:{code:s,httpStatus:getHTTPStatusCodeFromError(n)}};return r.isDev&&typeof e.error.stack=="string"&&(o.data.stack=e.error.stack),typeof t=="string"&&(o.data.path=t),r.errorFormatter({...e,shape:o})}function nT(e,t){return"error"in t?{...t,error:e.transformer.output.serialize(t.error)}:"data"in t.result?{...t,result:{...t.result,data:e.transformer.output.serialize(t.result.data)}}:t}function ez(e,t){return Array.isArray(t)?t.map(n=>nT(e,n)):nT(e,t)}function g6(e){return!!e&&!Array.isArray(e)&&typeof e=="object"}class _6 extends Error{}function m6(e){if(e instanceof Error)return e;const t=typeof e;if(!(t==="undefined"||t==="function"||e===null)){if(t!=="object")return new Error(String(e));if(g6(e)){const n=new _6;for(const r in e)n[r]=e[r];return n}}}function sh(e){return!!e&&!Array.isArray(e)&&typeof e=="object"}function y6(e,t){if("error"in e){const r=t.transformer.deserialize(e.error);return{ok:!1,error:{...e,error:r}}}return{ok:!0,result:{...e.result,...(!e.result.type||e.result.type==="data")&&{type:"data",data:t.transformer.deserialize(e.result.data)}}}}class Bm extends Error{constructor(){super("Unable to transform response from server")}}function rT(e,t){let n;try{n=y6(e,t)}catch{throw new Bm}if(!n.ok&&(!sh(n.error.error)||typeof n.error.error.code!="number"))throw new Bm;if(n.ok&&!sh(n.result))throw new Bm;return n}function b6(e){return e instanceof Gr||e instanceof Error&&e.name==="TRPCClientError"}function w6(e){return sh(e)&&sh(e.error)&&typeof e.error.code=="number"&&typeof e.error.message=="string"}class Gr extends Error{static from(t,n={}){const r=t;return b6(r)?(n.meta&&(r.meta={...r.meta,...n.meta}),r):w6(r)?new Gr(r.error.message,{...n,result:r}):r instanceof Error?new Gr(r.message,{...n,cause:m6(r)}):new Gr("Unknown error",{...n,cause:r})}constructor(t,n){const r=n?.cause;super(t,{cause:r}),this.meta=n?.meta,this.cause=r,this.shape=n?.result?.error,this.data=n?.result?.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,Gr.prototype)}}const sT=e=>typeof e=="function";function E6(e){if(e)return e;if(typeof window<"u"&&sT(window.fetch))return window.fetch;if(typeof globalThis<"u"&&sT(globalThis.fetch))return globalThis.fetch;throw new Error("No fetch implementation found")}function v6(e){return e||(typeof window<"u"&&window.AbortController?window.AbortController:typeof globalThis<"u"&&globalThis.AbortController?globalThis.AbortController:null)}function oT(e){return{url:e.url.toString().replace(/\/$/,""),fetch:e.fetch,AbortController:v6(e.AbortController)}}function A6(e){const t={};for(let n=0;n<e.length;n++){const r=e[n];t[n]=r}return t}const T6={query:"GET",mutation:"POST"};function iT(e){return"input"in e?e.runtime.transformer.serialize(e.input):A6(e.inputs.map(t=>e.runtime.transformer.serialize(t)))}const Dm=e=>{let t=e.url+"/"+e.path;const n=[];if("inputs"in e&&n.push("batch=1"),e.type==="query"){const r=iT(e);r!==void 0&&n.push(`input=${encodeURIComponent(JSON.stringify(r))}`)}return n.length&&(t+="?"+n.join("&")),t},aT=e=>{if(e.type==="query")return;const t=iT(e);return t!==void 0?JSON.stringify(t):void 0},cT=e=>lT({...e,contentTypeHeader:"application/json",getUrl:Dm,getBody:aT});async function uT(e,t){const n=e.getUrl(e),r=e.getBody(e),{type:s}=e,o=await e.headers();/* istanbul ignore if -- @preserve */if(s==="subscription")throw new Error("Subscriptions should use wsLink");const i={...e.contentTypeHeader?{"content-type":e.contentTypeHeader}:{},...e.batchModeHeader?{"trpc-batch-mode":e.batchModeHeader}:{},...o};return E6(e.fetch)(n,{method:T6[s],signal:t?.signal,body:r,headers:i})}function lT(e){const t=e.AbortController?new e.AbortController:null,n={};let r=!1;return{promise:new Promise((i,c)=>{uT(e,t).then(d=>(n.response=d,r=!0,d.json())).then(d=>{n.responseJSON=d,i({json:d,meta:n})}).catch(d=>{r=!0,c(Gr.from(d,{meta:n}))})}),cancel:()=>{r||t?.abort()}}}const Lm=()=>{throw new Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function $m(e){let t=null,n=null;const r=()=>{clearTimeout(n),n=null,t=null};function s(c){const d=[[]];let f=0;for(;;){const g=c[f];if(!g)break;const _=d[d.length-1];if(g.aborted){g.reject?.(new Error("Aborted")),f++;continue}if(e.validate(_.concat(g).map(b=>b.key))){_.push(g),f++;continue}if(_.length===0){g.reject?.(new Error("Input is too big for a single dispatch")),f++;continue}d.push([])}return d}function o(){const c=s(t);r();for(const d of c){if(!d.length)continue;const f={items:d,cancel:Lm};for(const b of d)b.batch=f;const g=(b,k)=>{const B=f.items[b];B.resolve?.(k),B.batch=null,B.reject=null,B.resolve=null},{promise:_,cancel:y}=e.fetch(f.items.map(b=>b.key),g);f.cancel=y,_.then(b=>{for(let k=0;k<b.length;k++){const B=b[k];g(k,B)}for(const k of f.items)k.reject?.(new Error("Missing result")),k.batch=null}).catch(b=>{for(const k of f.items)k.reject?.(b),k.batch=null})}}function i(c){const d={aborted:!1,key:c,batch:null,resolve:Lm,reject:Lm},f=new Promise((_,y)=>{d.reject=y,d.resolve=_,t||(t=[]),t.push(d)});return n||(n=setTimeout(o)),{promise:f,cancel:()=>{d.aborted=!0,d.batch?.items.every(_=>_.aborted)&&(d.batch.cancel(),d.batch=null)}}}return{load:i}}function dT(e){return function(n){const r=oT(n),s=n.maxURLLength??1/0;return o=>{const i=_=>{const y=k=>{if(s===1/0)return!0;const B=k.map(J=>J.path).join(","),z=k.map(J=>J.input);return Dm({...r,runtime:o,type:_,path:B,inputs:z}).length<=s},b=e({...r,runtime:o,type:_,opts:n});return{validate:y,fetch:b}},c=$m(i("query")),d=$m(i("mutation")),f=$m(i("subscription")),g={query:c,subscription:f,mutation:d};return({op:_})=>Pm(y=>{const b=g[_.type],{promise:k,cancel:B}=b.load(_);let z;return k.then(K=>{z=K;const J=rT(K.json,o);if(!J.ok){y.error(Gr.from(J.error,{meta:K.meta}));return}y.next({context:K.meta,result:J.result}),y.complete()}).catch(K=>{y.error(Gr.from(K,{meta:z?.meta}))}),()=>{B()}})}}}const nz=dT(e=>t=>{const n=t.map(i=>i.path).join(","),r=t.map(i=>i.input),{promise:s,cancel:o}=cT({...e,path:n,inputs:r,headers(){return e.opts.headers?typeof e.opts.headers=="function"?e.opts.headers({opList:t}):e.opts.headers:{}}});return{promise:s.then(i=>(Array.isArray(i.json)?i.json:t.map(()=>i.json)).map(f=>({meta:i.meta,json:f}))),cancel:o}});function fT(e){return t=>{const n=oT(t);return r=>({op:s})=>Pm(o=>{const{path:i,input:c,type:d}=s,{promise:f,cancel:g}=e.requester({...n,runtime:r,type:d,path:i,input:c,headers(){return t.headers?typeof t.headers=="function"?t.headers({op:s}):t.headers:{}}});let _;return f.then(y=>{_=y.meta;const b=rT(y.json,r);if(!b.ok){o.error(Gr.from(b.error,{meta:_}));return}o.next({context:y.meta,result:b.result}),o.complete()}).catch(y=>{o.error(Gr.from(y,{meta:_}))}),()=>{g()}})}}const rz=fT({requester:cT});function x6(e){return typeof FormData>"u"?!1:e instanceof FormData}const Um={css:{query:["72e3ff","3fb0d8"],mutation:["c5a3fc","904dfc"],subscription:["ff49e1","d83fbe"]},ansi:{regular:{query:["\x1B[30;46m","\x1B[97;46m"],mutation:["\x1B[30;45m","\x1B[97;45m"],subscription:["\x1B[30;42m","\x1B[97;42m"]},bold:{query:["\x1B[1;30;46m","\x1B[1;97;46m"],mutation:["\x1B[1;30;45m","\x1B[1;97;45m"],subscription:["\x1B[1;30;42m","\x1B[1;97;42m"]}}};function S6(e){const{direction:t,type:n,path:r,id:s,input:o}=e,i=[],c=[];if(e.colorMode==="ansi"){const[_,y]=Um.ansi.regular[n],[b,k]=Um.ansi.bold[n];return i.push(t==="up"?_:y,t==="up"?">>":"<<",n,t==="up"?b:k,`#${s}`,r,"\x1B[0m"),t==="up"?c.push({input:e.input}):c.push({input:e.input,result:"result"in e.result?e.result.result:e.result,elapsedMs:e.elapsedMs}),{parts:i,args:c}}const[d,f]=Um.css[n],g=`
    background-color: #${t==="up"?d:f}; 
    color: ${t==="up"?"black":"white"};
    padding: 2px;
  `;return i.push("%c",t==="up"?">>":"<<",n,`#${s}`,`%c${r}%c`,"%O"),c.push(g,`${g}; font-weight: bold;`,`${g}; font-weight: normal;`),t==="up"?c.push({input:o,context:e.context}):c.push({input:o,result:e.result,elapsedMs:e.elapsedMs,context:e.context}),{parts:i,args:c}}const C6=({c:e=console,colorMode:t="css"})=>n=>{const r=n.input,s=x6(r)?Object.fromEntries(r):r,{parts:o,args:i}=S6({...n,colorMode:t,input:s}),c=n.direction==="down"&&n.result&&(n.result instanceof Error||"error"in n.result.result)?"error":"log";e[c].apply(null,[o.join(" ")].concat(i))};function sz(e={}){const{enabled:t=()=>!0}=e,n=e.colorMode??(typeof window>"u"?"ansi":"css"),{logger:r=C6({c:e.console,colorMode:n})}=e;return()=>({op:s,next:o})=>observable(i=>{t({...s,direction:"up"})&&r({...s,direction:"up"});const c=Date.now();function d(f){const g=Date.now()-c;t({...s,direction:"down",result:f})&&r({...s,direction:"down",elapsedMs:g,result:f})}return o(s).pipe(tap({next(f){d(f)},error(f){d(f)}})).subscribe(i)})}/* istanbul ignore next -- @preserve */const I6=e=>e===0?0:Math.min(1e3*2**e,3e4);function oz(e){const{url:t,WebSocket:n=WebSocket,retryDelayMs:r=I6,onOpen:s,onClose:o}=e;/* istanbul ignore next -- @preserve */if(!n)throw new Error("No WebSocket implementation found - you probably don't want to use this on the server, but if you do you need to pass a `WebSocket`-ponyfill");let i=[];const c=Object.create(null);let d=0,f=null,g=null,_=ee(),y="connecting";function b(){y!=="open"||f||(f=setTimeout(()=>{f=null,i.length===1?_.send(JSON.stringify(i.pop())):_.send(JSON.stringify(i)),i=[]}))}function k(){if(g!==null||y==="closed")return;const fe=r(d++);z(fe)}function B(){y="connecting";const fe=_;_=ee(),K(fe)}function z(fe){g||(y="connecting",g=setTimeout(B,fe))}function K(fe){Object.values(c).some(pe=>pe.ws===fe)||fe.close()}function J(){Object.values(c).forEach(fe=>{fe.type==="subscription"&&fe.callbacks.complete()})}function q(fe){i.some(ne=>ne.id===fe.op.id)||be(fe.op,fe.callbacks)}function ee(){const fe=typeof t=="function"?t():t,ne=new n(fe);clearTimeout(g),g=null,ne.addEventListener("open",()=>{/* istanbul ignore next -- @preserve */ne===_&&(d=0,y="open",s?.(),b())}),ne.addEventListener("error",()=>{ne===_&&k()});const pe=Ie=>{if(Ie.method==="reconnect"&&ne===_){y==="open"&&o?.(),B();for(const _e of Object.values(c))_e.type==="subscription"&&q(_e)}},xe=Ie=>{const _e=Ie.id!==null&&c[Ie.id];if(_e){if(_e.callbacks.next?.(Ie),_e.ws!==_&&ne===_){const Me=_e.ws;_e.ws=_,K(Me)}"result"in Ie&&Ie.result.type==="stopped"&&ne===_&&_e.callbacks.complete()}};return ne.addEventListener("message",({data:Ie})=>{const _e=JSON.parse(Ie);"method"in _e?pe(_e):xe(_e),(ne!==_||y==="closed")&&K(ne)}),ne.addEventListener("close",({code:Ie})=>{y==="open"&&o?.({code:Ie}),_===ne&&k();for(const[_e,Me]of Object.entries(c))if(Me.ws===ne){if(y==="closed"){delete c[_e],Me.callbacks.complete?.();continue}Me.type==="subscription"?q(Me):(delete c[_e],Me.callbacks.error?.(TRPCClientError.from(new Mm("WebSocket closed prematurely"))))}}),ne}function be(fe,ne){const{type:pe,input:xe,path:Ie,id:_e}=fe,Me={id:_e,method:pe,params:{input:xe,path:Ie}};return c[_e]={ws:_,type:pe,callbacks:ne,op:fe},i.push(Me),b(),()=>{const Ge=c[_e]?.callbacks;delete c[_e],i=i.filter(le=>le.id!==_e),Ge?.complete?.(),_.readyState===n.OPEN&&fe.type==="subscription"&&(i.push({id:_e,method:"subscription.stop"}),b())}}return{close:()=>{y="closed",o?.(),J(),K(_),clearTimeout(g),g=null},request:be,getConnection(){return _}}}class Mm extends Error{constructor(t){super(t),this.name="TRPCWebSocketClosedError",Object.setPrototypeOf(this,Mm.prototype)}}function iz(e){return t=>{const{client:n}=e;return({op:r})=>observable(s=>{const{type:o,path:i,id:c,context:d}=r,f=t.transformer.serialize(r.input),g=n.request({type:o,path:i,input:f,id:c,context:d},{error(_){s.error(_),g()},complete(){s.complete()},next(_){const y=transformResult(_,t);if(!y.ok){s.error(TRPCClientError.from(y.error));return}s.next({result:y.result}),r.type!=="subscription"&&(g(),s.complete())}});return()=>{g()}})}}class zm{$request({type:t,input:n,path:r,context:s={}}){return YA({links:this.links,op:{id:++this.requestId,type:t,path:r,input:n,context:s}}).pipe(u6())}requestAsPromise(t){const n=this.$request(t),{promise:r,abort:s}=l6(n);return new Promise((i,c)=>{t.signal?.addEventListener("abort",s),r.then(d=>{i(d.result.data)}).catch(d=>{c(Gr.from(d))})})}query(t,n,r){return this.requestAsPromise({type:"query",path:t,input:n,context:r?.context,signal:r?.signal})}mutation(t,n,r){return this.requestAsPromise({type:"mutation",path:t,input:n,context:r?.context,signal:r?.signal})}subscription(t,n,r){return this.$request({type:"subscription",path:t,input:n,context:r?.context}).subscribe({next(o){o.result.type==="started"?r.onStarted?.():o.result.type==="stopped"?r.onStopped?.():r.onData?.(o.result.data)},error(o){r.onError?.(o)},complete(){r.onComplete?.()}})}constructor(t){this.requestId=0;const n=(()=>{const r=t.transformer;return r?"input"in r?t.transformer:{input:r,output:r}:{input:{serialize:s=>s,deserialize:s=>s},output:{serialize:s=>s,deserialize:s=>s}}})();this.runtime={transformer:{serialize:r=>n.input.serialize(r),deserialize:r=>n.output.deserialize(r)},combinedTransformer:n},this.links=t.links.map(r=>r(this.runtime))}}function az(e){return new zm(e)}function cz(e){return new zm(e)}const k6={query:"query",mutate:"mutation",subscribe:"subscription"},O6=e=>k6[e];function R6(e){return p6(t=>e.hasOwnProperty(t)?e[t]:t==="__untypedClient"?e:h6(({path:n,args:r})=>{const s=[t,...n],o=O6(s.pop()),i=s.join(".");return e[o](i,...r)}))}function P6(e){const t=new zm(e);return R6(t)}function uz(e){return e.__untypedClient}function N6(e){if(e)return e;if(typeof window<"u"&&window.TextDecoder)return new window.TextDecoder;if(typeof globalThis<"u"&&globalThis.TextDecoder)return new globalThis.TextDecoder;throw new Error("No TextDecoder implementation found")}async function B6(e){const t=e.parse??JSON.parse,n=r=>{if(e.signal?.aborted||!r||r==="}")return;const s=r.indexOf(":"),o=r.substring(2,s-1),i=r.substring(s+1);e.onSingle(Number(o),t(i))};await D6(e.readableStream,n,e.textDecoder)}async function D6(e,t,n){let r="";const s=o=>{const c=n.decode(o).split(`
`);if(c.length===1)r+=c[0];else if(c.length>1){t(r+c[0]);for(let d=1;d<c.length-1;d++)t(c[d]);r=c[c.length-1]}};"getReader"in e?await $6(e,s):await L6(e,s),t(r)}function L6(e,t){return new Promise(n=>{e.on("data",t),e.on("end",n)})}async function $6(e,t){const n=e.getReader();let r=await n.read();for(;!r.done;)t(r.value),r=await n.read()}const U6=(e,t)=>{const n=e.AbortController?new e.AbortController:null,r=uT({...e,contentTypeHeader:"application/json",batchModeHeader:"stream",getUrl:Dm,getBody:aT},n),s=()=>n?.abort(),o=r.then(async i=>{if(!i.body)throw new Error("Received response without body");const c={response:i};return B6({readableStream:i.body,onSingle:t,parse:d=>({json:JSON.parse(d),meta:c}),signal:n?.signal,textDecoder:e.textDecoder})});return{cancel:s,promise:o}},dz=dT(e=>{const t=N6(e.opts.textDecoder);return(n,r)=>{const s=n.map(d=>d.path).join(","),o=n.map(d=>d.input),{cancel:i,promise:c}=U6({...e,textDecoder:t,path:s,inputs:o,headers(){return e.opts.headers?typeof e.opts.headers=="function"?e.opts.headers({opList:n}):e.opts.headers:{}}},(d,f)=>{r(d,f)});return{promise:c.then(()=>[]),cancel:i}}}),M6=e=>{if("input"in e){if(!(e.input instanceof FormData))throw new Error("Input is not FormData");return e.input}},hz=fT({requester:e=>{if(e.type!=="mutation")throw new Error("We only handle mutations with formdata");return lT({...e,getUrl(){return`${e.url}/${e.path}`},getBody:M6})}});var z6=Be(6201);class F6{constructor(){this.keyToValue=new Map,this.valueToKey=new Map}set(t,n){this.keyToValue.set(t,n),this.valueToKey.set(n,t)}getByKey(t){return this.keyToValue.get(t)}getByValue(t){return this.valueToKey.get(t)}clear(){this.keyToValue.clear(),this.valueToKey.clear()}}class hT{constructor(t){this.generateIdentifier=t,this.kv=new F6}register(t,n){this.kv.getByValue(t)||(n||(n=this.generateIdentifier(t)),this.kv.set(n,t))}clear(){this.kv.clear()}getIdentifier(t){return this.kv.getByValue(t)}getValue(t){return this.kv.getByKey(t)}}class H6 extends hT{constructor(){super(t=>t.name),this.classToAllowedProps=new Map}register(t,n){typeof n=="object"?(n.allowProps&&this.classToAllowedProps.set(t,n.allowProps),super.register(t,n.identifier)):super.register(t,n)}getAllowedProps(t){return this.classToAllowedProps.get(t)}}function j6(e){if("values"in Object)return Object.values(e);const t=[];for(const n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}function V6(e,t){const n=j6(e);if("find"in n)return n.find(t);const r=n;for(let s=0;s<r.length;s++){const o=r[s];if(t(o))return o}}function uc(e,t){Object.entries(e).forEach(([n,r])=>t(r,n))}function oh(e,t){return e.indexOf(t)!==-1}function pT(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(t(r))return r}}class Z6{constructor(){this.transfomers={}}register(t){this.transfomers[t.name]=t}findApplicable(t){return V6(this.transfomers,n=>n.isApplicable(t))}findByName(t){return this.transfomers[t]}}const K6=e=>Object.prototype.toString.call(e).slice(8,-1),gT=e=>typeof e>"u",W6=e=>e===null,yl=e=>typeof e!="object"||e===null||e===Object.prototype?!1:Object.getPrototypeOf(e)===null?!0:Object.getPrototypeOf(e)===Object.prototype,Fm=e=>yl(e)&&Object.keys(e).length===0,Qo=e=>Array.isArray(e),G6=e=>typeof e=="string",Y6=e=>typeof e=="number"&&!isNaN(e),X6=e=>typeof e=="boolean",q6=e=>e instanceof RegExp,bl=e=>e instanceof Map,wl=e=>e instanceof Set,_T=e=>K6(e)==="Symbol",J6=e=>e instanceof Date&&!isNaN(e.valueOf()),Q6=e=>e instanceof Error,mT=e=>typeof e=="number"&&isNaN(e),eB=e=>X6(e)||W6(e)||gT(e)||Y6(e)||G6(e)||_T(e),tB=e=>typeof e=="bigint",nB=e=>e===1/0||e===-1/0,rB=e=>ArrayBuffer.isView(e)&&!(e instanceof DataView),sB=e=>e instanceof URL,yT=e=>e.replace(/\./g,"\\."),Hm=e=>e.map(String).map(yT).join("."),El=e=>{const t=[];let n="";for(let s=0;s<e.length;s++){let o=e.charAt(s);if(o==="\\"&&e.charAt(s+1)==="."){n+=".",s++;continue}if(o==="."){t.push(n),n="";continue}n+=o}const r=n;return t.push(r),t};function Us(e,t,n,r){return{isApplicable:e,annotation:t,transform:n,untransform:r}}const bT=[Us(gT,"undefined",()=>null,()=>{}),Us(tB,"bigint",e=>e.toString(),e=>typeof BigInt<"u"?BigInt(e):(console.error("Please add a BigInt polyfill."),e)),Us(J6,"Date",e=>e.toISOString(),e=>new Date(e)),Us(Q6,"Error",(e,t)=>{const n={name:e.name,message:e.message};return t.allowedErrorProps.forEach(r=>{n[r]=e[r]}),n},(e,t)=>{const n=new Error(e.message);return n.name=e.name,n.stack=e.stack,t.allowedErrorProps.forEach(r=>{n[r]=e[r]}),n}),Us(q6,"regexp",e=>""+e,e=>{const t=e.slice(1,e.lastIndexOf("/")),n=e.slice(e.lastIndexOf("/")+1);return new RegExp(t,n)}),Us(wl,"set",e=>[...e.values()],e=>new Set(e)),Us(bl,"map",e=>[...e.entries()],e=>new Map(e)),Us(e=>mT(e)||nB(e),"number",e=>mT(e)?"NaN":e>0?"Infinity":"-Infinity",Number),Us(e=>e===0&&1/e===-1/0,"number",()=>"-0",Number),Us(sB,"URL",e=>e.toString(),e=>new URL(e))];function ih(e,t,n,r){return{isApplicable:e,annotation:t,transform:n,untransform:r}}const wT=ih((e,t)=>_T(e)?!!t.symbolRegistry.getIdentifier(e):!1,(e,t)=>["symbol",t.symbolRegistry.getIdentifier(e)],e=>e.description,(e,t,n)=>{const r=n.symbolRegistry.getValue(t[1]);if(!r)throw new Error("Trying to deserialize unknown symbol");return r}),oB=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce((e,t)=>(e[t.name]=t,e),{}),ET=ih(rB,e=>["typed-array",e.constructor.name],e=>[...e],(e,t)=>{const n=oB[t[1]];if(!n)throw new Error("Trying to deserialize unknown typed array");return new n(e)});function vT(e,t){return e?.constructor?!!t.classRegistry.getIdentifier(e.constructor):!1}const AT=ih(vT,(e,t)=>["class",t.classRegistry.getIdentifier(e.constructor)],(e,t)=>{const n=t.classRegistry.getAllowedProps(e.constructor);if(!n)return{...e};const r={};return n.forEach(s=>{r[s]=e[s]}),r},(e,t,n)=>{const r=n.classRegistry.getValue(t[1]);if(!r)throw new Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(r.prototype),e)}),TT=ih((e,t)=>!!t.customTransformerRegistry.findApplicable(e),(e,t)=>["custom",t.customTransformerRegistry.findApplicable(e).name],(e,t)=>t.customTransformerRegistry.findApplicable(e).serialize(e),(e,t,n)=>{const r=n.customTransformerRegistry.findByName(t[1]);if(!r)throw new Error("Trying to deserialize unknown custom value");return r.deserialize(e)}),iB=[AT,wT,TT,ET],xT=(e,t)=>{const n=pT(iB,s=>s.isApplicable(e,t));if(n)return{value:n.transform(e,t),type:n.annotation(e,t)};const r=pT(bT,s=>s.isApplicable(e,t));if(r)return{value:r.transform(e,t),type:r.annotation}},ST={};bT.forEach(e=>{ST[e.annotation]=e});const aB=(e,t,n)=>{if(Qo(t))switch(t[0]){case"symbol":return wT.untransform(e,t,n);case"class":return AT.untransform(e,t,n);case"custom":return TT.untransform(e,t,n);case"typed-array":return ET.untransform(e,t,n);default:throw new Error("Unknown transformation: "+t)}else{const r=ST[t];if(!r)throw new Error("Unknown transformation: "+t);return r.untransform(e,n)}},lc=(e,t)=>{const n=e.keys();for(;t>0;)n.next(),t--;return n.next().value};function CT(e){if(oh(e,"__proto__"))throw new Error("__proto__ is not allowed as a property");if(oh(e,"prototype"))throw new Error("prototype is not allowed as a property");if(oh(e,"constructor"))throw new Error("constructor is not allowed as a property")}const cB=(e,t)=>{CT(t);for(let n=0;n<t.length;n++){const r=t[n];if(wl(e))e=lc(e,+r);else if(bl(e)){const s=+r,o=+t[++n]==0?"key":"value",i=lc(e,s);switch(o){case"key":e=i;break;case"value":e=e.get(i);break}}else e=e[r]}return e},jm=(e,t,n)=>{if(CT(t),t.length===0)return n(e);let r=e;for(let o=0;o<t.length-1;o++){const i=t[o];if(Qo(r)){const c=+i;r=r[c]}else if(yl(r))r=r[i];else if(wl(r)){const c=+i;r=lc(r,c)}else if(bl(r)){if(o===t.length-2)break;const d=+i,f=+t[++o]==0?"key":"value",g=lc(r,d);switch(f){case"key":r=g;break;case"value":r=r.get(g);break}}}const s=t[t.length-1];if(Qo(r)?r[+s]=n(r[+s]):yl(r)&&(r[s]=n(r[s])),wl(r)){const o=lc(r,+s),i=n(o);o!==i&&(r.delete(o),r.add(i))}if(bl(r)){const o=+t[t.length-2],i=lc(r,o);switch(+s==0?"key":"value"){case"key":{const d=n(i);r.set(d,r.get(i)),d!==i&&r.delete(i);break}case"value":{r.set(i,n(r.get(i)));break}}}return e};function Vm(e,t,n=[]){if(!e)return;if(!Qo(e)){uc(e,(o,i)=>Vm(o,t,[...n,...El(i)]));return}const[r,s]=e;s&&uc(s,(o,i)=>{Vm(o,t,[...n,...El(i)])}),t(r,n)}function uB(e,t,n){return Vm(t,(r,s)=>{e=jm(e,s,o=>aB(o,r,n))}),e}function lB(e,t){function n(r,s){const o=cB(e,El(s));r.map(El).forEach(i=>{e=jm(e,i,()=>o)})}if(Qo(t)){const[r,s]=t;r.forEach(o=>{e=jm(e,El(o),()=>e)}),s&&uc(s,n)}else uc(t,n);return e}const dB=(e,t)=>yl(e)||Qo(e)||bl(e)||wl(e)||vT(e,t);function fB(e,t,n){const r=n.get(e);r?r.push(t):n.set(e,[t])}function hB(e,t){const n={};let r;return e.forEach(s=>{if(s.length<=1)return;t||(s=s.map(c=>c.map(String)).sort((c,d)=>c.length-d.length));const[o,...i]=s;o.length===0?r=i.map(Hm):n[Hm(o)]=i.map(Hm)}),r?Fm(n)?[r]:[r,n]:Fm(n)?void 0:n}const IT=(e,t,n,r,s=[],o=[],i=new Map)=>{const c=eB(e);if(!c){fB(e,s,t);const b=i.get(e);if(b)return r?{transformedValue:null}:b}if(!dB(e,n)){const b=xT(e,n),k=b?{transformedValue:b.value,annotations:[b.type]}:{transformedValue:e};return c||i.set(e,k),k}if(oh(o,e))return{transformedValue:null};const d=xT(e,n),f=d?.value??e,g=Qo(f)?[]:{},_={};uc(f,(b,k)=>{if(k==="__proto__"||k==="constructor"||k==="prototype")throw new Error(`Detected property ${k}. This is a prototype pollution risk, please remove it from your object.`);const B=IT(b,t,n,r,[...s,k],[...o,e],i);g[k]=B.transformedValue,Qo(B.annotations)?_[k]=B.annotations:yl(B.annotations)&&uc(B.annotations,(z,K)=>{_[yT(k)+"."+K]=z})});const y=Fm(_)?{transformedValue:g,annotations:d?[d.type]:void 0}:{transformedValue:g,annotations:d?[d.type,_]:_};return c||i.set(e,y),y};function en(e){return Object.prototype.toString.call(e).slice(8,-1)}function pB(e){return en(e)==="Object"}function ah(e){return en(e)==="Array"}function pz(e){return en(e)==="Blob"}function gB(e){return en(e)==="Boolean"}function gz(e){return en(e)==="Date"&&!isNaN(e)}function _z(e){return ah(e)&&e.length===0}function ch(e){if(en(e)!=="Object")return!1;const t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}function mz(e){return ch(e)&&Object.keys(e).length===0}function yz(e){return e===""}function bz(e){return en(e)==="Error"||e instanceof Error}function wz(e){return en(e)==="File"}function Ez(e){return ah(e)&&e.length>0}function vz(e){return ch(e)&&Object.keys(e).length>0}function kT(e){return en(e)==="String"}function Az(e){return kT(e)&&e!==""}function Tz(e){return typeof e=="function"}function _B(e,t){if(!(t instanceof Function))throw new TypeError("Type must be a function");if(!Object.prototype.hasOwnProperty.call(t,"prototype"))throw new TypeError("Type is not a class");const n=t.name;return en(e)===n||!!(e&&e.constructor===t)}function xz(e,t){if(typeof t=="function"){for(let n=e;n;n=Object.getPrototypeOf(n))if(_B(n,t))return!0;return!1}else{for(let n=e;n;n=Object.getPrototypeOf(n))if(en(n)===t)return!0;return!1}}function Sz(e){return en(e)==="Map"}function Cz(e){return en(e)==="Number"&&isNaN(e)}function Zm(e){return en(e)==="Number"&&!isNaN(e)}function Iz(e){return Zm(e)&&e<0}function OT(e){return en(e)==="Null"}function mB(e,t,n,r,s){return o=>e(o)||t(o)||!!n&&n(o)||!!r&&r(o)||!!s&&s(o)}function RT(e){return en(e)==="Undefined"}const kz=mB(OT,RT);function Oz(e){return ch(e)}function Rz(e){return pB(e)}function Pz(e){return Zm(e)&&e>0}function yB(e){return en(e)==="Symbol"}function Nz(e){return gB(e)||OT(e)||RT(e)||Zm(e)||kT(e)||yB(e)}function Bz(e){return en(e)==="Promise"}function Dz(e){return en(e)==="RegExp"}function Lz(e){return en(e)==="Set"}function $z(e){return en(e)==="WeakMap"}function Uz(e){return en(e)==="WeakSet"}function bB(e,t,n,r,s){const o={}.propertyIsEnumerable.call(r,t)?"enumerable":"nonenumerable";o==="enumerable"&&(e[t]=n),s&&o==="nonenumerable"&&Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}function Km(e,t={}){if(ah(e))return e.map(s=>Km(s,t));if(!ch(e))return e;const n=Object.getOwnPropertyNames(e),r=Object.getOwnPropertySymbols(e);return[...n,...r].reduce((s,o)=>{if(ah(t.props)&&!t.props.includes(o))return s;const i=e[o],c=Km(i,t);return bB(s,o,c,e,t.nonenumerable),s},{})}class ht{constructor({dedupe:t=!1}={}){this.classRegistry=new H6,this.symbolRegistry=new hT(n=>n.description??""),this.customTransformerRegistry=new Z6,this.allowedErrorProps=[],this.dedupe=t}serialize(t){const n=new Map,r=IT(t,n,this,this.dedupe),s={json:r.transformedValue};r.annotations&&(s.meta={...s.meta,values:r.annotations});const o=hB(n,this.dedupe);return o&&(s.meta={...s.meta,referentialEqualities:o}),s}deserialize(t){const{json:n,meta:r}=t;let s=Km(n);return r?.values&&(s=uB(s,r.values,this)),r?.referentialEqualities&&(s=lB(s,r.referentialEqualities)),s}stringify(t){return JSON.stringify(this.serialize(t))}parse(t){return this.deserialize(JSON.parse(t))}registerClass(t,n){this.classRegistry.register(t,n)}registerSymbol(t,n){this.symbolRegistry.register(t,n)}registerCustom(t,n){this.customTransformerRegistry.register({name:n,...t})}allowErrorProps(...t){this.allowedErrorProps.push(...t)}}ht.defaultInstance=new ht,ht.serialize=ht.defaultInstance.serialize.bind(ht.defaultInstance),ht.deserialize=ht.defaultInstance.deserialize.bind(ht.defaultInstance),ht.stringify=ht.defaultInstance.stringify.bind(ht.defaultInstance),ht.parse=ht.defaultInstance.parse.bind(ht.defaultInstance),ht.registerClass=ht.defaultInstance.registerClass.bind(ht.defaultInstance),ht.registerSymbol=ht.defaultInstance.registerSymbol.bind(ht.defaultInstance),ht.registerCustom=ht.defaultInstance.registerCustom.bind(ht.defaultInstance),ht.allowErrorProps=ht.defaultInstance.allowErrorProps.bind(ht.defaultInstance);const Mz=ht.serialize,zz=ht.deserialize,Fz=ht.stringify,Hz=ht.parse,jz=ht.registerClass,Vz=ht.registerCustom,Zz=ht.registerSymbol,Kz=ht.allowErrorProps,Wm=P6({transformer:ht,links:[(0,z6.windowLink)({window})]});class PT extends Error{constructor({code:t,message:n,options:r={}},s){const{error:o,context:i}=r;super(n,{cause:o}),this.errorMessages=s,this.name="BaseError",this.context=i,this.code=t,this.setMessageByCode(t,n)}setMessageByCode(t,n){!t||!this.errorMessages||n||(this.message=this.errorMessages[t])}toString(){return this.message||""}}var Pr=(e=>(e[e.UserAborted=113]="UserAborted",e[e.Unknown=163]="Unknown",e))(Pr||{});const wB={113:"An error occurred (USER_REFUSED_OP)",163:"An error occurred (UNKNOWN_ERROR)"};class Yr extends PT{constructor(t){super(t,wB),this.name="WalletRPCError"}}async function Gm(e){const t="skipDeploy"in e?!!e.skipDeploy:!1;wt({type:"SIGN_MESSAGE",data:{typedData:e,options:{skipDeploy:t}}});const{actionHash:n}=await ct("SIGN_MESSAGE_RES",1e3);wt({type:"OPEN_UI"});const r=await Promise.race([ct("SIGNATURE_SUCCESS",11*60*1e3,s=>s.data.actionHash===n),ct("SIGNATURES_PENDING",10*60*1e3,s=>s.data.actionHash===n),ct("SIGNATURE_FAILURE",10*60*1e3,s=>s.data.actionHash===n).then(s=>s).catch(s=>(wt({type:"SIGNATURE_FAILURE",data:{actionHash:n,error:s.message}}),"timeout"))]);if(r==="timeout")throw new Yr({code:Pr.Unknown});if("error"in r)throw new Yr({code:Pr.UserAborted,options:{error:r.error}});return"requestId"in r?await Wm.multisig.waitForOffchainSignatures.mutate({requestId:r.requestId}):r.signature}class EB extends q1{constructor(t,n){const r=Mv.starkCurve.utils.randomPrivateKey();super({provider:n||L1,address:t,signer:r})}async execute(t,n,r={}){const s=Array.isArray(n)?r:n,[o,i]=await rh.Sc.execute.parseAsync([t,s]);wt({type:"EXECUTE_TRANSACTION",data:{transactions:o,transactionsDetail:i}});const{actionHash:c}=await ct("EXECUTE_TRANSACTION_RES",1e3);wt({type:"OPEN_UI"});const d=await Promise.race([ct("TRANSACTION_SUBMITTED",11*60*1e3,f=>f.data.actionHash===c),ct("TRANSACTION_FAILED",10*60*1e3,f=>f.data.actionHash===c).then(()=>"error").catch(()=>(wt({type:"TRANSACTION_FAILED",data:{actionHash:c}}),"timeout"))]);if(d==="error")throw Error("User abort");if(d==="timeout")throw Error("User action timed out");return{transaction_hash:d.transactionResult.transactionHash}}async declare(t,n){wt({type:"REQUEST_DECLARE_CONTRACT",data:{payload:t}});const{actionHash:r}=await ct("REQUEST_DECLARE_CONTRACT_RES",1e3);wt({type:"OPEN_UI"});const s=await Promise.race([ct("DECLARE_CONTRACT_ACTION_SUBMITTED",21*60*1e3,o=>o.data.actionHash===r),ct("DECLARE_CONTRACT_ACTION_FAILED",20*60*1e3,o=>o.data.actionHash===r).then(()=>"error").catch(()=>"timeout")]);if(s==="error")throw Error("User abort");if(s==="timeout")throw Error("User action timed out");return{transaction_hash:s.txHash,class_hash:s.classHash}}async signMessage(t,n={skipDeploy:!1}){return Gm({...t,skipDeploy:n.skipDeploy})}}const Ym=async()=>{try{return wt({type:"IS_PREAUTHORIZED"}),await ct("IS_PREAUTHORIZED_RES",10*1e3)}catch{}return!1};var NT=Be(95056);const Wz=Object.freeze({status:"aborted"});function Oe(e,t,n){function r(c,d){var f;Object.defineProperty(c,"_zod",{value:c._zod??{},enumerable:!1}),(f=c._zod).traits??(f.traits=new Set),c._zod.traits.add(e),t(c,d);for(const g in i.prototype)g in c||Object.defineProperty(c,g,{value:i.prototype[g].bind(c)});c._zod.constr=i,c._zod.def=d}const s=n?.Parent??Object;class o extends s{}Object.defineProperty(o,"name",{value:e});function i(c){var d;const f=n?.Parent?new o:this;r(f,c),(d=f._zod).deferred??(d.deferred=[]);for(const g of f._zod.deferred)g();return f}return Object.defineProperty(i,"init",{value:r}),Object.defineProperty(i,Symbol.hasInstance,{value:c=>n?.Parent&&c instanceof n.Parent?!0:c?._zod?.traits?.has(e)}),Object.defineProperty(i,"name",{value:e}),i}const Gz=Symbol("zod_brand");class vl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const Xm={};function ra(e){return e&&Object.assign(Xm,e),Xm}const vB=/^[cC][^\s-]{8,}$/,AB=/^[0-9a-z]+$/,TB=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,xB=/^[0-9a-vA-V]{20}$/,SB=/^[A-Za-z0-9]{27}$/,CB=/^[a-zA-Z0-9_-]{21}$/,IB=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Yz=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,kB=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,BT=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,Xz=null,qz=null,Jz=null,OB=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Qz=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,eF=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,tF=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,nF=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,RB="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function PB(){return new RegExp(RB,"u")}const NB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,BB=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,DB=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,LB=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$B=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,DT=/^[A-Za-z0-9_-]*$/,UB=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,rF=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,MB=/^\+(?:[0-9]){6,14}[0-9]$/,LT="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",zB=new RegExp(`^${LT}$`);function $T(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function FB(e){return new RegExp(`^${$T(e)}$`)}function HB(e){const t=$T({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-]\\d{2}:\\d{2})");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${LT}T(?:${r})$`)}const jB=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},sF=/^\d+n?$/,oF=/^\d+$/,iF=/^-?\d+(?:\.\d+)?/i,VB=/true|false/i,aF=/null/i,ZB=/undefined/i,KB=/^[^A-Z]*$/,WB=/^[^a-z]*$/;function cF(e){return e}function uF(e){return e}function lF(e){}function dF(e){throw new Error}function fF(e){}function GB(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,s])=>t.indexOf(+r)===-1).map(([r,s])=>s)}function hF(e,t="|"){return e.map(n=>JB(n)).join(t)}function YB(e,t){return typeof t=="bigint"?t.toString():t}function UT(e){return{get value(){{const n=e();return Object.defineProperty(this,"value",{value:n}),n}throw new Error("cached value already set")}}}function qm(e){return e==null}function Jm(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function pF(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,o=Number.parseInt(e.toFixed(s).replace(".","")),i=Number.parseInt(t.toFixed(s).replace(".",""));return o%i/10**s}function jt(e,t,n){Object.defineProperty(e,t,{get(){{const s=n();return e[t]=s,s}throw new Error("cached value already set")},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function Qm(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function gF(e,t){return t?t.reduce((n,r)=>n?.[r],e):e}function _F(e){const t=Object.keys(e),n=t.map(r=>e[r]);return Promise.all(n).then(r=>{const s={};for(let o=0;o<t.length;o++)s[t[o]]=r[o];return s})}function mF(e=10){const t="abcdefghijklmnopqrstuvwxyz";let n="";for(let r=0;r<e;r++)n+=t[Math.floor(Math.random()*t.length)];return n}function Al(e){return JSON.stringify(e)}const MT=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function e0(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const XB=UT(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function t0(e){if(e0(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(e0(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function yF(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}const bF=e=>{const t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(e)?"array":e===null?"null":e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?"promise":typeof Map<"u"&&e instanceof Map?"map":typeof Set<"u"&&e instanceof Set?"set":typeof Date<"u"&&e instanceof Date?"date":typeof File<"u"&&e instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${t}`)}},qB=new Set(["string","number","symbol"]),wF=new Set(["string","number","bigint","boolean","symbol","undefined"]);function Tl(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function sa(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function Qe(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function EF(e){let t;return new Proxy({},{get(n,r,s){return t??(t=e()),Reflect.get(t,r,s)},set(n,r,s,o){return t??(t=e()),Reflect.set(t,r,s,o)},has(n,r){return t??(t=e()),Reflect.has(t,r)},deleteProperty(n,r){return t??(t=e()),Reflect.deleteProperty(t,r)},ownKeys(n){return t??(t=e()),Reflect.ownKeys(t)},getOwnPropertyDescriptor(n,r){return t??(t=e()),Reflect.getOwnPropertyDescriptor(t,r)},defineProperty(n,r,s){return t??(t=e()),Reflect.defineProperty(t,r,s)}})}function JB(e){return typeof e=="bigint"?e.toString()+"n":typeof e=="string"?`"${e}"`:`${e}`}function QB(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const vF={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},AF={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function e4(e,t){const n={},r=e._zod.def;for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&(n[s]=r.shape[s])}return sa(e,{...e._zod.def,shape:n,checks:[]})}function t4(e,t){const n={...e._zod.def.shape},r=e._zod.def;for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&delete n[s]}return sa(e,{...e._zod.def,shape:n,checks:[]})}function n4(e,t){if(!t0(t))throw new Error("Invalid input to extend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return Qm(this,"shape",r),r},checks:[]};return sa(e,n)}function r4(e,t){return sa(e,{...e._zod.def,get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Qm(this,"shape",n),n},catchall:t._zod.def.catchall,checks:[]})}function s4(e,t,n){const r=t._zod.def.shape,s={...r};if(n)for(const o in n){if(!(o in r))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=e?new e({type:"optional",innerType:r[o]}):r[o])}else for(const o in r)s[o]=e?new e({type:"optional",innerType:r[o]}):r[o];return sa(t,{...t._zod.def,shape:s,checks:[]})}function o4(e,t,n){const r=t._zod.def.shape,s={...r};if(n)for(const o in n){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=new e({type:"nonoptional",innerType:r[o]}))}else for(const o in r)s[o]=new e({type:"nonoptional",innerType:r[o]});return sa(t,{...t._zod.def,shape:s,checks:[]})}function xl(e,t=0){for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function n0(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function uh(e){return typeof e=="string"?e:e?.message}function oa(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const s=uh(e.inst?._zod.def?.error?.(e))??uh(t?.error?.(e))??uh(n.customError?.(e))??uh(n.localeError?.(e))??"Invalid input";r.message=s}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function TF(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function r0(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Sl(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}function xF(e){return Object.entries(e).filter(([t,n])=>Number.isNaN(Number.parseInt(t,10))).map(t=>t[1])}class SF{constructor(...t){}}const Ms=Oe("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),CF={number:"number",bigint:"bigint",object:"date"},IF=null,kF=null,OF=null,RF=null,PF=null,NF=null,BF=null,DF=null,i4=Oe("$ZodCheckMaxLength",(e,t)=>{var n;Ms.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!qm(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const s=r.value;if(s.length<=t.maximum)return;const i=r0(s);r.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),a4=Oe("$ZodCheckMinLength",(e,t)=>{var n;Ms.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!qm(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const s=r.value;if(s.length>=t.minimum)return;const i=r0(s);r.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),c4=Oe("$ZodCheckLengthEquals",(e,t)=>{var n;Ms.init(e,t),(n=e._zod.def).when??(n.when=r=>{const s=r.value;return!qm(s)&&s.length!==void 0}),e._zod.onattach.push(r=>{const s=r._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=r=>{const s=r.value,o=s.length;if(o===t.length)return;const i=r0(s),c=o>t.length;r.issues.push({origin:i,...c?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),lh=Oe("$ZodCheckStringFormat",(e,t)=>{var n,r;Ms.init(e,t),e._zod.onattach.push(s=>{const o=s._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),u4=Oe("$ZodCheckRegex",(e,t)=>{lh.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),l4=Oe("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=KB),lh.init(e,t)}),d4=Oe("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=WB),lh.init(e,t)}),f4=Oe("$ZodCheckIncludes",(e,t)=>{Ms.init(e,t);const n=Tl(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(s=>{const o=s._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),h4=Oe("$ZodCheckStartsWith",(e,t)=>{Ms.init(e,t);const n=new RegExp(`^${Tl(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),p4=Oe("$ZodCheckEndsWith",(e,t)=>{Ms.init(e,t);const n=new RegExp(`.*${Tl(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const s=r._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}});function LF(e,t,n){e.issues.length&&t.issues.push(...util.prefixIssues(n,e.issues))}const $F=null,UF=null,g4=Oe("$ZodCheckOverwrite",(e,t)=>{Ms.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class _4{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(i=>i),s=Math.min(...r.map(i=>i.length-i.trimStart().length)),o=r.map(i=>i.slice(s)).map(i=>" ".repeat(this.indent*2)+i);for(const i of o)this.content.push(i)}compile(){const t=Function,n=this?.args,s=[...(this?.content??[""]).map(o=>`  ${o}`)];return new t(...n,s.join(`
`))}}const zT=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,YB,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},FT=Oe("$ZodError",zT),dh=Oe("$ZodError",zT,{Parent:Error});function m4(e,t=n=>n.message){const n={},r=[];for(const s of e.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):r.push(t(s));return{formErrors:r,fieldErrors:n}}function y4(e,t){const n=t||function(o){return o.message},r={_errors:[]},s=o=>{for(const i of o.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(c=>s({issues:c}));else if(i.code==="invalid_key")s({issues:i.issues});else if(i.code==="invalid_element")s({issues:i.issues});else if(i.path.length===0)r._errors.push(n(i));else{let c=r,d=0;for(;d<i.path.length;){const f=i.path[d];d===i.path.length-1?(c[f]=c[f]||{_errors:[]},c[f]._errors.push(n(i))):c[f]=c[f]||{_errors:[]},c=c[f],d++}}};return s(e),r}function MF(e,t){const n=t||function(o){return o.message},r={errors:[]},s=(o,i=[])=>{var c,d;for(const f of o.issues)if(f.code==="invalid_union"&&f.errors.length)f.errors.map(g=>s({issues:g},f.path));else if(f.code==="invalid_key")s({issues:f.issues},f.path);else if(f.code==="invalid_element")s({issues:f.issues},f.path);else{const g=[...i,...f.path];if(g.length===0){r.errors.push(n(f));continue}let _=r,y=0;for(;y<g.length;){const b=g[y],k=y===g.length-1;typeof b=="string"?(_.properties??(_.properties={}),(c=_.properties)[b]??(c[b]={errors:[]}),_=_.properties[b]):(_.items??(_.items=[]),(d=_.items)[b]??(d[b]={errors:[]}),_=_.items[b]),k&&_.errors.push(n(f)),y++}}};return s(e),r}function b4(e){const t=[];for(const n of e)typeof n=="number"?t.push(`[${n}]`):typeof n=="symbol"?t.push(`[${JSON.stringify(String(n))}]`):/[^\w$]/.test(n)?t.push(`[${JSON.stringify(n)}]`):(t.length&&t.push("."),t.push(n));return t.join("")}function zF(e){const t=[],n=[...e.issues].sort((r,s)=>r.path.length-s.path.length);for(const r of n)t.push(`\u2716 ${r.message}`),r.path?.length&&t.push(`  \u2192 at ${b4(r.path)}`);return t.join(`
`)}const HT=e=>(t,n,r,s)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},i=t._zod.run({value:n,issues:[]},o);if(i instanceof Promise)throw new vl;if(i.issues.length){const c=new(s?.Err??e)(i.issues.map(d=>oa(d,o,ra())));throw MT(c,s?.callee),c}return i.value},FF=HT(dh),jT=e=>async(t,n,r,s)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},o);if(i instanceof Promise&&(i=await i),i.issues.length){const c=new(s?.Err??e)(i.issues.map(d=>oa(d,o,ra())));throw MT(c,s?.callee),c}return i.value},HF=jT(dh),VT=e=>(t,n,r)=>{const s=r?{...r,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},s);if(o instanceof Promise)throw new vl;return o.issues.length?{success:!1,error:new(e??FT)(o.issues.map(i=>oa(i,s,ra())))}:{success:!0,data:o.value}},w4=VT(dh),ZT=e=>async(t,n,r)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},s);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(i=>oa(i,s,ra())))}:{success:!0,data:o.value}},E4=ZT(dh),v4={major:4,minor:0,patch:5},qt=Oe("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=v4;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const s of r)for(const o of s._zod.onattach)o(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const s=(o,i,c)=>{let d=xl(o),f;for(const g of i){if(g._zod.def.when){if(!g._zod.def.when(o))continue}else if(d)continue;const _=o.issues.length,y=g._zod.check(o);if(y instanceof Promise&&c?.async===!1)throw new vl;if(f||y instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await y,o.issues.length!==_&&(d||(d=xl(o,_)))});else{if(o.issues.length===_)continue;d||(d=xl(o,_))}}return f?f.then(()=>o):o};e._zod.run=(o,i)=>{const c=e._zod.parse(o,i);if(c instanceof Promise){if(i.async===!1)throw new vl;return c.then(d=>s(d,r,i))}return s(c,r,i)}}e["~standard"]={validate:s=>{try{const o=w4(e,s);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return E4(e,s).then(i=>i.success?{value:i.data}:{issues:i.error?.issues})}},vendor:"zod",version:1}}),s0=Oe("$ZodString",(e,t)=>{qt.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??jB(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),Kt=Oe("$ZodStringFormat",(e,t)=>{lh.init(e,t),s0.init(e,t)}),A4=Oe("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=kB),Kt.init(e,t)}),T4=Oe("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=BT(r))}else t.pattern??(t.pattern=BT());Kt.init(e,t)}),x4=Oe("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=OB),Kt.init(e,t)}),S4=Oe("$ZodURL",(e,t)=>{Kt.init(e,t),e._zod.check=n=>{try{const r=n.value,s=new URL(r),o=s.href;t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:UB.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),!r.endsWith("/")&&o.endsWith("/")?n.value=o.slice(0,-1):n.value=o;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),C4=Oe("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=PB()),Kt.init(e,t)}),I4=Oe("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=CB),Kt.init(e,t)}),k4=Oe("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=vB),Kt.init(e,t)}),O4=Oe("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=AB),Kt.init(e,t)}),R4=Oe("$ZodULID",(e,t)=>{t.pattern??(t.pattern=TB),Kt.init(e,t)}),P4=Oe("$ZodXID",(e,t)=>{t.pattern??(t.pattern=xB),Kt.init(e,t)}),N4=Oe("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=SB),Kt.init(e,t)}),B4=Oe("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=HB(t)),Kt.init(e,t)}),D4=Oe("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=zB),Kt.init(e,t)}),L4=Oe("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=FB(t)),Kt.init(e,t)}),$4=Oe("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=IB),Kt.init(e,t)}),U4=Oe("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=NB),Kt.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),M4=Oe("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=BB),Kt.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),z4=Oe("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=DB),Kt.init(e,t)}),F4=Oe("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=LB),Kt.init(e,t),e._zod.check=n=>{const[r,s]=n.value.split("/");try{if(!s)throw new Error;const o=Number(s);if(`${o}`!==s)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function KT(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const H4=Oe("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=$B),Kt.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{KT(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function j4(e){if(!DT.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return KT(n)}const V4=Oe("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=DT),Kt.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{j4(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Z4=Oe("$ZodE164",(e,t)=>{t.pattern??(t.pattern=MB),Kt.init(e,t)});function K4(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const s=JSON.parse(atob(r));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const W4=Oe("$ZodJWT",(e,t)=>{Kt.init(e,t),e._zod.check=n=>{K4(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),jF=null,VF=null,ZF=null,G4=Oe("$ZodBoolean",(e,t)=>{qt.init(e,t),e._zod.pattern=VB,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const s=n.value;return typeof s=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:e}),n}}),KF=null,WF=null,GF=null,Y4=Oe("$ZodUndefined",(e,t)=>{qt.init(e,t),e._zod.pattern=ZB,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(n,r)=>{const s=n.value;return typeof s>"u"||n.issues.push({expected:"undefined",code:"invalid_type",input:s,inst:e}),n}}),YF=null,XF=null,X4=Oe("$ZodUnknown",(e,t)=>{qt.init(e,t),e._zod.parse=n=>n}),q4=Oe("$ZodNever",(e,t)=>{qt.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)}),qF=null,JF=null;function WT(e,t,n){e.issues.length&&t.issues.push(...n0(n,e.issues)),t.value[n]=e.value}const J4=Oe("$ZodArray",(e,t)=>{qt.init(e,t),e._zod.parse=(n,r)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),n;n.value=Array(s.length);const o=[];for(let i=0;i<s.length;i++){const c=s[i],d=t.element._zod.run({value:c,issues:[]},r);d instanceof Promise?o.push(d.then(f=>WT(f,n,i))):WT(d,n,i)}return o.length?Promise.all(o).then(()=>n):n}});function fh(e,t,n){e.issues.length&&t.issues.push(...n0(n,e.issues)),t.value[n]=e.value}function GT(e,t,n,r){e.issues.length?r[n]===void 0?n in r?t.value[n]=void 0:t.value[n]=e.value:t.issues.push(...n0(n,e.issues)):e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}const Q4=Oe("$ZodObject",(e,t)=>{qt.init(e,t);const n=UT(()=>{const _=Object.keys(t.shape);for(const b of _)if(!(t.shape[b]instanceof qt))throw new Error(`Invalid element at key "${b}": expected a Zod schema`);const y=QB(t.shape);return{shape:t.shape,keys:_,keySet:new Set(_),numKeys:_.length,optionalKeys:new Set(y)}});jt(e._zod,"propValues",()=>{const _=t.shape,y={};for(const b in _){const k=_[b]._zod;if(k.values){y[b]??(y[b]=new Set);for(const B of k.values)y[b].add(B)}}return y});const r=_=>{const y=new _4(["shape","payload","ctx"]),b=n.value,k=J=>{const q=Al(J);return`shape[${q}]._zod.run({ value: input[${q}], issues: [] }, ctx)`};y.write("const input = payload.value;");const B=Object.create(null);let z=0;for(const J of b.keys)B[J]=`key_${z++}`;y.write("const newResult = {}");for(const J of b.keys)if(b.optionalKeys.has(J)){const q=B[J];y.write(`const ${q} = ${k(J)};`);const ee=Al(J);y.write(`
        if (${q}.issues.length) {
          if (input[${ee}] === undefined) {
            if (${ee} in input) {
              newResult[${ee}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${q}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${ee}, ...iss.path] : [${ee}],
              }))
            );
          }
        } else if (${q}.value === undefined) {
          if (${ee} in input) newResult[${ee}] = undefined;
        } else {
          newResult[${ee}] = ${q}.value;
        }
        `)}else{const q=B[J];y.write(`const ${q} = ${k(J)};`),y.write(`
          if (${q}.issues.length) payload.issues = payload.issues.concat(${q}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Al(J)}, ...iss.path] : [${Al(J)}]
          })));`),y.write(`newResult[${Al(J)}] = ${q}.value`)}y.write("payload.value = newResult;"),y.write("return payload;");const K=y.compile();return(J,q)=>K(_,J,q)};let s;const o=e0,i=!Xm.jitless,d=i&&XB.value,f=t.catchall;let g;e._zod.parse=(_,y)=>{g??(g=n.value);const b=_.value;if(!o(b))return _.issues.push({expected:"object",code:"invalid_type",input:b,inst:e}),_;const k=[];if(i&&d&&y?.async===!1&&y.jitless!==!0)s||(s=r(t.shape)),_=s(_,y);else{_.value={};const q=g.shape;for(const ee of g.keys){const be=q[ee],fe=be._zod.run({value:b[ee],issues:[]},y),ne=be._zod.optin==="optional"&&be._zod.optout==="optional";fe instanceof Promise?k.push(fe.then(pe=>ne?GT(pe,_,ee,b):fh(pe,_,ee))):ne?GT(fe,_,ee,b):fh(fe,_,ee)}}if(!f)return k.length?Promise.all(k).then(()=>_):_;const B=[],z=g.keySet,K=f._zod,J=K.def.type;for(const q of Object.keys(b)){if(z.has(q))continue;if(J==="never"){B.push(q);continue}const ee=K.run({value:b[q],issues:[]},y);ee instanceof Promise?k.push(ee.then(be=>fh(be,_,q))):fh(ee,_,q)}return B.length&&_.issues.push({code:"unrecognized_keys",keys:B,input:b,inst:e}),k.length?Promise.all(k).then(()=>_):_}});function YT(e,t,n,r){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(s=>s.issues.map(o=>oa(o,r,ra())))}),t}const eD=Oe("$ZodUnion",(e,t)=>{qt.init(e,t),jt(e._zod,"optin",()=>t.options.some(n=>n._zod.optin==="optional")?"optional":void 0),jt(e._zod,"optout",()=>t.options.some(n=>n._zod.optout==="optional")?"optional":void 0),jt(e._zod,"values",()=>{if(t.options.every(n=>n._zod.values))return new Set(t.options.flatMap(n=>Array.from(n._zod.values)))}),jt(e._zod,"pattern",()=>{if(t.options.every(n=>n._zod.pattern)){const n=t.options.map(r=>r._zod.pattern);return new RegExp(`^(${n.map(r=>Jm(r.source)).join("|")})$`)}}),e._zod.parse=(n,r)=>{let s=!1;const o=[];for(const i of t.options){const c=i._zod.run({value:n.value,issues:[]},r);if(c instanceof Promise)o.push(c),s=!0;else{if(c.issues.length===0)return c;o.push(c)}}return s?Promise.all(o).then(i=>YT(i,n,e,r)):YT(o,n,e,r)}}),QF=null,tD=Oe("$ZodIntersection",(e,t)=>{qt.init(e,t),e._zod.parse=(n,r)=>{const s=n.value,o=t.left._zod.run({value:s,issues:[]},r),i=t.right._zod.run({value:s,issues:[]},r);return o instanceof Promise||i instanceof Promise?Promise.all([o,i]).then(([d,f])=>XT(n,d,f)):XT(n,o,i)}});function o0(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(t0(e)&&t0(t)){const n=Object.keys(t),r=Object.keys(e).filter(o=>n.indexOf(o)!==-1),s={...e,...t};for(const o of r){const i=o0(e[o],t[o]);if(!i.valid)return{valid:!1,mergeErrorPath:[o,...i.mergeErrorPath]};s[o]=i.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r],i=o0(s,o);if(!i.valid)return{valid:!1,mergeErrorPath:[r,...i.mergeErrorPath]};n.push(i.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function XT(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),xl(e))return e;const r=o0(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const eH=null;function tH(e,t,n){e.issues.length&&t.issues.push(...util.prefixIssues(n,e.issues)),t.value[n]=e.value}const nH=null,rH=null;function sH(e,t,n,r,s,o,i){e.issues.length&&(util.propertyKeyTypes.has(typeof r)?n.issues.push(...util.prefixIssues(r,e.issues)):n.issues.push({origin:"map",code:"invalid_key",input:s,inst:o,issues:e.issues.map(c=>util.finalizeIssue(c,i,core.config()))})),t.issues.length&&(util.propertyKeyTypes.has(typeof r)?n.issues.push(...util.prefixIssues(r,t.issues)):n.issues.push({origin:"map",code:"invalid_element",input:s,inst:o,key:r,issues:t.issues.map(c=>util.finalizeIssue(c,i,core.config()))})),n.value.set(e.value,t.value)}const oH=null;function iH(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}const nD=Oe("$ZodEnum",(e,t)=>{qt.init(e,t);const n=GB(t.entries);e._zod.values=new Set(n),e._zod.pattern=new RegExp(`^(${n.filter(r=>qB.has(typeof r)).map(r=>typeof r=="string"?Tl(r):r.toString()).join("|")})$`),e._zod.parse=(r,s)=>{const o=r.value;return e._zod.values.has(o)||r.issues.push({code:"invalid_value",values:n,input:o,inst:e}),r}}),rD=Oe("$ZodLiteral",(e,t)=>{qt.init(e,t),e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(n=>typeof n=="string"?Tl(n):n?n.toString():String(n)).join("|")})$`),e._zod.parse=(n,r)=>{const s=n.value;return e._zod.values.has(s)||n.issues.push({code:"invalid_value",values:t.values,input:s,inst:e}),n}}),aH=null,sD=Oe("$ZodTransform",(e,t)=>{qt.init(e,t),e._zod.parse=(n,r)=>{const s=t.transform(n.value,n);if(r.async)return(s instanceof Promise?s:Promise.resolve(s)).then(i=>(n.value=i,n));if(s instanceof Promise)throw new vl;return n.value=s,n}}),oD=Oe("$ZodOptional",(e,t)=>{qt.init(e,t),e._zod.optin="optional",e._zod.optout="optional",jt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),jt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Jm(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(n,r):n.value===void 0?n:t.innerType._zod.run(n,r)}),iD=Oe("$ZodNullable",(e,t)=>{qt.init(e,t),jt(e._zod,"optin",()=>t.innerType._zod.optin),jt(e._zod,"optout",()=>t.innerType._zod.optout),jt(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Jm(n.source)}|null)$`):void 0}),jt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),aD=Oe("$ZodDefault",(e,t)=>{qt.init(e,t),e._zod.optin="optional",jt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(n.value===void 0)return n.value=t.defaultValue,n;const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(o=>qT(o,t)):qT(s,t)}});function qT(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const cD=Oe("$ZodPrefault",(e,t)=>{qt.init(e,t),e._zod.optin="optional",jt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),uD=Oe("$ZodNonOptional",(e,t)=>{qt.init(e,t),jt(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(o=>JT(o,e)):JT(s,e)}});function JT(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const cH=null,lD=Oe("$ZodCatch",(e,t)=>{qt.init(e,t),e._zod.optin="optional",jt(e._zod,"optout",()=>t.innerType._zod.optout),jt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(o=>(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(i=>oa(i,r,ra()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(o=>oa(o,r,ra()))},input:n.value}),n.issues=[]),n)}}),uH=null,dD=Oe("$ZodPipe",(e,t)=>{qt.init(e,t),jt(e._zod,"values",()=>t.in._zod.values),jt(e._zod,"optin",()=>t.in._zod.optin),jt(e._zod,"optout",()=>t.out._zod.optout),jt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{const s=t.in._zod.run(n,r);return s instanceof Promise?s.then(o=>QT(o,t,r)):QT(s,t,r)}});function QT(e,t,n){return xl(e)?e:t.out._zod.run({value:e.value,issues:e.issues},n)}const fD=Oe("$ZodReadonly",(e,t)=>{qt.init(e,t),jt(e._zod,"propValues",()=>t.innerType._zod.propValues),jt(e._zod,"values",()=>t.innerType._zod.values),jt(e._zod,"optin",()=>t.innerType._zod.optin),jt(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,r)=>{const s=t.innerType._zod.run(n,r);return s instanceof Promise?s.then(ex):ex(s)}});function ex(e){return e.value=Object.freeze(e.value),e}const lH=null,dH=null,fH=null,hD=Oe("$ZodCustom",(e,t)=>{Ms.init(e,t),qt.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,s=t.fn(r);if(s instanceof Promise)return s.then(o=>tx(o,n,r,e));tx(s,n,r,e)}});function tx(e,t,n,r){if(!e){const s={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(s.params=r._zod.def.params),t.issues.push(Sl(s))}}const hH=Symbol("ZodOutput"),pH=Symbol("ZodInput");class pD{constructor(){this._map=new Map,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};return delete r.id,{...r,...this._map.get(t)}}return this._map.get(t)}has(t){return this._map.has(t)}}function gD(){return new pD}const hh=gD();function _D(e,t){return new e({type:"string",...Qe(t)})}function gH(e,t){return new e({type:"string",coerce:!0,...util.normalizeParams(t)})}function mD(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Qe(t)})}function nx(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Qe(t)})}function yD(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Qe(t)})}function bD(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Qe(t)})}function wD(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Qe(t)})}function ED(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Qe(t)})}function rx(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Qe(t)})}function vD(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Qe(t)})}function AD(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Qe(t)})}function TD(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Qe(t)})}function xD(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Qe(t)})}function SD(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Qe(t)})}function CD(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Qe(t)})}function ID(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Qe(t)})}function kD(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Qe(t)})}function OD(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Qe(t)})}function RD(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Qe(t)})}function PD(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Qe(t)})}function ND(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Qe(t)})}function BD(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Qe(t)})}function DD(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Qe(t)})}function LD(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Qe(t)})}const _H={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function $D(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Qe(t)})}function UD(e,t){return new e({type:"string",format:"date",check:"string_format",...Qe(t)})}function MD(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Qe(t)})}function zD(e,t){return new e({type:"string",format:"duration",check:"string_format",...Qe(t)})}function mH(e,t){return new e({type:"number",checks:[],...util.normalizeParams(t)})}function yH(e,t){return new e({type:"number",coerce:!0,checks:[],...util.normalizeParams(t)})}function bH(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...util.normalizeParams(t)})}function wH(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...util.normalizeParams(t)})}function EH(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...util.normalizeParams(t)})}function vH(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...util.normalizeParams(t)})}function AH(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...util.normalizeParams(t)})}function FD(e,t){return new e({type:"boolean",...Qe(t)})}function TH(e,t){return new e({type:"boolean",coerce:!0,...util.normalizeParams(t)})}function xH(e,t){return new e({type:"bigint",...util.normalizeParams(t)})}function SH(e,t){return new e({type:"bigint",coerce:!0,...util.normalizeParams(t)})}function CH(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...util.normalizeParams(t)})}function IH(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...util.normalizeParams(t)})}function kH(e,t){return new e({type:"symbol",...util.normalizeParams(t)})}function HD(e,t){return new e({type:"undefined",...Qe(t)})}function OH(e,t){return new e({type:"null",...util.normalizeParams(t)})}function RH(e){return new e({type:"any"})}function jD(e){return new e({type:"unknown"})}function VD(e,t){return new e({type:"never",...Qe(t)})}function PH(e,t){return new e({type:"void",...util.normalizeParams(t)})}function NH(e,t){return new e({type:"date",...util.normalizeParams(t)})}function BH(e,t){return new e({type:"date",coerce:!0,...util.normalizeParams(t)})}function DH(e,t){return new e({type:"nan",...util.normalizeParams(t)})}function ZD(e,t){return new checks.$ZodCheckLessThan({check:"less_than",...util.normalizeParams(t),value:e,inclusive:!1})}function KD(e,t){return new checks.$ZodCheckLessThan({check:"less_than",...util.normalizeParams(t),value:e,inclusive:!0})}function WD(e,t){return new checks.$ZodCheckGreaterThan({check:"greater_than",...util.normalizeParams(t),value:e,inclusive:!1})}function GD(e,t){return new checks.$ZodCheckGreaterThan({check:"greater_than",...util.normalizeParams(t),value:e,inclusive:!0})}function LH(e){return WD(0,e)}function $H(e){return ZD(0,e)}function UH(e){return KD(0,e)}function MH(e){return GD(0,e)}function zH(e,t){return new checks.$ZodCheckMultipleOf({check:"multiple_of",...util.normalizeParams(t),value:e})}function FH(e,t){return new checks.$ZodCheckMaxSize({check:"max_size",...util.normalizeParams(t),maximum:e})}function HH(e,t){return new checks.$ZodCheckMinSize({check:"min_size",...util.normalizeParams(t),minimum:e})}function jH(e,t){return new checks.$ZodCheckSizeEquals({check:"size_equals",...util.normalizeParams(t),size:e})}function sx(e,t){return new i4({check:"max_length",...Qe(t),maximum:e})}function ph(e,t){return new a4({check:"min_length",...Qe(t),minimum:e})}function ox(e,t){return new c4({check:"length_equals",...Qe(t),length:e})}function YD(e,t){return new u4({check:"string_format",format:"regex",...Qe(t),pattern:e})}function XD(e){return new l4({check:"string_format",format:"lowercase",...Qe(e)})}function qD(e){return new d4({check:"string_format",format:"uppercase",...Qe(e)})}function JD(e,t){return new f4({check:"string_format",format:"includes",...Qe(t),includes:e})}function QD(e,t){return new h4({check:"string_format",format:"starts_with",...Qe(t),prefix:e})}function e8(e,t){return new p4({check:"string_format",format:"ends_with",...Qe(t),suffix:e})}function VH(e,t,n){return new checks.$ZodCheckProperty({check:"property",property:e,schema:t,...util.normalizeParams(n)})}function ZH(e,t){return new checks.$ZodCheckMimeType({check:"mime_type",mime:e,...util.normalizeParams(t)})}function Cl(e){return new g4({check:"overwrite",tx:e})}function t8(e){return Cl(t=>t.normalize(e))}function n8(){return Cl(e=>e.trim())}function r8(){return Cl(e=>e.toLowerCase())}function s8(){return Cl(e=>e.toUpperCase())}function o8(e,t,n){return new e({type:"array",element:t,...Qe(n)})}function KH(e,t,n){return new e({type:"union",options:t,...util.normalizeParams(n)})}function WH(e,t,n,r){return new e({type:"union",options:n,discriminator:t,...util.normalizeParams(r)})}function GH(e,t,n){return new e({type:"intersection",left:t,right:n})}function YH(e,t,n,r){const s=n instanceof schemas.$ZodType,o=s?r:n,i=s?n:null;return new e({type:"tuple",items:t,rest:i,...util.normalizeParams(o)})}function XH(e,t,n,r){return new e({type:"record",keyType:t,valueType:n,...util.normalizeParams(r)})}function qH(e,t,n,r){return new e({type:"map",keyType:t,valueType:n,...util.normalizeParams(r)})}function JH(e,t,n){return new e({type:"set",valueType:t,...util.normalizeParams(n)})}function QH(e,t,n){const r=Array.isArray(t)?Object.fromEntries(t.map(s=>[s,s])):t;return new e({type:"enum",entries:r,...util.normalizeParams(n)})}function ej(e,t,n){return new e({type:"enum",entries:t,...util.normalizeParams(n)})}function tj(e,t,n){return new e({type:"literal",values:Array.isArray(t)?t:[t],...util.normalizeParams(n)})}function nj(e,t){return new e({type:"file",...util.normalizeParams(t)})}function rj(e,t){return new e({type:"transform",transform:t})}function sj(e,t){return new e({type:"optional",innerType:t})}function oj(e,t){return new e({type:"nullable",innerType:t})}function ij(e,t,n){return new e({type:"default",innerType:t,get defaultValue(){return typeof n=="function"?n():n}})}function aj(e,t,n){return new e({type:"nonoptional",innerType:t,...util.normalizeParams(n)})}function cj(e,t){return new e({type:"success",innerType:t})}function uj(e,t,n){return new e({type:"catch",innerType:t,catchValue:typeof n=="function"?n:()=>n})}function lj(e,t,n){return new e({type:"pipe",in:t,out:n})}function dj(e,t){return new e({type:"readonly",innerType:t})}function fj(e,t,n){return new e({type:"template_literal",parts:t,...util.normalizeParams(n)})}function hj(e,t){return new e({type:"lazy",getter:t})}function pj(e,t){return new e({type:"promise",innerType:t})}function gj(e,t,n){const r=util.normalizeParams(n);return r.abort??(r.abort=!0),new e({type:"custom",check:"custom",fn:t,...r})}function i8(e,t,n){return new e({type:"custom",check:"custom",fn:t,...Qe(n)})}function _j(e,t){const n=util.normalizeParams(t);let r=n.truthy??["true","1","yes","on","y","enabled"],s=n.falsy??["false","0","no","off","n","disabled"];n.case!=="sensitive"&&(r=r.map(k=>typeof k=="string"?k.toLowerCase():k),s=s.map(k=>typeof k=="string"?k.toLowerCase():k));const o=new Set(r),i=new Set(s),c=e.Pipe??schemas.$ZodPipe,d=e.Boolean??schemas.$ZodBoolean,f=e.String??schemas.$ZodString,g=e.Transform??schemas.$ZodTransform,_=new g({type:"transform",transform:(k,B)=>{let z=k;return n.case!=="sensitive"&&(z=z.toLowerCase()),o.has(z)?!0:i.has(z)?!1:(B.issues.push({code:"invalid_value",expected:"stringbool",values:[...o,...i],input:B.value,inst:_}),{})},error:n.error}),y=new c({type:"pipe",in:new f({type:"string",error:n.error}),out:_,error:n.error});return new c({type:"pipe",in:y,out:new d({type:"boolean",error:n.error}),error:n.error})}function mj(e,t,n,r={}){const s=util.normalizeParams(r),o={...util.normalizeParams(r),check:"string_format",type:"string",format:t,fn:typeof n=="function"?n:c=>n.test(c),...s};return n instanceof RegExp&&(o.pattern=n),new e(o)}const a8=Oe("ZodISODateTime",(e,t)=>{B4.init(e,t),Jt.init(e,t)});function c8(e){return $D(a8,e)}const u8=Oe("ZodISODate",(e,t)=>{D4.init(e,t),Jt.init(e,t)});function l8(e){return UD(u8,e)}const d8=Oe("ZodISOTime",(e,t)=>{L4.init(e,t),Jt.init(e,t)});function f8(e){return MD(d8,e)}const h8=Oe("ZodISODuration",(e,t)=>{$4.init(e,t),Jt.init(e,t)});function p8(e){return zD(h8,e)}const ix=(e,t)=>{FT.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>y4(e,n)},flatten:{value:n=>m4(e,n)},addIssue:{value:n=>e.issues.push(n)},addIssues:{value:n=>e.issues.push(...n)},isEmpty:{get(){return e.issues.length===0}}})},yj=Oe("ZodError",ix),gh=Oe("ZodError",ix,{Parent:Error}),g8=HT(gh),_8=jT(gh),m8=VT(gh),y8=ZT(gh),an=Oe("ZodType",(e,t)=>(qt.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),e.clone=(n,r)=>sa(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>g8(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>m8(e,n,r),e.parseAsync=async(n,r)=>_8(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>y8(e,n,r),e.spa=e.safeParseAsync,e.refine=(n,r)=>e.check(aL(n,r)),e.superRefine=n=>e.check(cL(n)),e.overwrite=n=>e.check(Cl(n)),e.optional=()=>ao(e),e.nullable=()=>f0(e),e.nullish=()=>ao(f0(e)),e.nonoptional=n=>Y8(e,n),e.array=()=>u0(e),e.or=n=>_h([e,n]),e.and=n=>$8(e,n),e.transform=n=>h0(e,Px(n)),e.default=n=>K8(e,n),e.prefault=n=>G8(e,n),e.catch=n=>J8(e,n),e.pipe=n=>h0(e,n),e.readonly=()=>tL(e),e.describe=n=>{const r=e.clone();return hh.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){return hh.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return hh.get(e);const r=e.clone();return hh.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),ax=Oe("_ZodString",(e,t)=>{s0.init(e,t),an.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(YD(...r)),e.includes=(...r)=>e.check(JD(...r)),e.startsWith=(...r)=>e.check(QD(...r)),e.endsWith=(...r)=>e.check(e8(...r)),e.min=(...r)=>e.check(ph(...r)),e.max=(...r)=>e.check(sx(...r)),e.length=(...r)=>e.check(ox(...r)),e.nonempty=(...r)=>e.check(ph(1,...r)),e.lowercase=r=>e.check(XD(r)),e.uppercase=r=>e.check(qD(r)),e.trim=()=>e.check(n8()),e.normalize=(...r)=>e.check(t8(...r)),e.toLowerCase=()=>e.check(r8()),e.toUpperCase=()=>e.check(s8())}),cx=Oe("ZodString",(e,t)=>{s0.init(e,t),ax.init(e,t),e.email=n=>e.check(mD(ux,n)),e.url=n=>e.check(rx(lx,n)),e.jwt=n=>e.check(LD(xx,n)),e.emoji=n=>e.check(vD(dx,n)),e.guid=n=>e.check(nx(i0,n)),e.uuid=n=>e.check(yD(ei,n)),e.uuidv4=n=>e.check(bD(ei,n)),e.uuidv6=n=>e.check(wD(ei,n)),e.uuidv7=n=>e.check(ED(ei,n)),e.nanoid=n=>e.check(AD(fx,n)),e.guid=n=>e.check(nx(i0,n)),e.cuid=n=>e.check(TD(hx,n)),e.cuid2=n=>e.check(xD(px,n)),e.ulid=n=>e.check(SD(gx,n)),e.base64=n=>e.check(ND(vx,n)),e.base64url=n=>e.check(BD(Ax,n)),e.xid=n=>e.check(CD(_x,n)),e.ksuid=n=>e.check(ID(mx,n)),e.ipv4=n=>e.check(kD(yx,n)),e.ipv6=n=>e.check(OD(bx,n)),e.cidrv4=n=>e.check(RD(wx,n)),e.cidrv6=n=>e.check(PD(Ex,n)),e.e164=n=>e.check(DD(Tx,n)),e.datetime=n=>e.check(c8(n)),e.date=n=>e.check(l8(n)),e.time=n=>e.check(f8(n)),e.duration=n=>e.check(p8(n))});function _n(e){return _D(cx,e)}const Jt=Oe("ZodStringFormat",(e,t)=>{Kt.init(e,t),ax.init(e,t)}),ux=Oe("ZodEmail",(e,t)=>{x4.init(e,t),Jt.init(e,t)});function bj(e){return core._email(ux,e)}const i0=Oe("ZodGUID",(e,t)=>{A4.init(e,t),Jt.init(e,t)});function wj(e){return core._guid(i0,e)}const ei=Oe("ZodUUID",(e,t)=>{T4.init(e,t),Jt.init(e,t)});function Ej(e){return core._uuid(ei,e)}function vj(e){return core._uuidv4(ei,e)}function Aj(e){return core._uuidv6(ei,e)}function Tj(e){return core._uuidv7(ei,e)}const lx=Oe("ZodURL",(e,t)=>{S4.init(e,t),Jt.init(e,t)});function Il(e){return rx(lx,e)}const dx=Oe("ZodEmoji",(e,t)=>{C4.init(e,t),Jt.init(e,t)});function xj(e){return core._emoji(dx,e)}const fx=Oe("ZodNanoID",(e,t)=>{I4.init(e,t),Jt.init(e,t)});function Sj(e){return core._nanoid(fx,e)}const hx=Oe("ZodCUID",(e,t)=>{k4.init(e,t),Jt.init(e,t)});function Cj(e){return core._cuid(hx,e)}const px=Oe("ZodCUID2",(e,t)=>{O4.init(e,t),Jt.init(e,t)});function Ij(e){return core._cuid2(px,e)}const gx=Oe("ZodULID",(e,t)=>{R4.init(e,t),Jt.init(e,t)});function kj(e){return core._ulid(gx,e)}const _x=Oe("ZodXID",(e,t)=>{P4.init(e,t),Jt.init(e,t)});function Oj(e){return core._xid(_x,e)}const mx=Oe("ZodKSUID",(e,t)=>{N4.init(e,t),Jt.init(e,t)});function Rj(e){return core._ksuid(mx,e)}const yx=Oe("ZodIPv4",(e,t)=>{U4.init(e,t),Jt.init(e,t)});function Pj(e){return core._ipv4(yx,e)}const bx=Oe("ZodIPv6",(e,t)=>{M4.init(e,t),Jt.init(e,t)});function Nj(e){return core._ipv6(bx,e)}const wx=Oe("ZodCIDRv4",(e,t)=>{z4.init(e,t),Jt.init(e,t)});function Bj(e){return core._cidrv4(wx,e)}const Ex=Oe("ZodCIDRv6",(e,t)=>{F4.init(e,t),Jt.init(e,t)});function Dj(e){return core._cidrv6(Ex,e)}const vx=Oe("ZodBase64",(e,t)=>{H4.init(e,t),Jt.init(e,t)});function Lj(e){return core._base64(vx,e)}const Ax=Oe("ZodBase64URL",(e,t)=>{V4.init(e,t),Jt.init(e,t)});function $j(e){return core._base64url(Ax,e)}const Tx=Oe("ZodE164",(e,t)=>{Z4.init(e,t),Jt.init(e,t)});function Uj(e){return core._e164(Tx,e)}const xx=Oe("ZodJWT",(e,t)=>{W4.init(e,t),Jt.init(e,t)});function Mj(e){return core._jwt(xx,e)}const b8=null;function zj(e,t,n={}){return core._stringFormat(b8,e,t,n)}const w8=null;function E8(e){return core._number(w8,e)}const kl=null;function Fj(e){return core._int(kl,e)}function Hj(e){return core._float32(kl,e)}function jj(e){return core._float64(kl,e)}function Vj(e){return core._int32(kl,e)}function Zj(e){return core._uint32(kl,e)}const Sx=Oe("ZodBoolean",(e,t)=>{G4.init(e,t),an.init(e,t)});function Cx(e){return FD(Sx,e)}const v8=null;function Kj(e){return core._bigint(v8,e)}const Ix=null;function Wj(e){return core._int64(Ix,e)}function Gj(e){return core._uint64(Ix,e)}const A8=null;function Yj(e){return core._symbol(A8,e)}const T8=Oe("ZodUndefined",(e,t)=>{Y4.init(e,t),an.init(e,t)});function x8(e){return HD(T8,e)}const S8=null;function C8(e){return core._null(S8,e)}const I8=null;function Xj(){return core._any(I8)}const k8=Oe("ZodUnknown",(e,t)=>{X4.init(e,t),an.init(e,t)});function a0(){return jD(k8)}const O8=Oe("ZodNever",(e,t)=>{q4.init(e,t),an.init(e,t)});function c0(e){return VD(O8,e)}const R8=null;function qj(e){return core._void(R8,e)}const P8=null;function Jj(e){return core._date(P8,e)}const N8=Oe("ZodArray",(e,t)=>{J4.init(e,t),an.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(ph(n,r)),e.nonempty=n=>e.check(ph(1,n)),e.max=(n,r)=>e.check(sx(n,r)),e.length=(n,r)=>e.check(ox(n,r)),e.unwrap=()=>e.element});function u0(e,t){return o8(N8,e,t)}function Qj(e){const t=e._zod.def.shape;return Ox(Object.keys(t))}const l0=Oe("ZodObject",(e,t)=>{Q4.init(e,t),an.init(e,t),jt(e,"shape",()=>t.shape),e.keyof=()=>Ol(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:a0()}),e.loose=()=>e.clone({...e._zod.def,catchall:a0()}),e.strict=()=>e.clone({...e._zod.def,catchall:c0()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>n4(e,n),e.merge=n=>r4(e,n),e.pick=n=>e4(e,n),e.omit=n=>t4(e,n),e.partial=(...n)=>s4(Nx,e,n[0]),e.required=(...n)=>o4(Bx,e,n[0])});function d0(e,t){const n={type:"object",get shape(){return Qm(this,"shape",{...e}),this.shape},...Qe(t)};return new l0(n)}function eV(e,t){return new l0({type:"object",get shape(){return util.assignProp(this,"shape",{...e}),this.shape},catchall:c0(),...util.normalizeParams(t)})}function tV(e,t){return new l0({type:"object",get shape(){return util.assignProp(this,"shape",{...e}),this.shape},catchall:a0(),...util.normalizeParams(t)})}const B8=Oe("ZodUnion",(e,t)=>{eD.init(e,t),an.init(e,t),e.options=t.options});function _h(e,t){return new B8({type:"union",options:e,...Qe(t)})}const D8=null;function nV(e,t,n){return new D8({type:"union",options:t,discriminator:e,...util.normalizeParams(n)})}const L8=Oe("ZodIntersection",(e,t)=>{tD.init(e,t),an.init(e,t)});function $8(e,t){return new L8({type:"intersection",left:e,right:t})}const U8=null;function rV(e,t,n){const r=t instanceof core.$ZodType,s=r?n:t,o=r?t:null;return new U8({type:"tuple",items:e,rest:o,...util.normalizeParams(s)})}const kx=null;function M8(e,t,n){return new kx({type:"record",keyType:e,valueType:t,...util.normalizeParams(n)})}function sV(e,t,n){return new kx({type:"record",keyType:_h([e,c0()]),valueType:t,...util.normalizeParams(n)})}const z8=null;function oV(e,t,n){return new z8({type:"map",keyType:e,valueType:t,...util.normalizeParams(n)})}const F8=null;function iV(e,t){return new F8({type:"set",valueType:e,...util.normalizeParams(t)})}const mh=Oe("ZodEnum",(e,t)=>{nD.init(e,t),an.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,s)=>{const o={};for(const i of r)if(n.has(i))o[i]=t.entries[i];else throw new Error(`Key ${i} not found in enum`);return new mh({...t,checks:[],...Qe(s),entries:o})},e.exclude=(r,s)=>{const o={...t.entries};for(const i of r)if(n.has(i))delete o[i];else throw new Error(`Key ${i} not found in enum`);return new mh({...t,checks:[],...Qe(s),entries:o})}});function Ol(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new mh({type:"enum",entries:n,...Qe(t)})}function aV(e,t){return new mh({type:"enum",entries:e,...util.normalizeParams(t)})}const H8=Oe("ZodLiteral",(e,t)=>{rD.init(e,t),an.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function Ox(e,t){return new H8({type:"literal",values:Array.isArray(e)?e:[e],...Qe(t)})}const j8=null;function cV(e){return core._file(j8,e)}const Rx=Oe("ZodTransform",(e,t)=>{sD.init(e,t),an.init(e,t),e._zod.parse=(n,r)=>{n.addIssue=o=>{if(typeof o=="string")n.issues.push(Sl(o,n.value,t));else{const i=o;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!0),n.issues.push(Sl(i))}};const s=t.transform(n.value,n);return s instanceof Promise?s.then(o=>(n.value=o,n)):(n.value=s,n)}});function Px(e){return new Rx({type:"transform",transform:e})}const Nx=Oe("ZodOptional",(e,t)=>{oD.init(e,t),an.init(e,t),e.unwrap=()=>e._zod.def.innerType});function ao(e){return new Nx({type:"optional",innerType:e})}const V8=Oe("ZodNullable",(e,t)=>{iD.init(e,t),an.init(e,t),e.unwrap=()=>e._zod.def.innerType});function f0(e){return new V8({type:"nullable",innerType:e})}function uV(e){return ao(f0(e))}const Z8=Oe("ZodDefault",(e,t)=>{aD.init(e,t),an.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function K8(e,t){return new Z8({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const W8=Oe("ZodPrefault",(e,t)=>{cD.init(e,t),an.init(e,t),e.unwrap=()=>e._zod.def.innerType});function G8(e,t){return new W8({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}const Bx=Oe("ZodNonOptional",(e,t)=>{uD.init(e,t),an.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Y8(e,t){return new Bx({type:"nonoptional",innerType:e,...Qe(t)})}const X8=null;function lV(e){return new X8({type:"success",innerType:e})}const q8=Oe("ZodCatch",(e,t)=>{lD.init(e,t),an.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function J8(e,t){return new q8({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const Q8=null;function dV(e){return core._nan(Q8,e)}const Dx=Oe("ZodPipe",(e,t)=>{dD.init(e,t),an.init(e,t),e.in=t.in,e.out=t.out});function h0(e,t){return new Dx({type:"pipe",in:e,out:t})}const eL=Oe("ZodReadonly",(e,t)=>{fD.init(e,t),an.init(e,t)});function tL(e){return new eL({type:"readonly",innerType:e})}const nL=null;function fV(e,t){return new nL({type:"template_literal",parts:e,...util.normalizeParams(t)})}const rL=null;function sL(e){return new rL({type:"lazy",getter:e})}const oL=null;function hV(e){return new oL({type:"promise",innerType:e})}const p0=Oe("ZodCustom",(e,t)=>{hD.init(e,t),an.init(e,t)});function iL(e){const t=new Ms({check:"custom"});return t._zod.check=e,t}function pV(e,t){return core._custom(p0,e??(()=>!0),t)}function aL(e,t={}){return i8(p0,e,t)}function cL(e){const t=iL(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Sl(r,n.value,t._zod.def));else{const s=r;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),n.issues.push(Sl(s))}},e(n.value,n)));return t}function gV(e,t={error:`Input not instance of ${e.name}`}){const n=new p0({type:"custom",check:"custom",fn:r=>r instanceof e,abort:!0,...util.normalizeParams(t)});return n._zod.bag.Class=e,n}const _V=(...e)=>core._stringbool({Pipe:Dx,Boolean:Sx,String:cx,Transform:Rx},...e);function mV(e){const t=sL(()=>_h([_n(e),E8(),Cx(),C8(),u0(t),M8(_n(),t)]));return t}function yV(e,t){return h0(Px(e),t)}const uL=_n().refine(e=>{if(e.toLowerCase()===e)return!0;try{return VN(e)&&zx(e)}catch{}return!1},{message:"Invalid address (checksum error)"}),bV=_n().refine(e=>{try{return $1(e)}catch{}return!1},{message:"Invalid address (validation error)"}),yh=_n().regex(/^0x[0-9a-fA-F]+$/,"Invalid address"),lL=yh.min(50,"Address must at least be 50 characters long").max(66,"Address must at most be 66 characters long"),wV=yh.length(66,"Address must be 66 characters long"),bh=lL.pipe(uL).transform(e=>`0x${(e.startsWith("0x")?e.slice(2):e).padStart(64,"0")}`),dL=bh.or(Ox("")).transform(e=>e===""?void 0:e).optional(),EV=yh.transform(e=>`0x${e.replace(/^0x/,"").toLowerCase().padStart(64,"0")}`),Lx=e=>a.string().refine(t=>{if(t.toLowerCase()===t)return!0;try{return h(t)&&zx(t)}catch{}return!1},{message:e("validation.address.invalidChecksum")}),fL=e=>a.string().refine(t=>{try{return l(t)}catch{}return!1},{message:e("validation.address.validationError")}),wh=e=>a.string().regex(/^0x[0-9a-fA-F]+$/,e("validation.address.invalidFormat")),$x=e=>wh(e).min(50,e("validation.address.tooShort")).max(66,e("validation.address.tooLong")),hL=e=>wh(e).length(66,e("validation.address.exactLength")),Ux=e=>{const t=$x(e),n=Lx(e);return t.pipe(n).transform(r=>`0x${(r.startsWith("0x")?r.slice(2):r).padStart(64,"0")}`)},pL=e=>Ux(e).or(a.literal("")).transform(t=>t===""?void 0:t).optional(),gL=e=>wh(e).transform(t=>`0x${t.replace(/^0x/,"").toLowerCase().padStart(64,"0")}`),vV=e=>({validChecksumAddressSchema:Lx(e),validateAddressRangeSchema:fL(e),addressSchemaBase:wh(e),addressSchemaLooseLength:$x(e),addressSchemaStrictLength:hL(e),addressSchema:Ux(e),addressOrEmptyUndefinedSchema:pL(e),addressSchemaArgentBackend:gL(e)}),AV=e=>bh.safeParse(e).success,_L=null,Mx=e=>x(e),TV=e=>{if(!e)return!1;try{const t=$(e);return _L(t)}catch{return!1}},xV=e=>{const t=Mx(e),n=t.slice(0,2),r=t.slice(2,6),s=t.slice(-4);return`${n}${r}\u2026${s}`},SV=e=>{const t=Mx(e),n=t.slice(0,2),r=t.slice(2).match(/.{1,4}/g)||[];return`${n} ${r.join(" ")}`},zx=e=>!/^0x[0-9a-f]{63,64}$/.test(e),Fx=e=>e.toLowerCase().replace(/^[0x]+/,""),Hx=e=>{try{return/^(0x)?[0-9a-f]+$/i.test(e)}catch{}return!1},mL=(e,t)=>{try{return!e||!t||!Hx(e)||!Hx(t)?!1:Fx(e)===Fx(t)}catch{}return!1},CV=e=>{try{return L.toBigInt(yh.parse(e))===w.ZERO}catch{}return!1},IV=(e,t)=>!!t?.some(n=>mL(n,e)),kV=(0,NT.A)(e=>{const t=e.slice(0,6),n=e.slice(-4);return`${t}\u2026${n}`}),OV=(0,NT.A)((e,t)=>{if(e.length<t)return e;const n=Math.floor((t-1)/2),r=e.slice(0,n),s=e.slice(-n);return`${r}\u2026${s}`});async function yL(e){const t=bh.safeParse(e.options.address);t.success&&e.type==="ERC20"&&wt({type:"REQUEST_TOKEN",data:{address:t.data,symbol:e.options.symbol,decimals:e.options.decimals,name:e.options.name}});const{exists:n,actionHash:r}=await ct("REQUEST_TOKEN_RES",1e3);if(n)return!0;if(!r)throw Error("Unexpected error: actionHash is undefined");wt({type:"OPEN_UI"});const s=await Promise.race([ct("APPROVE_REQUEST_TOKEN",11*60*1e3,o=>o.data.actionHash===r),ct("REJECT_REQUEST_TOKEN",10*60*1e3,o=>o.data.actionHash===r).then(()=>"error").catch(()=>(wt({type:"REJECT_REQUEST_TOKEN",data:{actionHash:r}}),"timeout"))]);if(s==="error")throw new Yr({code:Pr.UserAborted});if(s==="timeout")throw new Yr({code:Pr.Unknown});return!0}async function bL(e){wt({type:"CONNECT_DAPP",data:{silent:e?.silent_mode}});const t=await Promise.race([ct("CONNECT_DAPP_RES",10*60*1e3),ct("REJECT_PREAUTHORIZATION",10*60*1e3).then(()=>"USER_ABORTED")]);if(!t)throw Error("No wallet account (should not be possible)");if(t==="USER_ABORTED")throw Error("User aborted");const{address:n}=t;return[n]}async function wL(e){const t=rh.X7.safeParse(e.calls);if(!t.success)throw Error(`Invalid transaction: ${t.error.message}`);wt({type:"EXECUTE_TRANSACTION",data:{transactions:t.data}});const{actionHash:n}=await ct("EXECUTE_TRANSACTION_RES",1e3);wt({type:"OPEN_UI"});const r=await Promise.race([ct("TRANSACTION_SUBMITTED",11*60*1e3,s=>s.data.actionHash===n),ct("TRANSACTION_FAILED",10*60*1e3,s=>s.data.actionHash===n).then(()=>"error").catch(()=>(wt({type:"TRANSACTION_FAILED",data:{actionHash:n}}),"timeout"))]);if(r==="error")throw new Yr({code:Pr.UserAborted});if(r==="timeout")throw new Yr({code:Pr.Unknown});return{transaction_hash:r.transactionResult.transactionHash}}async function EL({chainId:e}){wt({type:"REQUEST_SWITCH_CUSTOM_NETWORK",data:{chainId:e}});const t=await Promise.race([ct("REQUEST_SWITCH_CUSTOM_NETWORK_RES",1e3),ct("REQUEST_SWITCH_CUSTOM_NETWORK_REJ",1e3)]);if("error"in t)throw Error(t.error);const{actionHash:n,exists:r,isCurrentNetwork:s}=t;if(!r)return!1;if(s)return!0;if(wt({type:"OPEN_UI"}),!n)throw Error("Unexpected error: actionHash is undefined");const o=await Promise.race([ct("APPROVE_REQUEST_SWITCH_CUSTOM_NETWORK",11*60*1e3,i=>i.data.actionHash===n),ct("REJECT_REQUEST_SWITCH_CUSTOM_NETWORK",10*60*1e3,i=>i.data.actionHash===n).then(()=>"error").catch(()=>(wt({type:"REJECT_REQUEST_SWITCH_CUSTOM_NETWORK",data:{actionHash:n}}),"timeout"))]);if(o==="error")throw new Yr({code:Pr.UserAborted});if(o==="timeout")throw new Yr({code:Pr.Unknown});return!0}const RV="0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7",vL="0x04718f5a0fc34cc1af16a1cdee98ffb20c31f5cd61d6ab07201858f4287c938d",PV="0x1a736d6ed154502257f02b1ccdf4d9d1089f80811cd6acad48e6b6a9d1f2003",Rl="0x036078334509b514626504edc9fb252328d1a240e4e948bef8d0c08dff45927f",NV="0x737ee2f87ce571a58c6c8da558ec18a07ceb64a6172d5ec46171fbc80077a48",jx="0x6e150953b26271a740bf2b6e9bca17cc52c68d765f761295de51ceb8526ee72",BV="0x4d07e40e93398ed3c76981e72dd1fd22557a78ce36c0515f679e27f0bb5bc5f";async function AL(e){const{chain_id:t,chain_name:n,id:r,block_explorer_url:s,native_currency:o,rpc_urls:i}=rh.qd.parse(e);wt({type:"REQUEST_ADD_CUSTOM_NETWORK",data:{id:r,name:n,chainId:t,rpcUrl:i?.[0],explorerUrl:s?.[0],possibleFeeTokenAddresses:[o?.options.address??vL]}});const c=await Promise.race([ct("REQUEST_ADD_CUSTOM_NETWORK_RES",1e3),ct("REQUEST_ADD_CUSTOM_NETWORK_REJ",1e3)]);if("error"in c)throw Error(c.error);const{exists:d,actionHash:f}=c;if(d)return!0;if(!f)throw Error("Unexpected error: actionHash is undefined");wt({type:"OPEN_UI"});const g=await Promise.race([ct("APPROVE_REQUEST_ADD_CUSTOM_NETWORK",11*60*1e3,_=>_.data.actionHash===f),ct("REJECT_REQUEST_ADD_CUSTOM_NETWORK",10*60*1e3,_=>_.data.actionHash===f).then(()=>"error").catch(()=>(wt({type:"REJECT_REQUEST_ADD_CUSTOM_NETWORK",data:{actionHash:f}}),"timeout"))]);if(g==="error")throw new Yr({code:Pr.UserAborted});if(g==="timeout")throw new Yr({code:Pr.Unknown});return!0}async function TL(e){const{contract_class:t,compiled_class_hash:n}=e;if(!t.abi)throw new Error("Missing ABI");wt({type:"REQUEST_DECLARE_CONTRACT",data:{payload:{contract:pv.stringify(t),compiledClassHash:n}}});const{actionHash:r}=await ct("REQUEST_DECLARE_CONTRACT_RES",1e3);wt({type:"OPEN_UI"});const s=await Promise.race([ct("DECLARE_CONTRACT_ACTION_SUBMITTED",21*60*1e3,o=>o.data.actionHash===r),ct("DECLARE_CONTRACT_ACTION_FAILED",20*60*1e3,o=>o.data.actionHash===r).then(()=>"error").catch(()=>"timeout")]);if(s==="error")throw new Yr({code:Pr.UserAborted});if(s==="timeout")throw new Yr({code:Pr.Unknown});return{transaction_hash:s.txHash,class_hash:s.classHash}}const DV="0x049d36570d4e46f48e99674bd3fcc84644ddd6b96f7c741b1562b82f9e004dc7",g0="0x04718f5a0fc34cc1af16a1cdee98ffb20c31f5cd61d6ab07201858f4287c938d",LV="0x053c91253bc9682c04929ca02ed00b3e423f6710d2ee7e0d5ebb06f3ecf368a8",$V="0x042b8F0484674cA266AC5D08e4aC6A3fE65bd3129795DEF2dCA5c34ecC5F96d2",Vx="0x033434ad846cdd5f23eb73ff09fe6fddd568284a0fb7d1be20ee482f044dabe2",UV="0x61dac032f228abef9c6626f995015233097ae253a7f72d68552db02f2971b8f",MV="0x4ee23ad83fb55c1e3fac26e2cd951c60abf3ddc851caa9a7fbb9f5eddb2091",zV="0x057c2f22f0209a819e6c60f78ad7d3690f82ade9c0c68caea492151698934ede",FV="0x0545d680a2b4909f886371b2ac820745491f55ac7f0e81b3c4668a81e2a656f0",Zx="0x05754af3760f3356da99aea5c3ec39ccac7783d925a19666ebbeca58ff0087f4",xL=[{mainnet:"https://starknet-mainnet.public.blastapi.io",sepolia:"https://starknet-sepolia.public.blastapi.io"},{mainnet:"https://rpc.starknet.lava.build",sepolia:"https://rpc.starknet-sepolia.lava.build"}],SL=Ol(["mainnet-alpha","sepolia-alpha"]),CL=Ol(["mainnet","sepolia"]);function IL(e){return SL.safeParse(e).success}function VV(e){return CL.safeParse(e).success}function ZV(e,t,n){return isEqualAddress(e,t.accountClassHash?.plugin)?"plugin":isEqualAddress(e,t.accountClassHash?.betterMulticall)?"betterMulticall":getArgentAccountClassHashes("multisig").find(s=>isEqualAddress(e,s))?"multisig":n&&n==="smart"&&isEqualAddress(e,t.accountClassHash?.smart)?"smart":"standard"}function KV(e){switch(e){case constants.StarknetChainId.SN_MAIN:return"mainnet-alpha";case constants.StarknetChainId.SN_SEPOLIA:return"sepolia-alpha";default:throw new Error(`Unknown chainId: ${e}`)}}function kL(){const e="prod";if(!e)throw new Error("ARGENT_X_ENVIRONMENT not set");switch(e.toLowerCase()){case"integration":return"integration";case"prod":case"staging":return"mainnet-alpha";case"hydrogen":case"dev":case"test":return"sepolia-alpha";default:throw new Error(`Unknown ARGENTX_ENVIRONMENT: ${e}`)}}function OL(e){const t=kL(),n=e.find(r=>r.id===t);if(!n)throw new Error(`Unknown default network: ${t}`);return n}function Eh(e){return IL(e.id)}function WV(e){const t=Math.floor(Math.random()*PUBLIC_RPC_NODES.length),n=PUBLIC_RPC_NODES[t];if(!n)throw new Error(`No random node found for network: ${e.id}`);return n}function RL(e){if(!Eh)throw new Error(`Not a Ready network: ${e.id}`);const t=kA(e.id);if(!t)throw new Error(`No nodes found for network: ${e.id}`);return xL.map(r=>r[t])}function GV(){const e="prod";if(!e)throw new Error("ARGENT_X_ENVIRONMENT not set");return e.toLowerCase()==="prod"||e.toLowerCase()==="staging"}function PL(e){var t=[];if(e.length===0)return"";if(typeof e[0]!="string")throw new TypeError("Url must be a string. Received "+e[0]);if(e[0].match(/^[^/:]+:\/*$/)&&e.length>1){var n=e.shift();e[0]=n+e[0]}e[0].match(/^file:\/\/\//)?e[0]=e[0].replace(/^([^/:]+):\/*/,"$1:///"):e[0]=e[0].replace(/^([^/:]+):\/*/,"$1://");for(var r=0;r<e.length;r++){var s=e[r];if(typeof s!="string")throw new TypeError("Url must be a string. Received "+s);s!==""&&(r>0&&(s=s.replace(/^[\/]+/,"")),r<e.length-1?s=s.replace(/[\/]+$/,""):s=s.replace(/[\/]+$/,"/"),t.push(s))}var o=t.join("/");o=o.replace(/\/(\?|&|#[^!])/g,"$1");var i=o.split("?");return o=i.shift()+(i.length>0?"?":"")+i.join("&"),o}function Kx(){var e;return typeof arguments[0]=="object"?e=arguments[0]:e=[].slice.call(arguments),PL(e)}const NL=[],YV=[{id:"mainnet-alpha",status:"unknown"},{id:"sepolia-alpha",status:"unknown"},{id:"localhost",status:"unknown"}],_0=[{id:"mainnet-alpha",name:"Mainnet",chainId:"SN_MAIN",rpcUrl:Kx("https://cloud.argent-api.com/v1",`starknet/mainnet/${"MISSING_ENV_VAR".ARGENT_RPC_PROVIDER?`${"MISSING_ENV_VAR".ARGENT_RPC_PROVIDER}/`:""}rpc/v0.9`),explorerUrl:"https://voyager.online",l1ExplorerUrl:"https://etherscan.io",accountClassHash:{standard:Rl,multisig:jx,standardCairo0:Vx,smart:Rl},multicallAddress:Zx,possibleFeeTokenAddresses:[g0],readonly:!0},{id:"sepolia-alpha",name:"Sepolia",chainId:"SN_SEPOLIA",rpcUrl:Kx("https://cloud.argent-api.com/v1",`starknet/sepolia/${"MISSING_ENV_VAR".ARGENT_RPC_PROVIDER?`${"MISSING_ENV_VAR".ARGENT_RPC_PROVIDER}/`:""}rpc/v0.9`),explorerUrl:"https://sepolia.voyager.online",l1ExplorerUrl:"https://sepolia.etherscan.io",accountClassHash:{standard:Rl,standardCairo0:Vx,multisig:jx,smart:Rl},multicallAddress:Zx,possibleFeeTokenAddresses:[g0],readonly:!0},..."MISSING_ENV_VAR".USE_DEV_NETWORKS==="true"?NL:[],{id:"localhost",chainId:"SN_SEPOLIA",rpcUrl:"http://localhost:5050",explorerUrl:"http://localhost:4000/testnet/",name:"Devnet",possibleFeeTokenAddresses:[g0],accountClassHash:{standard:Rl}}],XV=OL(_0),qV=_0.filter(({readonly:e})=>!e),JV=_0.filter(({readonly:e})=>!!e),co=/^0x[a-f0-9]+$/i,BL=d0({id:_n().min(2).max(31)}),DL=Ol(["red","amber","green","unknown"]),LL=_n().transform(e=>e.toUpperCase()).pipe(Ol([Fi.NetworkName.SN_MAIN,Fi.StarknetChainId.SN_MAIN.toUpperCase()])),Wx=_n().min(2,{error:"ChainId must be at least 2 characters"}).max(31,{error:"ChainId cannot be longer than 31 characters"}).regex(/^[a-zA-Z0-9_]+$/,{error:"chain id must be hexadecimal string, uppercase alphanumeric or underscore, like 'SN_ABCXYZ'"}),$L=Wx.refine(e=>!LL.safeParse(e).success,{error:"Chain ID is reserved"}),eZ=BL.extend({name:_n().min(2).max(128),chainId:Wx,rpcUrl:Il({error:"RPC url must be a valid URL"}),possibleFeeTokenAddresses:u0(bh).nonempty(),accountImplementation:ao(_n().regex(co,{message:"Account class hash must match the following: /^0x[a-f0-9]+$/i"})),accountClassHash:_h([d0({standard:_n().regex(co,{message:"Account class hash must match the following: /^0x[a-f0-9]+$/i"}).optional(),standardCairo0:_n().regex(co,{message:"Account class hash must match the following: /^0x[a-f0-9]+$/i"}).optional(),plugin:_n().regex(co,{message:"Account class hash must match the following: /^0x[a-f0-9]+$/i"}).optional(),multisig:_n().regex(co,{message:"Account class hash must match the following: /^0x[a-f0-9]+$/i"}).optional(),betterMulticall:_n().regex(co,{message:"Account class hash must match the following: /^0x[a-f0-9]+$/i"}).optional(),argent5MinuteEscapeTestingAccount:_n().regex(co,{message:"Account class hash must match the following: /^0x[a-f0-9]+$/i"}).optional(),smart:_n().regex(co,{message:"Account class hash must match the following: /^0x[a-f0-9]+$/i"}).optional(),imported:_n().regex(co,{message:"Account class hash must match the following: /^0x[a-f0-9]+$/i"}).optional()}),x8()]),explorerUrl:ao(Il({error:"explorer url must be a valid URL"})),faucetUrl:ao(Il({error:"faucet url must be a valid URL"})),l1ExplorerUrl:ao(Il({error:"l1 explorer url must be a valid URL"})),blockExplorerUrl:ao(Il({error:"block explorer url must be a valid URL"})),multicallAddress:dL,readonly:ao(Cx())}).extend({chainId:$L}),tZ=d0({id:_n(),status:DL});async function UL(){if(!await Ym())throw new Error("Not preauthorized");wt({type:"REQUEST_SELECTED_NETWORK"});const t=await Promise.race([ct("REQUEST_SELECTED_NETWORK_RES",10*60*1e3),ct("REQUEST_SELECTED_NETWORK_REJ",10*60*1e3).catch(()=>"timeout")]);if(t==="timeout")throw new Error("Timeout");if("error"in t)throw Error(t.error);return Eh(t.network)?Hu.encodeShortString(t.network.chainId):(await GA(t.network)).getChainId()}const ML={ACCOUNTS:"accounts"};async function zL(){return await Ym()?[ML.ACCOUNTS]:[]}const Gx=e=>`0x${e.toString(16)}`,FL=e=>e.every(t=>typeof t=="string");async function HL(){const e=await Wm.accountMessaging.getAccountDeploymentPayload.query();if(!e)throw new Error("Deployment data not found");const{version:t,classHash:n,constructorCalldata:r,addressSalt:s,contractAddress:o}=e;if(!n||!r||!s||!o)throw new Error("Deployment data not found");if(!FL(r))throw new Error("Constructor calldata is not an array of hex strings");const i=Gx(BigInt(s)),c=r.map(d=>Gx(BigInt(d)));if(!t)throw new Error("Account's Cairo Version not found");return{address:o,class_hash:n,salt:i,calldata:c,version:Number(t)}}function jL(){return Promise.resolve(["0.7.0"])}async function VL(e){const n={wallet_addStarknetChain:AL,wallet_switchStarknetChain:EL,wallet_watchAsset:yL,wallet_requestAccounts:bL,wallet_getPermissions:zL,wallet_requestChainId:UL,wallet_deploymentData:HL,wallet_addDeclareTransaction:TL,wallet_addInvokeTransaction:wL,wallet_signTypedData:Gm,wallet_supportedSpecs:jL,wallet_supportedWalletApi:async()=>{throw new Error("Not implemented")}}[e.type];if(n)return"params"in e?n(e.params):n();throw new Error(`Unknown request type: ${e.type}`)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ia(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Pl(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function nr(...e){const t=o=>o,n=(o,i)=>c=>o(i(c)),r=e.map(o=>o.encode).reduceRight(n,t),s=e.map(o=>o.decode).reduce(n,t);return{encode:r,decode:s}}function lr(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(n=>{if(n<0||n>=e.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${e.length})`);return e[n]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(n=>{if(typeof n!="string")throw new Error(`alphabet.decode: not string element=${n}`);const r=e.indexOf(n);if(r===-1)throw new Error(`Unknown letter: "${n}". Allowed: ${e}`);return r})}}}function dr(e=""){if(typeof e!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let n of t)if(typeof n!="string")throw new Error(`join.encode: non-string input=${n}`);return t.join(e)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(e)}}}function Nl(e,t="="){if(typeof t!="string")throw new Error("padding chr should be string");return{encode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let r of n)if(typeof r!="string")throw new Error(`padding.encode: non-string input=${r}`);for(;n.length*e%8;)n.push(t);return n},decode(n){if(!Array.isArray(n)||n.length&&typeof n[0]!="string")throw new Error("padding.encode input should be array of strings");for(let s of n)if(typeof s!="string")throw new Error(`padding.decode: non-string input=${s}`);let r=n.length;if(r*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;r>0&&n[r-1]===t;r--)if(!((r-1)*e%8))throw new Error("Invalid padding: string has too much padding");return n.slice(0,r)}}}function Yx(e){if(typeof e!="function")throw new Error("normalize fn should be function");return{encode:t=>t,decode:t=>e(t)}}function m0(e,t,n){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: wrong to=${n}, base cannot be less than 2`);if(!Array.isArray(e))throw new Error("convertRadix: data should be array");if(!e.length)return[];let r=0;const s=[],o=Array.from(e);for(o.forEach(i=>{if(i<0||i>=t)throw new Error(`Wrong integer: ${i}`)});;){let i=0,c=!0;for(let d=r;d<o.length;d++){const f=o[d],g=t*i+f;if(!Number.isSafeInteger(g)||t*i/t!==i||g-f!==t*i)throw new Error("convertRadix: carry overflow");i=g%n;const _=Math.floor(g/n);if(o[d]=_,!Number.isSafeInteger(_)||_*n+i!==g)throw new Error("convertRadix: carry overflow");if(c)_?c=!1:r=d;else continue}if(s.push(i),c)break}for(let i=0;i<e.length-1&&e[i]===0;i++)s.push(0);return s.reverse()}const Xx=(e,t)=>t?Xx(t,e%t):e,vh=(e,t)=>e+(t-Xx(e,t));function Ah(e,t,n,r){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(n<=0||n>32)throw new Error(`convertRadix2: wrong to=${n}`);if(vh(t,n)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${n} carryBits=${vh(t,n)}`);let s=0,o=0;const i=2**n-1,c=[];for(const d of e){if(d>=2**t)throw new Error(`convertRadix2: invalid data word=${d} from=${t}`);if(s=s<<t|d,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=n;o-=n)c.push((s>>o-n&i)>>>0);s&=2**o-1}if(s=s<<n-o&i,!r&&o>=t)throw new Error("Excess padding");if(!r&&s)throw new Error(`Non-zero padding: ${s}`);return r&&o>0&&c.push(s>>>0),c}function qx(e){return{encode:t=>{if(!Pl(t))throw new Error("radix.encode input should be Uint8Array");return m0(Array.from(t),2**8,e)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of numbers");return Uint8Array.from(m0(t,e,2**8))}}}function Nr(e,t=!1){if(e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(vh(8,e)>32||vh(e,8)>32)throw new Error("radix2: carry overflow");return{encode:n=>{if(!Pl(n))throw new Error("radix2.encode input should be Uint8Array");return Ah(Array.from(n),8,e,!t)},decode:n=>{if(!Array.isArray(n)||n.length&&typeof n[0]!="number")throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(Ah(n,e,8,t))}}}function Jx(e){if(typeof e!="function")throw new Error("unsafeWrapper fn should be function");return function(...t){try{return e.apply(null,t)}catch{}}}function Qx(e,t){if(typeof t!="function")throw new Error("checksum fn should be function");return{encode(n){if(!Pl(n))throw new Error("checksum.encode: input should be Uint8Array");const r=t(n).slice(0,e),s=new Uint8Array(n.length+e);return s.set(n),s.set(r,n.length),s},decode(n){if(!Pl(n))throw new Error("checksum.decode: input should be Uint8Array");const r=n.slice(0,-e),s=t(r).slice(0,e),o=n.slice(-e);for(let i=0;i<e;i++)if(s[i]!==o[i])throw new Error("Invalid checksum");return r}}}const nZ={alphabet:lr,chain:nr,checksum:Qx,convertRadix:m0,convertRadix2:Ah,radix:qx,radix2:Nr,join:dr,padding:Nl},ZL=nr(Nr(4),lr("0123456789ABCDEF"),dr("")),KL=nr(Nr(5),lr("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),Nl(5),dr("")),rZ=nr(Nr(5),lr("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),dr("")),sZ=nr(Nr(5),lr("0123456789ABCDEFGHIJKLMNOPQRSTUV"),Nl(5),dr("")),oZ=nr(Nr(5),lr("0123456789ABCDEFGHIJKLMNOPQRSTUV"),dr("")),iZ=nr(Nr(5),lr("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),dr(""),Yx(e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),y0=nr(Nr(6),lr("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),Nl(6),dr("")),aZ=nr(Nr(6),lr("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),dr("")),WL=nr(Nr(6),lr("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),Nl(6),dr("")),cZ=nr(Nr(6),lr("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),dr("")),Th=(e=>nr(qx(58),lr(e),dr("")))("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),lZ=null,dZ=null,eS=[0,2,3,5,6,7,9,10,11],GL={encode(e){let t="";for(let n=0;n<e.length;n+=8){const r=e.subarray(n,n+8);t+=Th.encode(r).padStart(eS[r.length],"1")}return t},decode(e){let t=[];for(let n=0;n<e.length;n+=11){const r=e.slice(n,n+11),s=eS.indexOf(r.length),o=Th.decode(r);for(let i=0;i<o.length-s;i++)if(o[i]!==0)throw new Error("base58xmr: wrong padding");t=t.concat(Array.from(o.slice(o.length-s)))}return Uint8Array.from(t)}},fZ=e=>nr(Qx(4,t=>e(e(t))),Th),hZ=null,b0=nr(lr("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),dr("")),tS=null;function Bl(e){const t=e>>25;let n=(e&33554431)<<5;for(let r=0;r<tS.length;r++)(t>>r&1)===1&&(n^=tS[r]);return n}function nS(e,t,n=1){const r=e.length;let s=1;for(let o=0;o<r;o++){const i=e.charCodeAt(o);if(i<33||i>126)throw new Error(`Invalid prefix (${e})`);s=Bl(s)^i>>5}s=Bl(s);for(let o=0;o<r;o++)s=Bl(s)^e.charCodeAt(o)&31;for(let o of t)s=Bl(s)^o;for(let o=0;o<6;o++)s=Bl(s);return s^=n,b0.encode(Ah([s%2**30],30,5,!1))}function pZ(e){const t=e==="bech32"?1:734539939,n=Nr(5),r=n.decode,s=n.encode,o=Jx(r);function i(_,y,b=90){if(typeof _!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof _}`);if(y instanceof Uint8Array&&(y=Array.from(y)),!Array.isArray(y)||y.length&&typeof y[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof y}`);if(_.length===0)throw new TypeError(`Invalid prefix length ${_.length}`);const k=_.length+7+y.length;if(b!==!1&&k>b)throw new TypeError(`Length ${k} exceeds limit ${b}`);const B=_.toLowerCase(),z=nS(B,y,t);return`${B}1${b0.encode(y)}${z}`}function c(_,y=90){if(typeof _!="string")throw new Error(`bech32.decode input should be string, not ${typeof _}`);if(_.length<8||y!==!1&&_.length>y)throw new TypeError(`Wrong string length: ${_.length} (${_}). Expected (8..${y})`);const b=_.toLowerCase();if(_!==b&&_!==_.toUpperCase())throw new Error("String must be lowercase or uppercase");const k=b.lastIndexOf("1");if(k===0||k===-1)throw new Error('Letter "1" must be present between prefix and data only');const B=b.slice(0,k),z=b.slice(k+1);if(z.length<6)throw new Error("Data must be at least 6 characters long");const K=b0.decode(z).slice(0,-6),J=nS(B,K,t);if(!z.endsWith(J))throw new Error(`Invalid checksum in ${_}: expected "${J}"`);return{prefix:B,words:K}}const d=Jx(c);function f(_){const{prefix:y,words:b}=c(_,!1);return{prefix:y,words:b,bytes:r(b)}}function g(_,y){return i(_,s(y))}return{encode:i,decode:c,encodeFromBytes:g,decodeToBytes:f,decodeUnsafe:d,fromWords:r,fromWordsUnsafe:o,toWords:s}}const gZ=null,_Z=null,xh={utf8:{encode:e=>new TextDecoder().decode(e),decode:e=>new TextEncoder().encode(e)},hex:nr(Nr(4),lr("0123456789abcdef"),dr(""),Yx(e=>{if(typeof e!="string"||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})),base16:ZL,base32:KL,base64:y0,base64url:WL,base58:Th,base58xmr:GL},rS="Invalid encoding type. Available types: utf8, hex, base16, base32, base64, base64url, base58, base58xmr",bZ=(e,t)=>{if(typeof e!="string"||!xh.hasOwnProperty(e))throw new TypeError(rS);if(!Pl(t))throw new TypeError("bytesToString() expects Uint8Array");return xh[e].encode(t)},wZ=null,EZ=(e,t)=>{if(!xh.hasOwnProperty(e))throw new TypeError(rS);if(typeof t!="string")throw new TypeError("stringToBytes() expects string");return xh[e].decode(t)},vZ=null;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sS=BigInt(0),Sh=BigInt(1),YL=BigInt(2);function zs(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}const XL=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function ti(e){if(!zs(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=XL[e[n]];return t}function qL(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Ch(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}const uo={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function oS(e){if(e>=uo._0&&e<=uo._9)return e-uo._0;if(e>=uo._A&&e<=uo._F)return e-(uo._A-10);if(e>=uo._a&&e<=uo._f)return e-(uo._a-10)}function ni(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=oS(e.charCodeAt(o)),c=oS(e.charCodeAt(o+1));if(i===void 0||c===void 0){const d=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+o)}r[s]=i*16+c}return r}function rr(e){return Ch(ti(e))}function w0(e){if(!zs(e))throw new Error("Uint8Array expected");return Ch(ti(Uint8Array.from(e).reverse()))}function dc(e,t){return ni(e.toString(16).padStart(t*2,"0"))}function E0(e,t){return dc(e,t).reverse()}function v0(e){return ni(qL(e))}function Xr(e,t,n){let r;if(typeof t=="string")try{r=ni(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if(zs(t))r=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(`${e} expected ${n} bytes, got ${s}`);return r}function fc(...e){let t=0;for(let s=0;s<e.length;s++){const o=e[s];if(!zs(o))throw new Error("Uint8Array expected");t+=o.length}let n=new Uint8Array(t),r=0;for(let s=0;s<e.length;s++){const o=e[s];n.set(o,r),r+=o.length}return n}function AZ(e,t){if(e.length!==t.length)return!1;let n=0;for(let r=0;r<e.length;r++)n|=e[r]^t[r];return n===0}function TZ(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function xZ(e){let t;for(t=0;e>sS;e>>=Sh,t+=1);return t}function SZ(e,t){return e>>BigInt(t)&Sh}const CZ=(e,t,n)=>e|(n?Sh:sS)<<BigInt(t),Ih=e=>(YL<<BigInt(e-1))-Sh,A0=e=>new Uint8Array(e),iS=e=>Uint8Array.from(e);function aS(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=A0(e),s=A0(e),o=0;const i=()=>{r.fill(1),s.fill(0),o=0},c=(..._)=>n(s,r,..._),d=(_=A0())=>{s=c(iS([0]),_),r=c(),_.length!==0&&(s=c(iS([1]),_),r=c())},f=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let _=0;const y=[];for(;_<t;){r=c();const b=r.slice();y.push(b),_+=r.length}return fc(...y)};return(_,y)=>{i(),d(_);let b;for(;!(b=y(f()));)d();return i(),b}}const JL={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||zs(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Dl(e,t,n={}){const r=(s,o,i)=>{const c=JL[o];if(typeof c!="function")throw new Error(`Invalid validator "${o}", expected function`);const d=e[s];if(!(i&&d===void 0)&&!c(d,e))throw new Error(`Invalid param ${String(s)}=${d} (${typeof d}), expected ${o}`)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}function Ll(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function QL(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function e5(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function kh(e,...t){if(!e5(e))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function cS(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ll(e.outputLen),Ll(e.blockLen)}function aa(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function T0(e,t){kh(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const IZ={number:Ll,bool:QL,bytes:kh,hash:cS,exists:aa,output:T0},kZ=null,Oh=BigInt(2**32-1),x0=BigInt(32);function uS(e,t=!1){return t?{h:Number(e&Oh),l:Number(e>>x0&Oh)}:{h:Number(e>>x0&Oh)|0,l:Number(e&Oh)|0}}function lS(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:o,l:i}=uS(e[s],t);[n[s],r[s]]=[o,i]}return[n,r]}const t5=(e,t)=>BigInt(e>>>0)<<x0|BigInt(t>>>0),n5=(e,t,n)=>e>>>n,r5=(e,t,n)=>e<<32-n|t>>>n,s5=(e,t,n)=>e>>>n|t<<32-n,o5=(e,t,n)=>e<<32-n|t>>>n,i5=(e,t,n)=>e<<64-n|t>>>n-32,a5=(e,t,n)=>e>>>n-32|t<<64-n,c5=(e,t)=>t,u5=(e,t)=>e,dS=(e,t,n)=>e<<n|t>>>32-n,fS=(e,t,n)=>t<<n|e>>>32-n,hS=(e,t,n)=>t<<n-32|e>>>64-n,pS=(e,t,n)=>e<<n-32|t>>>64-n;function l5(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const LZ={fromBig:uS,split:lS,toBig:t5,shrSH:n5,shrSL:r5,rotrSH:s5,rotrSL:o5,rotrBH:i5,rotrBL:a5,rotr32H:c5,rotr32L:u5,rotlSH:dS,rotlSL:fS,rotlBH:hS,rotlBL:pS,add:l5,add3L:(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),add3H:(e,t,n,r)=>t+n+r+(e/2**32|0)|0,add4L:(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),add4H:(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,add5H:(e,t,n,r,s,o)=>t+n+r+s+o+(e/2**32|0)|0,add5L:(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0)},$Z=null,S0=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const UZ=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength),d5=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));function C0(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}const I0=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Fs=(e,t)=>e<<32-t|e>>>t;if(!(new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68))throw new Error("Non little-endian hardware is not supported");const f5=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function zZ(e){if(!C0(e))throw new Error("Uint8Array expected");let t="";for(let n=0;n<e.length;n++)t+=f5[e[n]];return t}const lo={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function gS(e){if(e>=lo._0&&e<=lo._9)return e-lo._0;if(e>=lo._A&&e<=lo._F)return e-(lo._A-10);if(e>=lo._a&&e<=lo._f)return e-(lo._a-10)}function FZ(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);const t=e.length,n=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const i=gS(e.charCodeAt(o)),c=gS(e.charCodeAt(o+1));if(i===void 0||c===void 0){const d=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+o)}r[s]=i*16+c}return r}const h5=async()=>{};async function HZ(e,t,n){let r=Date.now();for(let s=0;s<e;s++){n(s);const o=Date.now()-r;o>=0&&o<t||(await h5(),r+=o)}}function _S(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function hc(e){if(typeof e=="string"&&(e=_S(e)),!C0(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}function p5(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];if(!C0(s))throw new Error("Uint8Array expected");t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}class k0{clone(){return this._cloneInto()}}const g5={}.toString;function jZ(e,t){if(t!==void 0&&g5.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(e,t)}function mS(e){const t=r=>e().update(hc(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function VZ(e){const t=(r,s)=>e(s).update(hc(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}function ZZ(e){const t=(r,s)=>e(s).update(hc(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}function _5(e=32){if(S0&&typeof S0.getRandomValues=="function")return S0.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}const[yS,bS,wS]=[[],[],[]],m5=BigInt(0),$l=BigInt(1),y5=BigInt(2),b5=BigInt(7),w5=BigInt(256),E5=BigInt(113);for(let e=0,t=$l,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],yS.push(2*(5*r+n)),bS.push((e+1)*(e+2)/2%64);let s=m5;for(let o=0;o<7;o++)t=(t<<$l^(t>>b5)*E5)%w5,t&y5&&(s^=$l<<($l<<BigInt(o))-$l);wS.push(s)}const[v5,A5]=lS(wS,!0),ES=(e,t,n)=>n>32?hS(e,t,n):dS(e,t,n),vS=(e,t,n)=>n>32?pS(e,t,n):fS(e,t,n);function T5(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const c=(i+8)%10,d=(i+2)%10,f=n[d],g=n[d+1],_=ES(f,g,1)^n[c],y=vS(f,g,1)^n[c+1];for(let b=0;b<50;b+=10)e[i+b]^=_,e[i+b+1]^=y}let s=e[2],o=e[3];for(let i=0;i<24;i++){const c=bS[i],d=ES(s,o,c),f=vS(s,o,c),g=yS[i];s=e[g],o=e[g+1],e[g]=d,e[g+1]=f}for(let i=0;i<50;i+=10){for(let c=0;c<10;c++)n[c]=e[i+c];for(let c=0;c<10;c++)e[i+c]^=~n[(c+2)%10]&n[(c+4)%10]}e[0]^=v5[r],e[1]^=A5[r]}n.fill(0)}class Rh extends k0{constructor(t,n,r,s=!1,o=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ll(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=d5(this.state)}keccak(){T5(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){aa(this);const{blockLen:n,state:r}=this;t=hc(t);const s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let c=0;c<i;c++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){aa(this,!1),kh(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Ll(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(T0(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new Rh(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const x5=(e,t,n)=>mS(()=>new Rh(t,e,n)),KZ=null,WZ=null,GZ=null,YZ=null,XZ=null,S5=x5(1,136,256/8),qZ=null,JZ=null,QZ=(e,t,n)=>wrapXOFConstructorWithOpts((r={})=>new Rh(t,e,r.dkLen===void 0?n:r.dkLen,!0)),eK=null,tK=null;function C5(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),o=BigInt(4294967295),i=Number(n>>s&o),c=Number(n&o),d=r?4:0,f=r?0:4;e.setUint32(t+d,i,r),e.setUint32(t+f,c,r)}class I5 extends k0{constructor(t,n,r,s){super(),this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=I0(this.buffer)}update(t){aa(this);const{view:n,buffer:r,blockLen:s}=this;t=hc(t);const o=t.length;for(let i=0;i<o;){const c=Math.min(s-this.pos,o-i);if(c===s){const d=I0(t);for(;s<=o-i;i+=s)this.process(d,i);continue}r.set(t.subarray(i,i+c),this.pos),this.pos+=c,i+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){aa(this),T0(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:o}=this;let{pos:i}=this;n[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>s-i&&(this.process(r,0),i=0);for(let _=i;_<s;_++)n[_]=0;C5(r,s-8,BigInt(this.length*8),o),this.process(r,0);const c=I0(t),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=d/4,g=this.get();if(f>g.length)throw new Error("_sha2: outputLen bigger than state");for(let _=0;_<f;_++)c.setUint32(4*_,g[_],o)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:o,destroyed:i,pos:c}=this;return t.length=s,t.pos=c,t.finished=o,t.destroyed=i,s%n&&t.buffer.set(r),t}}const k5=(e,t,n)=>e&t^~e&n,O5=(e,t,n)=>e&t^e&n^t&n,R5=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ri=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),si=new Uint32Array(64);class AS extends I5{constructor(){super(64,32,8,!1),this.A=ri[0]|0,this.B=ri[1]|0,this.C=ri[2]|0,this.D=ri[3]|0,this.E=ri[4]|0,this.F=ri[5]|0,this.G=ri[6]|0,this.H=ri[7]|0}get(){const{A:t,B:n,C:r,D:s,E:o,F:i,G:c,H:d}=this;return[t,n,r,s,o,i,c,d]}set(t,n,r,s,o,i,c,d){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=c|0,this.H=d|0}process(t,n){for(let _=0;_<16;_++,n+=4)si[_]=t.getUint32(n,!1);for(let _=16;_<64;_++){const y=si[_-15],b=si[_-2],k=Fs(y,7)^Fs(y,18)^y>>>3,B=Fs(b,17)^Fs(b,19)^b>>>10;si[_]=B+si[_-7]+k+si[_-16]|0}let{A:r,B:s,C:o,D:i,E:c,F:d,G:f,H:g}=this;for(let _=0;_<64;_++){const y=Fs(c,6)^Fs(c,11)^Fs(c,25),b=g+y+k5(c,d,f)+R5[_]+si[_]|0,B=(Fs(r,2)^Fs(r,13)^Fs(r,22))+O5(r,s,o)|0;g=f,f=d,d=c,c=i+b|0,i=o,o=s,s=r,r=b+B|0}r=r+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,c=c+this.E|0,d=d+this.F|0,f=f+this.G|0,g=g+this.H|0,this.set(r,s,o,i,c,d,f,g)}roundClean(){si.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class nK extends AS{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const O0=mS(()=>new AS),rK=null;/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mn=BigInt(0),$t=BigInt(1),oi=BigInt(2),P5=BigInt(3),R0=BigInt(4),TS=BigInt(5),xS=BigInt(8),N5=BigInt(9),B5=BigInt(16);function Dn(e,t){const n=e%t;return n>=mn?n:t+n}function D5(e,t,n){if(n<=mn||t<mn)throw new Error("Expected power/modulo > 0");if(n===$t)return mn;let r=$t;for(;t>mn;)t&$t&&(r=r*e%n),e=e*e%n,t>>=$t;return r}function sK(e,t,n){let r=e;for(;t-- >mn;)r*=r,r%=n;return r}function Ul(e,t){if(e===mn||t<=mn)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let n=Dn(e,t),r=t,s=mn,o=$t,i=$t,c=mn;for(;n!==mn;){const f=r/n,g=r%n,_=s-i*f,y=o-c*f;r=n,n=g,s=i,o=c,i=_,c=y}if(r!==$t)throw new Error("invert: does not exist");return Dn(s,t)}function L5(e){const t=(e-$t)/oi;let n,r,s;for(n=e-$t,r=0;n%oi===mn;n/=oi,r++);for(s=oi;s<e&&D5(s,t,e)!==e-$t;s++);if(r===1){const i=(e+$t)/R0;return function(d,f){const g=d.pow(f,i);if(!d.eql(d.sqr(g),f))throw new Error("Cannot find square root");return g}}const o=(n+$t)/oi;return function(c,d){if(c.pow(d,t)===c.neg(c.ONE))throw new Error("Cannot find square root");let f=r,g=c.pow(c.mul(c.ONE,s),n),_=c.pow(d,o),y=c.pow(d,n);for(;!c.eql(y,c.ONE);){if(c.eql(y,c.ZERO))return c.ZERO;let b=1;for(let B=c.sqr(y);b<f&&!c.eql(B,c.ONE);b++)B=c.sqr(B);const k=c.pow(g,$t<<BigInt(f-b-1));g=c.sqr(k),_=c.mul(_,k),y=c.mul(y,g),f=b}return _}}function $5(e){if(e%R0===P5){const t=(e+$t)/R0;return function(r,s){const o=r.pow(s,t);if(!r.eql(r.sqr(o),s))throw new Error("Cannot find square root");return o}}if(e%xS===TS){const t=(e-TS)/xS;return function(r,s){const o=r.mul(s,oi),i=r.pow(o,t),c=r.mul(s,i),d=r.mul(r.mul(c,oi),i),f=r.mul(c,r.sub(d,r.ONE));if(!r.eql(r.sqr(f),s))throw new Error("Cannot find square root");return f}}return e%B5,L5(e)}const oK=(e,t)=>(Dn(e,t)&$t)===$t,U5=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ph(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=U5.reduce((r,s)=>(r[s]="function",r),t);return Dl(e,n)}function SS(e,t,n){if(n<mn)throw new Error("Expected power > 0");if(n===mn)return e.ONE;if(n===$t)return t;let r=e.ONE,s=t;for(;n>mn;)n&$t&&(r=e.mul(r,s)),s=e.sqr(s),n>>=$t;return r}function M5(e,t){const n=new Array(t.length),r=t.reduce((o,i,c)=>e.is0(i)?o:(n[c]=o,e.mul(o,i)),e.ONE),s=e.inv(r);return t.reduceRight((o,i,c)=>e.is0(i)?o:(n[c]=e.mul(o,n[c]),e.mul(o,i)),s),n}function iK(e,t,n){return e.mul(t,typeof n=="bigint"?Ul(n,e.ORDER):e.inv(n))}function aK(e){const t=(e.ORDER-$t)/oi;return n=>{const r=e.pow(n,t);return e.eql(r,e.ZERO)||e.eql(r,e.ONE)}}function P0(e,t){const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function CS(e,t,n=!1,r={}){if(e<=mn)throw new Error(`Expected Field ORDER > 0, got ${e}`);const{nBitLength:s,nByteLength:o}=P0(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");const i=$5(e),c=Object.freeze({ORDER:e,BITS:s,BYTES:o,MASK:Ih(s),ZERO:mn,ONE:$t,create:d=>Dn(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof d}`);return mn<=d&&d<e},is0:d=>d===mn,isOdd:d=>(d&$t)===$t,neg:d=>Dn(-d,e),eql:(d,f)=>d===f,sqr:d=>Dn(d*d,e),add:(d,f)=>Dn(d+f,e),sub:(d,f)=>Dn(d-f,e),mul:(d,f)=>Dn(d*f,e),pow:(d,f)=>SS(c,d,f),div:(d,f)=>Dn(d*Ul(f,e),e),sqrN:d=>d*d,addN:(d,f)=>d+f,subN:(d,f)=>d-f,mulN:(d,f)=>d*f,inv:d=>Ul(d,e),sqrt:r.sqrt||(d=>i(c,d)),invertBatch:d=>M5(c,d),cmov:(d,f,g)=>g?f:d,toBytes:d=>n?E0(d,o):dc(d,o),fromBytes:d=>{if(d.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${d.length}`);return n?w0(d):rr(d)}});return Object.freeze(c)}function cK(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);return e.isOdd(n)?n:e.neg(n)}function uK(e,t){if(!e.isOdd)throw new Error("Field doesn't have isOdd");const n=e.sqrt(t);return e.isOdd(n)?e.neg(n):n}function lK(e,t,n=!1){e=ensureBytes("privateHash",e);const r=e.length,s=P0(t).nByteLength+8;if(s<24||r<s||r>1024)throw new Error(`hashToPrivateScalar: expected ${s}-1024 bytes of input, got ${r}`);const o=n?bytesToNumberLE(e):bytesToNumberBE(e);return Dn(o,t-$t)+$t}function IS(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function kS(e){const t=IS(e);return t+Math.ceil(t/2)}function z5(e,t,n=!1){const r=e.length,s=IS(t),o=kS(t);if(r<16||r<o||r>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${r}`);const i=n?rr(e):w0(e),c=Dn(i,t-$t)+$t;return n?E0(c,s):dc(c,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function OS(e){const{Fp:t,mds:n,reversePartialPowIdx:r,roundConstants:s}=e,{roundsFull:o,roundsPartial:i,sboxPower:c,t:d}=e;Ph(t);for(const k of["t","roundsFull","roundsPartial"])if(typeof e[k]!="number"||!Number.isSafeInteger(e[k]))throw new Error(`Poseidon: invalid param ${k}=${e[k]} (${typeof e[k]})`);if(!Array.isArray(n)||n.length!==d)throw new Error("Poseidon: wrong MDS matrix");const f=n.map(k=>{if(!Array.isArray(k)||k.length!==d)throw new Error(`Poseidon MDS matrix row: ${k}`);return k.map(B=>{if(typeof B!="bigint")throw new Error(`Poseidon MDS matrix value=${B}`);return t.create(B)})});if(r!==void 0&&typeof r!="boolean")throw new Error(`Poseidon: invalid param reversePartialPowIdx=${r}`);if(o%2!==0)throw new Error(`Poseidon roundsFull is not even: ${o}`);const g=o+i;if(!Array.isArray(s)||s.length!==g)throw new Error("Poseidon: wrong round constants");const _=s.map(k=>{if(!Array.isArray(k)||k.length!==d)throw new Error(`Poseidon wrong round constants: ${k}`);return k.map(B=>{if(typeof B!="bigint"||!t.isValid(B))throw new Error(`Poseidon wrong round constant=${B}`);return t.create(B)})});if(!c||![3,5,7].includes(c))throw new Error(`Poseidon wrong sboxPower=${c}`);const y=BigInt(c);let b=k=>SS(t,k,y);return c===3?b=k=>t.mul(t.sqrN(k),k):c===5&&(b=k=>t.mul(t.sqrN(t.sqrN(k)),k)),Object.freeze({...e,rounds:g,sboxFn:b,roundConstants:_,mds:f})}function F5(e,t){if(typeof t!="number")throw new Error("poseidonSplitConstants: wrong t");if(!Array.isArray(e)||e.length%t)throw new Error("poseidonSplitConstants: wrong rc");const n=[];let r=[];for(let s=0;s<e.length;s++)r.push(e[s]),r.length===t&&(n.push(r),r=[]);return n}function RS(e){const t=OS(e),{Fp:n,mds:r,roundConstants:s,rounds:o,roundsPartial:i,sboxFn:c,t:d}=t,f=t.roundsFull/2,g=t.reversePartialPowIdx?d-1:0,_=(b,k,B)=>(b=b.map((z,K)=>n.add(z,s[B][K])),k?b=b.map(z=>c(z)):b[g]=c(b[g]),b=r.map(z=>z.reduce((K,J,q)=>n.add(K,n.mulN(J,b[q])),n.ZERO)),b),y=function(k){if(!Array.isArray(k)||k.length!==d)throw new Error(`Poseidon: wrong values (expected array of bigints with length ${d})`);k=k.map(z=>{if(typeof z!="bigint")throw new Error(`Poseidon: wrong value=${z} (${typeof z})`);return n.create(z)});let B=0;for(let z=0;z<f;z++)k=_(k,!0,B++);for(let z=0;z<i;z++)k=_(k,!1,B++);for(let z=0;z<f;z++)k=_(k,!0,B++);if(B!==o)throw new Error(`Poseidon: wrong number of rounds: last round=${B}, total=${o}`);return k};return y.roundConstants=s,y}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const H5=BigInt(0),N0=BigInt(1);function j5(e,t){const n=(s,o)=>{const i=o.negate();return s?i:o},r=s=>{const o=Math.ceil(t/s)+1,i=2**(s-1);return{windows:o,windowSize:i}};return{constTimeNegate:n,unsafeLadder(s,o){let i=e.ZERO,c=s;for(;o>H5;)o&N0&&(i=i.add(c)),c=c.double(),o>>=N0;return i},precomputeWindow(s,o){const{windows:i,windowSize:c}=r(o),d=[];let f=s,g=f;for(let _=0;_<i;_++){g=f,d.push(g);for(let y=1;y<c;y++)g=g.add(f),d.push(g);f=g.double()}return d},wNAF(s,o,i){const{windows:c,windowSize:d}=r(s);let f=e.ZERO,g=e.BASE;const _=BigInt(2**s-1),y=2**s,b=BigInt(s);for(let k=0;k<c;k++){const B=k*d;let z=Number(i&_);i>>=b,z>d&&(z-=y,i+=N0);const K=B,J=B+Math.abs(z)-1,q=k%2!==0,ee=z<0;z===0?g=g.add(n(q,o[K])):f=f.add(n(ee,o[J]))}return{p:f,f:g}},wNAFCached(s,o,i,c){const d=s._WINDOW_SIZE||1;let f=o.get(s);return f||(f=this.precomputeWindow(s,d),d!==1&&o.set(s,c(f))),this.wNAF(d,f,i)}}}function PS(e){return Ph(e.Fp),Dl(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...P0(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function V5(e){const t=PS(e);Dl(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{Ph:Z5,aT:K5}=Q,fo={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(e){const{Err:t}=fo;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const n=e[1],r=e.subarray(2,n+2);if(!n||r.length!==n)throw new t("Invalid signature integer: wrong length");if(r[0]&128)throw new t("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Z5(r),l:e.subarray(n+2)}},toSig(e){const{Err:t}=fo,n=typeof e=="string"?K5(e):e;if(!zs(n))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new t("Invalid signature tag");if(n[1]!==r-2)throw new t("Invalid signature: incorrect length");const{d:s,l:o}=fo._parseInt(n.subarray(2)),{d:i,l:c}=fo._parseInt(o);if(c.length)throw new t("Invalid signature: left bytes after parsing");return{r:s,s:i}},hexFromSig(e){const t=f=>Number.parseInt(f[0],16)&8?"00"+f:f,n=f=>{const g=f.toString(16);return g.length&1?`0${g}`:g},r=t(n(e.s)),s=t(n(e.r)),o=r.length/2,i=s.length/2,c=n(o),d=n(i);return`30${n(i+o+4)}02${d}${s}02${c}${r}`}},us=BigInt(0),tn=BigInt(1),ii=BigInt(2),Nh=BigInt(3),NS=BigInt(4);function BS(e){const t=V5(e),{Fp:n}=t,r=t.toBytes||((k,B,z)=>{const K=B.toAffine();return fc(Uint8Array.from([4]),n.toBytes(K.x),n.toBytes(K.y))}),s=t.fromBytes||(k=>{const B=k.subarray(1),z=n.fromBytes(B.subarray(0,n.BYTES)),K=n.fromBytes(B.subarray(n.BYTES,2*n.BYTES));return{x:z,y:K}});function o(k){const{a:B,b:z}=t,K=n.sqr(k),J=n.mul(K,k);return n.add(n.add(J,n.mul(k,B)),z)}if(!n.eql(n.sqr(t.Gy),o(t.Gx)))throw new Error("bad generator point: equation left != right");function i(k){return typeof k=="bigint"&&us<k&&k<t.n}function c(k){if(!i(k))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function d(k){const{allowedPrivateKeyLengths:B,nByteLength:z,wrapPrivateKey:K,n:J}=t;if(B&&typeof k!="bigint"){if(zs(k)&&(k=ti(k)),typeof k!="string"||!B.includes(k.length))throw new Error("Invalid key");k=k.padStart(z*2,"0")}let q;try{q=typeof k=="bigint"?k:rr(Xr("private key",k,z))}catch{throw new Error(`private key must be ${z} bytes, hex or bigint, not ${typeof k}`)}return K&&(q=Dn(q,J)),c(q),q}const f=new Map;function g(k){if(!(k instanceof _))throw new Error("ProjectivePoint expected")}class _{constructor(B,z,K){if(this.px=B,this.py=z,this.pz=K,B==null||!n.isValid(B))throw new Error("x required");if(z==null||!n.isValid(z))throw new Error("y required");if(K==null||!n.isValid(K))throw new Error("z required")}static fromAffine(B){const{x:z,y:K}=B||{};if(!B||!n.isValid(z)||!n.isValid(K))throw new Error("invalid affine point");if(B instanceof _)throw new Error("projective point not allowed");const J=q=>n.eql(q,n.ZERO);return J(z)&&J(K)?_.ZERO:new _(z,K,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(B){const z=n.invertBatch(B.map(K=>K.pz));return B.map((K,J)=>K.toAffine(z[J])).map(_.fromAffine)}static fromHex(B){const z=_.fromAffine(s(Xr("pointHex",B)));return z.assertValidity(),z}static fromPrivateKey(B){return _.BASE.multiply(d(B))}_setWindowSize(B){this._WINDOW_SIZE=B,f.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:B,y:z}=this.toAffine();if(!n.isValid(B)||!n.isValid(z))throw new Error("bad point: x or y not FE");const K=n.sqr(z),J=o(B);if(!n.eql(K,J))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:B}=this.toAffine();if(n.isOdd)return!n.isOdd(B);throw new Error("Field doesn't support isOdd")}equals(B){g(B);const{px:z,py:K,pz:J}=this,{px:q,py:ee,pz:be}=B,fe=n.eql(n.mul(z,be),n.mul(q,J)),ne=n.eql(n.mul(K,be),n.mul(ee,J));return fe&&ne}negate(){return new _(this.px,n.neg(this.py),this.pz)}double(){const{a:B,b:z}=t,K=n.mul(z,Nh),{px:J,py:q,pz:ee}=this;let be=n.ZERO,fe=n.ZERO,ne=n.ZERO,pe=n.mul(J,J),xe=n.mul(q,q),Ie=n.mul(ee,ee),_e=n.mul(J,q);return _e=n.add(_e,_e),ne=n.mul(J,ee),ne=n.add(ne,ne),be=n.mul(B,ne),fe=n.mul(K,Ie),fe=n.add(be,fe),be=n.sub(xe,fe),fe=n.add(xe,fe),fe=n.mul(be,fe),be=n.mul(_e,be),ne=n.mul(K,ne),Ie=n.mul(B,Ie),_e=n.sub(pe,Ie),_e=n.mul(B,_e),_e=n.add(_e,ne),ne=n.add(pe,pe),pe=n.add(ne,pe),pe=n.add(pe,Ie),pe=n.mul(pe,_e),fe=n.add(fe,pe),Ie=n.mul(q,ee),Ie=n.add(Ie,Ie),pe=n.mul(Ie,_e),be=n.sub(be,pe),ne=n.mul(Ie,xe),ne=n.add(ne,ne),ne=n.add(ne,ne),new _(be,fe,ne)}add(B){g(B);const{px:z,py:K,pz:J}=this,{px:q,py:ee,pz:be}=B;let fe=n.ZERO,ne=n.ZERO,pe=n.ZERO;const xe=t.a,Ie=n.mul(t.b,Nh);let _e=n.mul(z,q),Me=n.mul(K,ee),Ge=n.mul(J,be),le=n.add(z,K),ie=n.add(q,ee);le=n.mul(le,ie),ie=n.add(_e,Me),le=n.sub(le,ie),ie=n.add(z,J);let me=n.add(q,be);return ie=n.mul(ie,me),me=n.add(_e,Ge),ie=n.sub(ie,me),me=n.add(K,J),fe=n.add(ee,be),me=n.mul(me,fe),fe=n.add(Me,Ge),me=n.sub(me,fe),pe=n.mul(xe,ie),fe=n.mul(Ie,Ge),pe=n.add(fe,pe),fe=n.sub(Me,pe),pe=n.add(Me,pe),ne=n.mul(fe,pe),Me=n.add(_e,_e),Me=n.add(Me,_e),Ge=n.mul(xe,Ge),ie=n.mul(Ie,ie),Me=n.add(Me,Ge),Ge=n.sub(_e,Ge),Ge=n.mul(xe,Ge),ie=n.add(ie,Ge),_e=n.mul(Me,ie),ne=n.add(ne,_e),_e=n.mul(me,ie),fe=n.mul(le,fe),fe=n.sub(fe,_e),_e=n.mul(le,Me),pe=n.mul(me,pe),pe=n.add(pe,_e),new _(fe,ne,pe)}subtract(B){return this.add(B.negate())}is0(){return this.equals(_.ZERO)}wNAF(B){return b.wNAFCached(this,f,B,z=>{const K=n.invertBatch(z.map(J=>J.pz));return z.map((J,q)=>J.toAffine(K[q])).map(_.fromAffine)})}multiplyUnsafe(B){const z=_.ZERO;if(B===us)return z;if(c(B),B===tn)return this;const{endo:K}=t;if(!K)return b.unsafeLadder(this,B);let{k1neg:J,k1:q,k2neg:ee,k2:be}=K.splitScalar(B),fe=z,ne=z,pe=this;for(;q>us||be>us;)q&tn&&(fe=fe.add(pe)),be&tn&&(ne=ne.add(pe)),pe=pe.double(),q>>=tn,be>>=tn;return J&&(fe=fe.negate()),ee&&(ne=ne.negate()),ne=new _(n.mul(ne.px,K.beta),ne.py,ne.pz),fe.add(ne)}multiply(B){c(B);let z=B,K,J;const{endo:q}=t;if(q){const{k1neg:ee,k1:be,k2neg:fe,k2:ne}=q.splitScalar(z);let{p:pe,f:xe}=this.wNAF(be),{p:Ie,f:_e}=this.wNAF(ne);pe=b.constTimeNegate(ee,pe),Ie=b.constTimeNegate(fe,Ie),Ie=new _(n.mul(Ie.px,q.beta),Ie.py,Ie.pz),K=pe.add(Ie),J=xe.add(_e)}else{const{p:ee,f:be}=this.wNAF(z);K=ee,J=be}return _.normalizeZ([K,J])[0]}multiplyAndAddUnsafe(B,z,K){const J=_.BASE,q=(be,fe)=>fe===us||fe===tn||!be.equals(J)?be.multiplyUnsafe(fe):be.multiply(fe),ee=q(this,z).add(q(B,K));return ee.is0()?void 0:ee}toAffine(B){const{px:z,py:K,pz:J}=this,q=this.is0();B==null&&(B=q?n.ONE:n.inv(J));const ee=n.mul(z,B),be=n.mul(K,B),fe=n.mul(J,B);if(q)return{x:n.ZERO,y:n.ZERO};if(!n.eql(fe,n.ONE))throw new Error("invZ was invalid");return{x:ee,y:be}}isTorsionFree(){const{h:B,isTorsionFree:z}=t;if(B===tn)return!0;if(z)return z(_,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:B,clearCofactor:z}=t;return B===tn?this:z?z(_,this):this.multiplyUnsafe(t.h)}toRawBytes(B=!0){return this.assertValidity(),r(_,this,B)}toHex(B=!0){return ti(this.toRawBytes(B))}}_.BASE=new _(t.Gx,t.Gy,n.ONE),_.ZERO=new _(n.ZERO,n.ONE,n.ZERO);const y=t.nBitLength,b=j5(_,t.endo?Math.ceil(y/2):y);return{CURVE:t,ProjectivePoint:_,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:i}}function W5(e){const t=PS(e);return Dl(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function DS(e){const t=W5(e),{Fp:n,n:r}=t,s=n.BYTES+1,o=2*n.BYTES+1;function i(ie){return us<ie&&ie<n.ORDER}function c(ie){return Dn(ie,r)}function d(ie){return Ul(ie,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:g,weierstrassEquation:_,isWithinCurveOrder:y}=BS({...t,toBytes(ie,me,Ne){const Ve=me.toAffine(),Ke=n.toBytes(Ve.x),ot=fc;return Ne?ot(Uint8Array.from([me.hasEvenY()?2:3]),Ke):ot(Uint8Array.from([4]),Ke,n.toBytes(Ve.y))},fromBytes(ie){const me=ie.length,Ne=ie[0],Ve=ie.subarray(1);if(me===s&&(Ne===2||Ne===3)){const Ke=rr(Ve);if(!i(Ke))throw new Error("Point is not on curve");const ot=_(Ke);let pt=n.sqrt(ot);const Ft=(pt&tn)===tn;return(Ne&1)===1!==Ft&&(pt=n.neg(pt)),{x:Ke,y:pt}}else if(me===o&&Ne===4){const Ke=n.fromBytes(Ve.subarray(0,n.BYTES)),ot=n.fromBytes(Ve.subarray(n.BYTES,2*n.BYTES));return{x:Ke,y:ot}}else throw new Error(`Point of length ${me} was invalid. Expected ${s} compressed bytes or ${o} uncompressed bytes`)}}),b=ie=>ti(dc(ie,t.nByteLength));function k(ie){const me=r>>tn;return ie>me}function B(ie){return k(ie)?c(-ie):ie}const z=(ie,me,Ne)=>rr(ie.slice(me,Ne));class K{constructor(me,Ne,Ve){this.r=me,this.s=Ne,this.recovery=Ve,this.assertValidity()}static fromCompact(me){const Ne=t.nByteLength;return me=Xr("compactSignature",me,Ne*2),new K(z(me,0,Ne),z(me,Ne,2*Ne))}static fromDER(me){const{r:Ne,s:Ve}=fo.toSig(Xr("DER",me));return new K(Ne,Ve)}assertValidity(){if(!y(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!y(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(me){return new K(this.r,this.s,me)}recoverPublicKey(me){const{r:Ne,s:Ve,recovery:Ke}=this,ot=ne(Xr("msgHash",me));if(Ke==null||![0,1,2,3].includes(Ke))throw new Error("recovery id invalid");const pt=Ke===2||Ke===3?Ne+t.n:Ne;if(pt>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Ft=Ke&1?"03":"02",dn=f.fromHex(Ft+b(pt)),Qt=d(pt),Lr=c(-ot*Qt),gr=c(Ve*Qt),Qr=f.BASE.multiplyAndAddUnsafe(dn,Lr,gr);if(!Qr)throw new Error("point at infinify");return Qr.assertValidity(),Qr}hasHighS(){return k(this.s)}normalizeS(){return this.hasHighS()?new K(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return ni(this.toDERHex())}toDERHex(){return fo.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ni(this.toCompactHex())}toCompactHex(){return b(this.r)+b(this.s)}}const J={isValidPrivateKey(ie){try{return g(ie),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const ie=kS(t.n);return z5(t.randomBytes(ie),t.n)},precompute(ie=8,me=f.BASE){return me._setWindowSize(ie),me.multiply(BigInt(3)),me}};function q(ie,me=!0){return f.fromPrivateKey(ie).toRawBytes(me)}function ee(ie){const me=zs(ie),Ne=typeof ie=="string",Ve=(me||Ne)&&ie.length;return me?Ve===s||Ve===o:Ne?Ve===2*s||Ve===2*o:ie instanceof f}function be(ie,me,Ne=!0){if(ee(ie))throw new Error("first arg must be private key");if(!ee(me))throw new Error("second arg must be public key");return f.fromHex(me).multiply(g(ie)).toRawBytes(Ne)}const fe=t.bits2int||function(ie){const me=rr(ie),Ne=ie.length*8-t.nBitLength;return Ne>0?me>>BigInt(Ne):me},ne=t.bits2int_modN||function(ie){return c(fe(ie))},pe=Ih(t.nBitLength);function xe(ie){if(typeof ie!="bigint")throw new Error("bigint expected");if(!(us<=ie&&ie<pe))throw new Error(`bigint expected < 2^${t.nBitLength}`);return dc(ie,t.nByteLength)}function Ie(ie,me,Ne=_e){if(["recovered","canonical"].some(_r=>_r in Ne))throw new Error("sign() legacy options not supported");const{hash:Ve,randomBytes:Ke}=t;let{lowS:ot,prehash:pt,extraEntropy:Ft}=Ne;ot==null&&(ot=!0),ie=Xr("msgHash",ie),pt&&(ie=Xr("prehashed msgHash",Ve(ie)));const dn=ne(ie),Qt=g(me),Lr=[xe(Qt),xe(dn)];if(Ft!=null){const _r=Ft===!0?Ke(n.BYTES):Ft;Lr.push(Xr("extraEntropy",_r))}const gr=fc(...Lr),Qr=dn;function gs(_r){const Ks=fe(_r);if(!y(Ks))return;const fi=d(Ks),Sn=f.BASE.multiply(Ks).toAffine(),es=c(Sn.x);if(es===us)return;const _s=c(fi*c(Qr+es*Qt));if(_s===us)return;let sd=(Sn.x===es?0:2)|Number(Sn.y&tn),aI=_s;return ot&&k(_s)&&(aI=B(_s),sd^=1),new K(es,aI,sd)}return{seed:gr,k2sig:gs}}const _e={lowS:t.lowS,prehash:!1},Me={lowS:t.lowS,prehash:!1};function Ge(ie,me,Ne=_e){const{seed:Ve,k2sig:Ke}=Ie(ie,me,Ne),ot=t;return aS(ot.hash.outputLen,ot.nByteLength,ot.hmac)(Ve,Ke)}f.BASE._setWindowSize(8);function le(ie,me,Ne,Ve=Me){const Ke=ie;if(me=Xr("msgHash",me),Ne=Xr("publicKey",Ne),"strict"in Ve)throw new Error("options.strict was renamed to lowS");const{lowS:ot,prehash:pt}=Ve;let Ft,dn;try{if(typeof Ke=="string"||zs(Ke))try{Ft=K.fromDER(Ke)}catch(Sn){if(!(Sn instanceof fo.Err))throw Sn;Ft=K.fromCompact(Ke)}else if(typeof Ke=="object"&&typeof Ke.r=="bigint"&&typeof Ke.s=="bigint"){const{r:Sn,s:es}=Ke;Ft=new K(Sn,es)}else throw new Error("PARSE");dn=f.fromHex(Ne)}catch(Sn){if(Sn.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(ot&&Ft.hasHighS())return!1;pt&&(me=t.hash(me));const{r:Qt,s:Lr}=Ft,gr=ne(me),Qr=d(Lr),gs=c(gr*Qr),_r=c(Qt*Qr),Ks=f.BASE.multiplyAndAddUnsafe(dn,gs,_r)?.toAffine();return Ks?c(Ks.x)===Qt:!1}return{CURVE:t,getPublicKey:q,getSharedSecret:be,sign:Ge,verify:le,ProjectivePoint:f,Signature:K,utils:J}}function LS(e,t){const n=e.ORDER;let r=us;for(let k=n-tn;k%ii===us;k/=ii)r+=tn;const s=r,o=ii<<s-tn-tn,i=o*ii,c=(n-tn)/i,d=(c-tn)/ii,f=i-tn,g=o,_=e.pow(t,c),y=e.pow(t,(c+tn)/ii);let b=(k,B)=>{let z=_,K=e.pow(B,f),J=e.sqr(K);J=e.mul(J,B);let q=e.mul(k,J);q=e.pow(q,d),q=e.mul(q,K),K=e.mul(q,B),J=e.mul(q,k);let ee=e.mul(J,K);q=e.pow(ee,g);let be=e.eql(q,e.ONE);K=e.mul(J,y),q=e.mul(ee,z),J=e.cmov(K,J,be),ee=e.cmov(q,ee,be);for(let fe=s;fe>tn;fe--){let ne=fe-ii;ne=ii<<ne-tn;let pe=e.pow(ee,ne);const xe=e.eql(pe,e.ONE);K=e.mul(J,z),z=e.mul(z,z),pe=e.mul(ee,z),J=e.cmov(K,J,xe),ee=e.cmov(pe,ee,xe)}return{isValid:be,value:J}};if(e.ORDER%NS===Nh){const k=(e.ORDER-Nh)/NS,B=e.sqrt(e.neg(t));b=(z,K)=>{let J=e.sqr(K);const q=e.mul(z,K);J=e.mul(J,q);let ee=e.pow(J,k);ee=e.mul(ee,q);const be=e.mul(ee,B),fe=e.mul(e.sqr(ee),K),ne=e.eql(fe,z);let pe=e.cmov(be,ee,ne);return{isValid:ne,value:pe}}}return b}function G5(e,t){if(Ph(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=LS(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let s,o,i,c,d,f,g,_;s=e.sqr(r),s=e.mul(s,t.Z),o=e.sqr(s),o=e.add(o,s),i=e.add(o,e.ONE),i=e.mul(i,t.B),c=e.cmov(t.Z,e.neg(o),!e.eql(o,e.ZERO)),c=e.mul(c,t.A),o=e.sqr(i),f=e.sqr(c),d=e.mul(f,t.A),o=e.add(o,d),o=e.mul(o,i),f=e.mul(f,c),d=e.mul(f,t.B),o=e.add(o,d),g=e.mul(s,i);const{isValid:y,value:b}=n(o,f);_=e.mul(s,r),_=e.mul(_,b),g=e.cmov(g,i,y),_=e.cmov(_,b,y);const k=e.isOdd(r)===e.isOdd(_);return _=e.cmov(e.neg(_),_,k),g=e.div(g,c),{x:g,y:_}}}class $S extends k0{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,cS(t);const r=hc(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),o.fill(0)}update(t){return aa(this),this.iHash.update(t),this}digestInto(t){aa(this),kh(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:i,outputLen:c}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=c,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const US=(e,t,n)=>new $S(e,t).update(n).digest();US.create=(e,t)=>new $S(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function MS(e){return{hash:e,hmac:(t,...n)=>US(e,t,p5(...n)),randomBytes:_5}}function dK(e,t){const n=r=>weierstrass({...e,...MS(r)});return Object.freeze({...n(t),create:n})}const Ml=BigInt("3618502788666131213697322783095070105526743751716087489154079457884512865583"),ca=BigInt("0x800000000000000000000000000000000000000000000000000000000000000"),zS=252;function FS(e){for(;e[0]===0;)e=e.subarray(1);const t=e.length*8-zS,n=rr(e);return t>0?n>>BigInt(t):n}function HS(e){return typeof e=="string"&&(e=L0(e),e.length&1&&(e="0"+e)),ni(e)}const ua=DS({a:BigInt(1),b:BigInt("3141592653589793238462643383279502884197169399375105820974944592307816406665"),Fp:CS(BigInt("0x800000000000011000000000000000000000000000000000000000000000001")),n:Ml,nBitLength:zS,Gx:BigInt("874739451078007766457464989774322083649278607533249481151382481072868806602"),Gy:BigInt("152666792071518830868575557812948353041420400780739481342941381225525861407"),h:BigInt(1),lowS:!1,...MS(O0),bits2int:FS,bits2int_modN:e=>{const t=rr(e).toString(16);return t.length===63&&(e=HS(t+"0")),Dn(FS(e),Ml)}}),Y5=ua;function pc(e){return Xr("",typeof e=="string"?HS(e):e)}function B0(e){return ti(pc(e)).padStart(64,"0")}function jS(e,t=!1){return ua.getPublicKey(B0(e),t)}function X5(e,t){return ua.getSharedSecret(B0(e),t)}function VS(e){const{r:t,s:n}=e;if(t<0n||t>=ca)throw new Error(`Signature.r should be [1, ${ca})`);const r=Ul(n,Ml);if(r<0n||r>=ca)throw new Error(`inv(Signature.s) should be [1, ${ca})`)}function ZS(e){const t=pc(e);if(rr(t)>=ca)throw new Error(`msgHash should be [0, ${ca})`);return t}function zl(e,t,n){const r=ua.sign(ZS(e),B0(t),n);return VS(r),r}function q5(e,t,n){if(!(e instanceof Bh)){const r=pc(e);try{e=Bh.fromDER(r)}catch(s){if(!(s instanceof fo.Err))throw s;e=Bh.fromCompact(r)}}return VS(e),ua.verify(e,ZS(t),pc(n))}const{CURVE:J5,ProjectivePoint:gc,Signature:Bh,utils:D0}=ua;function KS(e){return`0x${ti(e.subarray(1)).replace(/^0+/gm,"")}`}function L0(e){return e.replace(/^0x/i,"")}function WS(e){const t=pc(e),n=2n**256n,r=n-Dn(n,Ml);for(let s=0;;s++){const o=U0(fc(t,v0(BigInt(s))));if(o<r)return Dn(o,Ml).toString(16);if(s===1e5)throw new Error("grindKey is broken: tried 100k vals")}}function $0(e){return KS(jS(e,!0))}function Q5(e){if(e=L0(e),e.length!==130)throw new Error("Wrong ethereum signature");return WS(e.substring(0,64))}const e$=2n**31n-1n,Dh=e=>Number(e&e$);function t$(e,t,n,r){const s=Dh(U0(e)),o=Dh(U0(t)),i=Ch(L0(n));return`m/2645'/${s}'/${o}'/${Dh(i)}'/${Dh(i>>31n)}'/${r}`}const Fl=[new gc(2089986280348253421170679821480865132823066470938446095505822317253594081284n,1713931329540660377023406109199410414810705867260802078187082345529207694986n,1n),new gc(996781205833008774514500082376783249102396023663454813447423147977397232763n,1668503676786377725805489344771023921079126552019160156920634619255970485781n,1n),new gc(2251563274489750535117886426533222435294046428347329203627021249169616184184n,1798716007562728905295480679789526322175868328062420237419143593021674992973n,1n),new gc(2138414695194151160943305727036575959195309218611738193261179310511854807447n,113410276730064486255102093846540133784865286929052426931474106396135072156n,1n),new gc(2379962749567351885752724891227938183011949129833673362440656643086021394946n,776496453633298175483985398648758586525933812536653089401905292063708816422n,1n)];function GS(e,t){const n=[];let r=e;for(let s=0;s<248;s++)n.push(r),r=r.double();r=t;for(let s=0;s<4;s++)n.push(r),r=r.double();return n}const n$=GS(Fl[1],Fl[2]),r$=GS(Fl[3],Fl[4]);function s$(e){let t;if(typeof e=="bigint")t=e;else if(typeof e=="number"){if(!Number.isSafeInteger(e))throw new Error(`Invalid pedersenArg: ${e}`);t=BigInt(e)}else t=rr(pc(e));if(!(0n<=t&&t<ua.CURVE.Fp.ORDER))throw new Error(`PedersenArg should be 0 <= value < CURVE.P: ${t}`);return t}function YS(e,t,n){let r=s$(t);for(let s=0;s<252;s++){const o=n[s];if(o.equals(e))throw new Error("Same point");(r&1n)!==0n&&(e=e.add(o)),r>>=1n}return e}function Hl(e,t){let n=Fl[0];return n=YS(n,e,n$),n=YS(n,t,r$),KS(n.toRawBytes(!0))}const o$=(e,t=Hl)=>[0,...e,e.length].reduce((n,r)=>t(n,r)),i$=Ih(250),_c=e=>rr(S5(e))&i$,U0=e=>rr(O0(e)),XS=CS(BigInt("3618502788666131213697322783095070105623107215331596699973092056135872020481"));function M0(e,t,n){const r=e.fromBytes(O0(_S(`${t}${n}`)));return e.create(r)}function qS(e,t,n,r=0){const s=[],o=[];for(let i=0;i<n;i++)s.push(M0(e,`${t}x`,r*n+i)),o.push(M0(e,`${t}y`,r*n+i));if(new Set([...s,...o]).size!==2*n)throw new Error("X and Y values are not distinct");return s.map(i=>o.map(c=>e.inv(e.sub(i,c))))}const a$=[[3,1,1],[1,-1,1],[1,1,-2]].map(e=>e.map(BigInt));function z0(e,t){if(Ph(e.Fp),!Number.isSafeInteger(e.rate)||!Number.isSafeInteger(e.capacity))throw new Error(`Wrong poseidon opts: ${e}`);const n=e.rate+e.capacity,r=e.roundsFull+e.roundsPartial,s=[];for(let i=0;i<r;i++){const c=[];for(let d=0;d<n;d++)c.push(M0(e.Fp,"Hades",n*i+d));s.push(c)}const o=RS({...e,t:n,sboxPower:3,reversePartialPowIdx:!0,mds:t,roundConstants:s});return o.m=n,o.rate=e.rate,o.capacity=e.capacity,o}function c$(e,t=0){const n=e.rate+e.capacity;if(!Number.isSafeInteger(t))throw new Error(`Wrong mdsAttempt=${t}`);return z0(e,qS(e.Fp,"HadesMDS",n,t))}const jl=z0({Fp:XS,rate:2,capacity:1,roundsFull:8,roundsPartial:83},a$);function F0(e,t,n=jl){return n([e,t,2n])[0]}function u$(e,t,n=jl){return v0(F0(rr(e),rr(t),n))}function l$(e,t=jl){return t([e,0n,1n])[0]}function ho(e,t=jl){const{m:n,rate:r}=t;if(!Array.isArray(e))throw new Error("bigint array expected in values");const s=Array.from(e);for(s.push(1n);s.length%r!==0;)s.push(0n);let o=new Array(n).fill(0n);for(let i=0;i<s.length;i+=r){for(let c=0;c<r;c++)o[c]+=s[i+c];o=t(o)}return o[0]}function Vl(e){return d$.test(e)}var d$=/^-?[0-9]+$/;function JS(e){return f$.test(e)}var f$=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function h$(e,t){var n=parseFloat(e),r=String(n),s=e2(e),o=e2(r);if(s===o)return!0;if(t?.approx===!0){var i=14;if(!Vl(e)&&o.length>=i&&s.startsWith(o.substring(0,i)))return!0}return!1}var mc=function(e){return e.underflow="underflow",e.overflow="overflow",e.truncate_integer="truncate_integer",e.truncate_float="truncate_float",e}({});function QS(e){if(!h$(e,{approx:!1})){if(Vl(e))return mc.truncate_integer;var t=parseFloat(e);return isFinite(t)?t===0?mc.underflow:mc.truncate_float:mc.overflow}}function fK(e,t){var n=parseFloat(e),r=QS(e);if(t?.approx===!0?r&&r!==mc.truncate_float:r){var s=r.replace(/_\w+$/,"");throw new Error("Cannot safely convert to number: "+"the value '".concat(e,"' would ").concat(s," and become ").concat(n))}return n}function e2(e){return e.replace(p$,"").replace(_$,"").replace(m$,"").replace(g$,"")}var p$=/[eE][+-]?\d+$/,g$=/^-?(0*)?/,_$=/\./,m$=/0+$/;function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function y$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t2(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n2(r.key),r)}}function b$(e,t,n){return t&&t2(e.prototype,t),n&&t2(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function w$(e,t,n){return t=n2(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function n2(e){var t=E$(e,"string");return yc(t)==="symbol"?t:String(t)}function E$(e,t){if(yc(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(yc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r2=function(){function e(t){if(y$(this,e),w$(this,"isLosslessNumber",!0),!JS(t))throw new Error('Invalid number (value: "'+t+'")');this.value=t}return b$(e,[{key:"valueOf",value:function(){var n=QS(this.value);if(n===void 0||n===mc.truncate_float)return parseFloat(this.value);if(Vl(this.value))return BigInt(this.value);throw new Error("Cannot safely convert to number: "+"the value '".concat(this.value,"' would ").concat(n," and become ").concat(parseFloat(this.value)))}},{key:"toString",value:function(){return this.value}}]),e}();function v$(e){return e&&yc(e)==="object"&&e.isLosslessNumber===!0||!1}function hK(e){if(extractSignificantDigits(e+"").length>15)throw new Error("Invalid number: contains more than 15 digits and is most likely truncated and unsafe by itself "+"(value: ".concat(e,")"));if(isNaN(e))throw new Error("Invalid number: NaN");if(!isFinite(e))throw new Error("Invalid number: "+e);return new r2(String(e))}function A$(e){return new r2(e)}function T$(e){return Vl(e)?BigInt(e):parseFloat(e)}function H0(e){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H0(e)}function x$(e,t){return j0({"":e},"",e,t)}function j0(e,t,n,r){return Array.isArray(n)?r.call(e,t,C$(n,r)):n&&H0(n)==="object"&&!v$(n)?r.call(e,t,S$(n,r)):r.call(e,t,n)}function S$(e,t){return Object.keys(e).forEach(function(n){var r=j0(e,n,e[n],t);r!==void 0?e[n]=r:delete e[n]}),e}function C$(e,t){for(var n=0;n<e.length;n++)e[n]=j0(e,n+"",e[n],t);return e}function V0(e){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V0(e)}function Z0(e){return R$(e)||O$(e)||k$(e)||I$()}function I$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k$(e,t){if(e){if(typeof e=="string")return K0(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K0(e,t)}}function O$(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function R$(e){if(Array.isArray(e))return K0(e)}function K0(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s2(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A$,r=0,s=c();return k(s),z(),t?x$(s,t):s;function o(){if(e.charCodeAt(r)===$$){r++,f();for(var le={},ie=!0;r<e.length&&e.charCodeAt(r)!==i2;){ie?ie=!1:(y(),f());var me=r,Ne=g();Ne===void 0&&q(),f(),b();var Ve=c();Ve===void 0&&xe(),Object.prototype.hasOwnProperty.call(le,Ne)&&!W0(Ve,le[Ne])&&ee(Ne,me+1),le[Ne]=Ve}return e.charCodeAt(r)!==i2&&be(),r++,le}}function i(){if(e.charCodeAt(r)===U$){r++,f();for(var le=[],ie=!0;r<e.length&&e.charCodeAt(r)!==a2;){ie?ie=!1:y();var me=c();B(me),le.push(me)}return e.charCodeAt(r)!==a2&&fe(),r++,le}}function c(){var le,ie,me,Ne,Ve,Ke;f();var ot=(le=(ie=(me=(Ne=(Ve=(Ke=g())!==null&&Ke!==void 0?Ke:_())!==null&&Ve!==void 0?Ve:o())!==null&&Ne!==void 0?Ne:i())!==null&&me!==void 0?me:d("true",!0))!==null&&ie!==void 0?ie:d("false",!1))!==null&&le!==void 0?le:d("null",null);return f(),ot}function d(le,ie){if(e.slice(r,r+le.length)===le)return r+=le.length,ie}function f(){for(;P$(e.charCodeAt(r));)r++}function g(){if(e.charCodeAt(r)===G0){r++;for(var le="";r<e.length&&e.charCodeAt(r)!==G0;){if(e.charCodeAt(r)===L$){var ie=e[r+1],me=D$[ie];me!==void 0?(le+=me,r++):ie==="u"?Lh(e.charCodeAt(r+2))&&Lh(e.charCodeAt(r+3))&&Lh(e.charCodeAt(r+4))&&Lh(e.charCodeAt(r+5))?(le+=String.fromCharCode(parseInt(e.slice(r+2,r+6),16)),r+=5):Ie(r):pe(r)}else B$(e.charCodeAt(r))?le+=e[r]:ne(e[r]);r++}return J(),r++,le}}function _(){var le=r;if(e.charCodeAt(r)===c2&&(r++,K(le)),e.charCodeAt(r)===Y0)r++;else if(N$(e.charCodeAt(r)))for(r++;$h(e.charCodeAt(r));)r++;if(e.charCodeAt(r)===K$)for(r++,K(le);$h(e.charCodeAt(r));)r++;if(e.charCodeAt(r)===q$||e.charCodeAt(r)===X$)for(r++,(e.charCodeAt(r)===c2||e.charCodeAt(r)===j$)&&r++,K(le);$h(e.charCodeAt(r));)r++;if(r>le)return n(e.slice(le,r))}function y(){if(e.charCodeAt(r)!==Z$)throw new SyntaxError("Comma ',' expected after value ".concat(Ge()));r++}function b(){if(e.charCodeAt(r)!==W$)throw new SyntaxError("Colon ':' expected after property name ".concat(Ge()));r++}function k(le){if(le===void 0)throw new SyntaxError("JSON value expected ".concat(Ge()))}function B(le){if(le===void 0)throw new SyntaxError("Array item expected ".concat(Ge()))}function z(){if(r<e.length)throw new SyntaxError("Expected end of input ".concat(Ge()))}function K(le){if(!$h(e.charCodeAt(r))){var ie=e.slice(le,r);throw new SyntaxError("Invalid number '".concat(ie,"', expecting a digit ").concat(Ge()))}}function J(){if(e.charCodeAt(r)!==G0)throw new SyntaxError(`End of string '"' expected `.concat(Ge()))}function q(){throw new SyntaxError("Quoted object key expected ".concat(Ge()))}function ee(le,ie){throw new SyntaxError("Duplicate key '".concat(le,"' encountered at position ").concat(ie))}function be(){throw new SyntaxError("Quoted object key or end of object '}' expected ".concat(Ge()))}function fe(){throw new SyntaxError("Array item or end of array ']' expected ".concat(Ge()))}function ne(le){throw new SyntaxError("Invalid character '".concat(le,"' ").concat(_e()))}function pe(le){var ie=e.slice(le,le+2);throw new SyntaxError("Invalid escape character '".concat(ie,"' ").concat(_e()))}function xe(){throw new SyntaxError("Object value expected after ':' ".concat(_e()))}function Ie(le){for(var ie=le+2;/\w/.test(e[ie]);)ie++;var me=e.slice(le,ie);throw new SyntaxError("Invalid unicode character '".concat(me,"' ").concat(_e()))}function _e(){return"at position ".concat(r)}function Me(){return r<e.length?"but got '".concat(e[r],"'"):"but reached end of input"}function Ge(){return Me()+" "+_e()}}function P$(e){return e===M$||e===z$||e===F$||e===H$}function Lh(e){return e>=Y0&&e<=X0||e>=G$&&e<=J$||e>=Y$&&e<=Q$}function $h(e){return e>=Y0&&e<=X0}function N$(e){return e>=V$&&e<=X0}function B$(e){return e>=32&&e<=1114111}function W0(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every(function(r,s){return W0(r,t[s])});if(o2(e)&&o2(t)){var n=Z0(new Set([].concat(Z0(Object.keys(e)),Z0(Object.keys(t)))));return n.every(function(r){return W0(e[r],t[r])})}return!1}function o2(e){return V0(e)==="object"&&e!==null}var D$={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},L$=92,$$=123,i2=125,U$=91,a2=93,M$=32,z$=10,F$=9,H$=13,G0=34,j$=43,c2=45,Y0=48,V$=49,X0=57,Z$=44,K$=46,W$=58,G$=65,Y$=97,X$=69,q$=101,J$=70,Q$=102;function Uh(e){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uh(e)}function u2(e,t,n,r){var s=eU(n),o=typeof t=="function"?t.call({"":e},"",e):e;return i(o,"");function i(g,_){if(Array.isArray(r)){var y=r.find(function(k){return k.test(g)});if(y){var b=y.stringify(g);if(typeof b!="string"||!JS(b))throw new Error("Invalid JSON number: output of a number stringifier must be a string containing a JSON number "+"(output: ".concat(b,")"));return b}}if(typeof g=="boolean"||typeof g=="number"||typeof g=="string"||g===null||g instanceof Date||g instanceof Boolean||g instanceof Number||g instanceof String)return JSON.stringify(g);if(g&&g.isLosslessNumber||typeof g=="bigint")return g.toString();if(Array.isArray(g))return c(g,_);if(g&&Uh(g)==="object")return d(g,_)}function c(g,_){if(g.length===0)return"[]";for(var y=s?_+s:void 0,b=s?`[
`:"[",k=0;k<g.length;k++){var B=typeof t=="function"?t.call(g,String(k),g[k]):g[k];s&&(b+=y),typeof B<"u"&&typeof B!="function"?b+=i(B,y):b+="null",k<g.length-1&&(b+=s?`,
`:",")}return b+=s?`
`+_+"]":"]",b}function d(g,_){if(typeof g.toJSON=="function")return u2(g.toJSON(),t,n,void 0);var y=Array.isArray(t)?t.map(String):Object.keys(g);if(y.length===0)return"{}";var b=s?_+s:void 0,k=!0,B=s?`{
`:"{";return y.forEach(function(z){var K=typeof t=="function"?t.call(g,z,g[z]):g[z];if(f(z,K)){k?k=!1:B+=s?`,
`:",";var J=JSON.stringify(z);B+=s?b+J+": ":J+":",B+=i(K,b)}}),B+=s?`
`+_+"}":"}",B}function f(g,_){return typeof _<"u"&&typeof _!="function"&&Uh(_)!=="symbol"}}function eU(e){if(typeof e=="number")return" ".repeat(e);if(typeof e=="string"&&e!=="")return e}var tU=Be(29969),l2=Be(62797),nU=Object.defineProperty,yn=(e,t)=>{for(var n in t)nU(e,n,{get:t[n],enumerable:!0})},rU={};yn(rU,{ADDR_BOUND:()=>ty,API_VERSION:()=>T2,BN_FEE_TRANSACTION_VERSION_1:()=>E2,BN_FEE_TRANSACTION_VERSION_2:()=>v2,BN_TRANSACTION_VERSION_1:()=>Q0,BN_TRANSACTION_VERSION_2:()=>ey,BaseUrl:()=>S2,HEX_STR_TRANSACTION_VERSION_1:()=>b2,HEX_STR_TRANSACTION_VERSION_2:()=>w2,IS_BROWSER:()=>d2,MASK_250:()=>A2,MAX_STORAGE_ITEM_SIZE:()=>x2,NetworkName:()=>ny,RPC_DEFAULT_VERSION:()=>k2,RPC_NODES:()=>O2,StarknetChainId:()=>C2,TEXT_TO_FELT_MAX_LEN:()=>J0,TransactionHashPrefix:()=>I2,UDC:()=>la,ZERO:()=>fr});var sU={};yn(sU,{IS_BROWSER:()=>d2,addHexPrefix:()=>Ln,arrayBufferToString:()=>f2,atobUniversal:()=>h2,btoaUniversal:()=>p2,buf2hex:()=>g2,calcByteLength:()=>m2,padLeft:()=>_2,pascalToSnake:()=>cU,removeHexPrefix:()=>po,sanitizeBytes:()=>y2,sanitizeHex:()=>aU,stringToArrayBuffer:()=>oU,utf8ToArray:()=>bc});var d2=typeof window<"u",q0="0";function f2(e){return new Uint8Array(e).reduce((t,n)=>t+String.fromCharCode(n),"")}function bc(e){return new TextEncoder().encode(e)}function oU(e){return bc(e)}function h2(e){return y0.decode(e)}function p2(e){return y0.encode(new Uint8Array(e))}function g2(e){return e.reduce((t,n)=>t+n.toString(16).padStart(2,"0"),"")}function po(e){return e.replace(/^0x/i,"")}function Ln(e){return`0x${po(e)}`}function iU(e,t,n,r=q0){const s=t-e.length;let o=e;if(s>0){const i=r.repeat(s);o=n?i+e:e+i}return o}function _2(e,t,n=q0){return iU(e,t,!0,n)}function m2(e,t=8){const{length:n}=e,r=n%t;return r?(n-r)/t*t+t:n}function y2(e,t=8,n=q0){return _2(e,m2(e,t),n)}function aU(e){return e=po(e),e=y2(e,2),e&&(e=Ln(e)),e}var cU=e=>/[a-z]/.test(e)?e.split(/(?=[A-Z])/).join("_").toUpperCase():e,J0=31,b2="0x1",w2="0x2",Q0=1n,ey=2n,E2=2n**128n+Q0,v2=2n**128n+ey,fr=0n,A2=2n**250n-1n,T2=fr,x2=256n,ty=2n**251n-x2,S2=(e=>(e.SN_MAIN="https://alpha-mainnet.starknet.io",e.SN_GOERLI="https://alpha4.starknet.io",e.SN_SEPOLIA="https://alpha-sepolia.starknet.io",e))(S2||{}),ny=(e=>(e.SN_MAIN="SN_MAIN",e.SN_GOERLI="SN_GOERLI",e.SN_SEPOLIA="SN_SEPOLIA",e))(ny||{}),C2=(e=>(e.SN_MAIN="0x534e5f4d41494e",e.SN_GOERLI="0x534e5f474f45524c49",e.SN_SEPOLIA="0x534e5f5345504f4c4941",e))(C2||{}),I2=(e=>(e.DECLARE="0x6465636c617265",e.DEPLOY="0x6465706c6f79",e.DEPLOY_ACCOUNT="0x6465706c6f795f6163636f756e74",e.INVOKE="0x696e766f6b65",e.L1_HANDLER="0x6c315f68616e646c6572",e))(I2||{}),la={ADDRESS:"0x041a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf",ENTRYPOINT:"deployContract"},k2="v0_5",O2={SN_GOERLI:["https://starknet-testnet.public.blastapi.io/rpc/","https://free-rpc.nethermind.io/goerli-juno/"],SN_MAIN:["https://starknet-mainnet.public.blastapi.io/rpc/","https://free-rpc.nethermind.io/mainnet-juno/"],SN_SEPOLIA:["https://starknet-sepolia.public.blastapi.io/rpc/","https://free-rpc.nethermind.io/sepolia-juno/"]},uU={};yn(uU,{BlockStatus:()=>U2,BlockTag:()=>oy,EntryPointType:()=>N2,Literal:()=>sy,RPC:()=>Br,SIMULATION_FLAG:()=>R2,Sequencer:()=>hU,TransactionExecutionStatus:()=>$2,TransactionFinalityStatus:()=>L2,TransactionStatus:()=>D2,TransactionType:()=>B2,TypedDataRevision:()=>iy,Uint:()=>ry,ValidateType:()=>P2});var R2=(e=>(e.SKIP_VALIDATE="SKIP_VALIDATE",e.SKIP_EXECUTE="SKIP_EXECUTE",e))(R2||{}),P2=(e=>(e.DEPLOY="DEPLOY",e.CALL="CALL",e.INVOKE="INVOKE",e))(P2||{}),ry=(e=>(e.u8="core::integer::u8",e.u16="core::integer::u16",e.u32="core::integer::u32",e.u64="core::integer::u64",e.u128="core::integer::u128",e.u256="core::integer::u256",e))(ry||{}),sy=(e=>(e.ClassHash="core::starknet::class_hash::ClassHash",e.ContractAddress="core::starknet::contract_address::ContractAddress",e))(sy||{}),N2=(e=>(e.EXTERNAL="EXTERNAL",e.L1_HANDLER="L1_HANDLER",e.CONSTRUCTOR="CONSTRUCTOR",e))(N2||{}),B2=(e=>(e.DECLARE="DECLARE",e.DEPLOY="DEPLOY",e.DEPLOY_ACCOUNT="DEPLOY_ACCOUNT",e.INVOKE="INVOKE_FUNCTION",e))(B2||{}),D2=(e=>(e.NOT_RECEIVED="NOT_RECEIVED",e.RECEIVED="RECEIVED",e.ACCEPTED_ON_L2="ACCEPTED_ON_L2",e.ACCEPTED_ON_L1="ACCEPTED_ON_L1",e.REJECTED="REJECTED",e.REVERTED="REVERTED",e))(D2||{}),L2=(e=>(e.NOT_RECEIVED="NOT_RECEIVED",e.RECEIVED="RECEIVED",e.ACCEPTED_ON_L2="ACCEPTED_ON_L2",e.ACCEPTED_ON_L1="ACCEPTED_ON_L1",e))(L2||{}),$2=(e=>(e.REJECTED="REJECTED",e.REVERTED="REVERTED",e.SUCCEEDED="SUCCEEDED",e))($2||{}),U2=(e=>(e.PENDING="PENDING",e.ACCEPTED_ON_L1="ACCEPTED_ON_L1",e.ACCEPTED_ON_L2="ACCEPTED_ON_L2",e.REJECTED="REJECTED",e))(U2||{}),oy=(e=>(e.pending="pending",e.latest="latest",e))(oy||{}),iy=(e=>(e.Active="1",e.Legacy="0",e))(iy||{}),Br={};yn(Br,{EBlockTag:()=>V2,EDataAvailabilityMode:()=>Z2,ESimulationFlag:()=>z2,ETransactionExecutionStatus:()=>j2,ETransactionFinalityStatus:()=>H2,ETransactionStatus:()=>F2,ETransactionType:()=>M2,Errors:()=>dU,JRPC:()=>lU,SPEC:()=>fU});var lU={},dU={},fU={},M2=(e=>(e.DECLARE="DECLARE",e.DEPLOY="DEPLOY",e.DEPLOY_ACCOUNT="DEPLOY_ACCOUNT",e.INVOKE="INVOKE",e.L1_HANDLER="L1_HANDLER",e))(M2||{}),z2=(e=>(e.SKIP_VALIDATE="SKIP_VALIDATE",e.SKIP_FEE_CHARGE="SKIP_FEE_CHARGE",e))(z2||{}),F2=(e=>(e.RECEIVED="RECEIVED",e.REJECTED="REJECTED",e.ACCEPTED_ON_L2="ACCEPTED_ON_L2",e.ACCEPTED_ON_L1="ACCEPTED_ON_L1",e))(F2||{}),H2=(e=>(e.ACCEPTED_ON_L2="ACCEPTED_ON_L2",e.ACCEPTED_ON_L1="ACCEPTED_ON_L1",e))(H2||{}),j2=(e=>(e.SUCCEEDED="SUCCEEDED",e.REVERTED="REVERTED",e))(j2||{}),V2=(e=>(e.LATEST="latest",e.PENDING="pending",e))(V2||{}),Z2=(e=>(e.L1="L1",e.L2="L2",e))(Z2||{}),hU={};function zt(e,t){if(!e)throw new Error(t||"Assertion failure")}var pU={};yn(pU,{assertInRange:()=>G2,bigNumberishArrayToDecimalStringArray:()=>Y2,bigNumberishArrayToHexadecimalStringArray:()=>X2,cleanHex:()=>Zl,getDecimalString:()=>q2,getHexString:()=>cy,getHexStringArray:()=>uy,hexToBytes:()=>J2,hexToDecimalString:()=>W2,isBigInt:()=>Mh,isHex:()=>ls,isStringWholeNumber:()=>wc,toBigInt:()=>nt,toCairoBool:()=>ly,toHex:()=>je,toHexString:()=>ay,toStorageKey:()=>K2});function ls(e){return/^0x[0-9a-f]*$/i.test(e)}function nt(e){return BigInt(e)}function Mh(e){return typeof e=="bigint"}function je(e){return Ln(nt(e).toString(16))}var ay=je;function K2(e){return Ln(nt(e).toString(16).padStart(64,"0"))}function W2(e){return BigInt(Ln(e)).toString(10)}var Zl=e=>e.toLowerCase().replace(/^(0x)0+/,"$1");function G2(e,t,n,r=""){const s=r===""?"invalid length":`invalid ${r} length`,o=BigInt(e),i=BigInt(t),c=BigInt(n);zt(o>=i&&o<=c,`Message not signable, ${s}.`)}function Y2(e){return e.map(t=>nt(t).toString(10))}function X2(e){return e.map(t=>je(t))}var wc=e=>/^\d+$/.test(e);function q2(e){if(ls(e))return W2(e);if(wc(e))return e;throw new Error(`${e} need to be hex-string or whole-number-string`)}function cy(e){if(ls(e))return e;if(wc(e))return ay(e);throw new Error(`${e} need to be hex-string or whole-number-string`)}function uy(e){return e.map(t=>cy(t))}var ly=e=>(+e).toString();function J2(e){if(!ls(e))throw new Error(`${e} need to be a hex-string`);let t=po(e);return t.length%2!==0&&(t=`0${t}`),ni(t)}var gU={};yn(gU,{getSelector:()=>zh,getSelectorFromName:()=>ds,keccakBn:()=>dy,starknetKeccak:()=>fy});function dy(e){const t=po(je(BigInt(e))),n=t.length%2===0?t:`0${t}`;return Ln(_c(J2(Ln(n))).toString(16))}function _U(e){return Ln(_c(bc(e)).toString(16))}function fy(e){return BigInt(_U(e))&A2}function ds(e){return je(fy(e))}function zh(e){return ls(e)?e:wc(e)?ay(e):ds(e)}var mU={};yn(mU,{decodeShortString:()=>gy,encodeShortString:()=>go,isASCII:()=>hy,isDecimalString:()=>Q2,isLongText:()=>py,isShortString:()=>Kl,isShortText:()=>yU,isText:()=>Wl,splitLongString:()=>Fh});function hy(e){return/^[\x00-\x7F]*$/.test(e)}function Kl(e){return e.length<=J0}function Q2(e){return/^[0-9]*$/i.test(e)}function Wl(e){return typeof e=="string"&&!ls(e)&&!wc(e)}var yU=e=>Wl(e)&&Kl(e),py=e=>Wl(e)&&!Kl(e);function Fh(e){const t=RegExp(`[^]{1,${J0}}`,"g");return e.match(t)||[]}function go(e){if(!hy(e))throw new Error(`${e} is not an ASCII string`);if(!Kl(e))throw new Error(`${e} is too long`);return Ln(e.replace(/./g,t=>t.charCodeAt(0).toString(16)))}function gy(e){if(!hy(e))throw new Error(`${e} is not an ASCII string`);if(ls(e))return po(e).replace(/.{2}/g,t=>String.fromCharCode(parseInt(t,16)));if(Q2(e))return gy("0X".concat(BigInt(e).toString(16)));throw new Error(`${e} is not Hex or decimal`)}var eC={};yn(eC,{felt:()=>hr,getAbiContractVersion:()=>Wh,getArrayType:()=>Ec,isCairo1Abi:()=>sC,isCairo1Type:()=>li,isLen:()=>da,isTypeArray:()=>ai,isTypeBool:()=>Kh,isTypeContractAddress:()=>EU,isTypeEnum:()=>fa,isTypeEthAddress:()=>rC,isTypeFelt:()=>jh,isTypeLiteral:()=>by,isTypeNamedTuple:()=>nC,isTypeOption:()=>Vh,isTypeResult:()=>Zh,isTypeStruct:()=>Gl,isTypeTuple:()=>ci,isTypeUint:()=>yy,isTypeUint256:()=>ui,tuple:()=>vU,uint256:()=>wy});var bU={};yn(bU,{UINT_128_MAX:()=>_y,UINT_256_MAX:()=>tC,bnToUint256:()=>wU,isUint256:()=>my,uint256ToBN:()=>Hh});var _y=(1n<<128n)-1n,tC=(1n<<256n)-1n;function Hh(e){return(nt(e.high)<<128n)+nt(e.low)}function my(e){return nt(e)<=tC}function wU(e){const t=nt(e);if(!my(t))throw new Error("Number is too large");return{low:Ln((t&_y).toString(16)),high:Ln((t>>128n).toString(16))}}var da=e=>/_len$/.test(e),jh=e=>e==="felt"||e==="core::felt252",ai=e=>/\*/.test(e)||e.startsWith("core::array::Array::")||e.startsWith("core::array::Span::"),ci=e=>/^\(.*\)$/i.test(e),nC=e=>/\(.*\)/i.test(e)&&e.includes(":"),Gl=(e,t)=>e in t,fa=(e,t)=>e in t,Vh=e=>e.startsWith("core::option::Option::"),Zh=e=>e.startsWith("core::result::Result::"),yy=e=>Object.values(ry).includes(e),by=e=>Object.values(sy).includes(e),ui=e=>e==="core::integer::u256",Kh=e=>e==="core::bool",EU=e=>e==="core::starknet::contract_address::ContractAddress",rC=e=>e==="core::starknet::eth_address::EthAddress",li=e=>e.includes("::"),Ec=e=>li(e)?e.substring(e.indexOf("<")+1,e.lastIndexOf(">")):e.replace("*","");function sC(e){const{cairo:t}=Wh(e);if(t===void 0)throw Error("Unable to determine Cairo version");return t==="1"}function Wh(e){if(e.find(r=>r.type==="interface"))return{cairo:"1",compiler:"2"};const t=e.find(r=>r.type==="function"&&(r.inputs.length||r.outputs.length));if(!t)return{cairo:void 0,compiler:void 0};const n=t.inputs.length?t.inputs:t.outputs;return li(n[0].type)?{cairo:"1",compiler:"1"}:{cairo:"0",compiler:"0"}}var wy=e=>{const t=BigInt(e);if(!my(t))throw new Error("Number is too large");return{low:(t&_y).toString(10),high:(t>>128n).toString(10)}},vU=(...e)=>({...e});function hr(e){if(Mh(e)||typeof e=="number"&&Number.isInteger(e))return e.toString();if(Wl(e)){if(!Kl(e))throw new Error(`${e} is a long string > 31 chars, felt can store short strings, split it to array of short strings`);const t=go(e);return BigInt(t).toString()}if(typeof e=="string"&&ls(e))return BigInt(e).toString();if(typeof e=="string"&&wc(e))return e;if(typeof e=="boolean")return`${+e}`;throw new Error(`${e} can't be computed by felt()`)}var oC=class{constructor(e){Z(this,"variant");const t=Object.values(e);if(t.length===0)throw new Error("This Enum must have at least 1 variant");if(t.filter(r=>typeof r<"u").length!==1)throw new Error("This Enum must have exactly one active variant");this.variant=e}unwrap(){const t=Object.entries(this.variant).find(n=>typeof n[1]<"u");if(!(typeof t>"u"))return t[1]}activeVariant(){const t=Object.entries(this.variant).find(n=>typeof n[1]<"u");return typeof t>"u"?"":t[0]}},iC=(e=>(e[e.Some=0]="Some",e[e.None=1]="None",e))(iC||{}),Ey=class{constructor(e,t){Z(this,"Some");Z(this,"None");if(!(e in iC))throw new Error("Wrong variant : should be CairoOptionVariant.Some or .None.");if(e===0){if(typeof t>"u")throw new Error('The creation of a Cairo Option with "Some" variant needs a content as input.');this.Some=t,this.None=void 0}else this.Some=void 0,this.None=!0}unwrap(){if(!this.None)return this.Some}isSome(){return!(typeof this.Some>"u")}isNone(){return this.None===!0}},aC=(e=>(e[e.Ok=0]="Ok",e[e.Err=1]="Err",e))(aC||{}),vy=class{constructor(e,t){Z(this,"Ok");Z(this,"Err");if(!(e in aC))throw new Error("Wrong variant : should be CairoResultVariant.Ok or .Err.");e===0?(this.Ok=t,this.Err=void 0):(this.Ok=void 0,this.Err=t)}unwrap(){if(typeof this.Ok<"u")return this.Ok;if(typeof this.Err<"u")return this.Err;throw new Error("Both Result.Ok and .Err are undefined. Not authorized.")}isOk(){return!(typeof this.Ok>"u")}isErr(){return!(typeof this.Err>"u")}},Ay={isBN:(e,t,n)=>{if(!Mh(e[n]))throw new Error(`Data and formatter mismatch on ${n}:${t[n]}, expected response data ${n}:${e[n]} to be BN instead it is ${typeof e[n]}`)},unknown:(e,t,n)=>{throw new Error(`Unhandled formatter type on ${n}:${t[n]} for data ${n}:${e[n]}`)}};function Gh(e,t,n){return Object.entries(e).reduce((r,[s,o])=>{const i=n??t[s];if(!(s in t)&&!n)return r[s]=o,r;if(i==="string"){if(Array.isArray(e[s])){const c=Gh(e[s],e[s].map(d=>i));return r[s]=Object.values(c).join(""),r}return Ay.isBN(e,t,s),r[s]=gy(o),r}if(i==="number")return Ay.isBN(e,t,s),r[s]=Number(o),r;if(typeof i=="function")return r[s]=i(o),r;if(Array.isArray(i)){const c=Gh(e[s],i,i[0]);return r[s]=Object.values(c),r}return typeof i=="object"?(r[s]=Gh(e[s],i),r):(Ay.unknown(e,t,s),r)},{})}var AU=class{constructor(e){Z(this,"abi");this.abi=e}methodInputsLength(e){return e.inputs.reduce((t,n)=>da(n.name)?t:t+1,0)}getMethod(e){return this.abi.find(t=>t.name===e)}getLegacyFormat(){return this.abi}},TU=class{constructor(e){Z(this,"abi");this.abi=e}methodInputsLength(e){return e.inputs.length}getMethod(e){return this.abi.find(n=>n.type==="interface").items.find(n=>n.name===e)}getLegacyFormat(){return this.abi.flatMap(e=>e.type==="interface"?e.items:e)}};function cC(e){const t=xU(e);if(t===0||t===1)return new AU(e);if(t===2)return new TU(e);throw Error(`Unsupported ABI version ${t}`)}function xU(e){return e.find(t=>t.type==="interface")?2:sC(e)?1:0}function uC(e,t,n){return e==="constructor"&&!n&&!t.length}function SU(e){const t=e.substring(0,e.indexOf(":")),n=e.substring(t.length+1);return{name:t,type:n}}function lC(e){if(!e.includes("("))return{subTuple:[],result:e};const t=[];let n="",r=0;for(;r<e.length;){if(e[r]==="("){let s=1;const o=r;for(r++;s;)e[r]===")"&&s--,e[r]==="("&&s++,r++;t.push(e.substring(o,r)),n+=" ",r--}else n+=e[r];r++}return{subTuple:t,result:n}}function CU(e){const t=e.replace(/\s/g,"").slice(1,-1),{subTuple:n,result:r}=lC(t);let s=r.split(",").map(o=>n.length?o.replace(" ",n.shift()):o);return nC(e)&&(s=s.reduce((o,i)=>o.concat(SU(i)),[])),s}function IU(e){const t=e.replace(/\s/g,"").slice(1,-1),{subTuple:n,result:r}=lC(t);return r.split(",").map(o=>n.length?o.replace(" ",n.shift()):o)}function Ty(e){return li(e)?IU(e):CU(e)}function kU(e){return Error(`Your object includes the property : ${e}, containing an Uint256 object without the 'low' and 'high' keys.`)}function OU(e,t,n,r){const s=(g,_)=>{if(ai(_))return i(g,_);if(fa(_,r)){const y=r[_];return d(g,y)}if(ci(_))return c(g,_);if(rC(_))return g;if(ui(_)){const y=g;if(typeof y!="object")return y;if(!("low"in y&&"high"in y))throw kU(_);return{low:y.low,high:y.high}}if(Gl(_,n)){const y=n[_].members;return o(g,y)}return g},o=(g,_)=>_.reduce((b,k)=>{const B=z=>Object.defineProperty(b,k.name,{enumerable:!0,value:z??g[k.name]});if(g[k.name]==="undefined"&&(li(k.type)||!da(k.name)))throw Error(`Your object needs a property with key : ${k.name} .`);return B(s(g[k.name],k.type)),b},{});function i(g,_){const y=Ec(_);return typeof g=="string"?g:g.map(b=>s(b,y))}function c(g,_){return Ty(_).reduce((k,B,z)=>{const K=Object.keys(g),J=ee=>Object.defineProperty(k,z.toString(),{enumerable:!0,value:ee??g[K[z]]}),q=B?.type?B.type:B;return J(s(g[K[z]],q)),k},{})}const d=(g,_)=>{if(Zh(_.name)){const B=g,z=_.name.substring(_.name.indexOf("<")+1,_.name.lastIndexOf(",")),K=_.name.substring(_.name.indexOf(",")+1,_.name.lastIndexOf(">"));return B.isOk()?new vy(0,s(g.unwrap(),z)):new vy(1,s(g.unwrap(),K))}if(Vh(_.name)){const B=g,z=_.name.substring(_.name.indexOf("<")+1,_.name.lastIndexOf(">"));return B.isSome()?new Ey(0,s(B.unwrap(),z)):new Ey(1,{})}const y=g,k=Object.entries(y.variant).map(B=>{if(typeof B[1]>"u")return B;const z=_.type.substring(_.type.lastIndexOf("<")+1,_.type.lastIndexOf(">"));return z==="()"?B:[B[0],s(y.unwrap(),z)]});return new oC(Object.fromEntries(k))};return t.reduce((g,_)=>{const y=b=>Object.defineProperty(g,_.name,{enumerable:!0,value:b});return da(_.name)&&!li(_.type)||y(s(e[_.name],_.type)),g},{})}function Yh(e,t){switch(!0){case ui(e):const n=wy(t);return[hr(n.low),hr(n.high)];default:return hr(t)}}function RU(e,t){const n=Ty(t),r=Object.values(e);if(r.length!==n.length)throw Error(`ParseTuple: provided and expected abi tuple size do not match.
      provided: ${r} 
      expected: ${n}`);return n.map((s,o)=>({element:r[o],type:s.type??s}))}function dC(e){if(typeof e=="object"){const{low:n,high:r}=e;return[hr(n),hr(r)]}const t=wy(e);return[hr(t.low),hr(t.high)]}function Hs(e,t,n,r){if(e===void 0)throw Error(`Missing parameter for type ${t}`);if(Array.isArray(e)){const s=[];s.push(hr(e.length));const o=Ec(t);return e.reduce((i,c)=>i.concat(Hs(c,o,n,r)),s)}if(n[t]&&n[t].members.length){if(ui(t))return dC(e);if(t==="core::starknet::eth_address::EthAddress")return Yh(t,e);const{members:s}=n[t],o=e;return s.reduce((i,c)=>i.concat(Hs(o[c.name],c.type,n,r)),[])}if(ci(t))return RU(e,t).reduce((o,i)=>{const c=Hs(i.element,i.type,n,r);return o.concat(c)},[]);if(ui(t))return dC(e);if(fa(t,r)){const{variants:s}=r[t];if(Vh(t)){const _=e;if(_.isSome()){const y=s.find(B=>B.name==="Some");if(typeof y>"u")throw Error("Error in abi : Option has no 'Some' variant.");const b=y.type;if(b==="()")return"0";const k=Hs(_.unwrap(),b,n,r);return Array.isArray(k)?["0",...k]:["0",k]}return"1"}if(Zh(t)){const _=e;if(_.isOk()){const B=s.find(J=>J.name==="Ok");if(typeof B>"u")throw Error("Error in abi : Result has no 'Ok' variant.");const z=B.type;if(z==="()")return"0";const K=Hs(_.unwrap(),z,n,r);return Array.isArray(K)?["0",...K]:["0",K]}const y=s.find(B=>B.name==="Err");if(typeof y>"u")throw Error("Error in abi : Result has no 'Err' variant.");const b=y.type;if(b==="()")return"1";const k=Hs(_.unwrap(),b,n,r);return Array.isArray(k)?["1",...k]:["1",k]}const o=e,i=o.activeVariant(),c=s.find(_=>_.name===i);if(typeof c>"u")throw Error(`Not find in abi : Enum has no '${i}' variant.`);const d=c.type,f=s.findIndex(_=>_.name===i);if(d==="()")return f.toString();const g=Hs(o.unwrap(),d,n,r);return Array.isArray(g)?[f.toString(),...g]:[f.toString(),g]}if(typeof e=="object")throw Error(`Parameter ${e} do not align with abi parameter ${t}`);return Yh(t,e)}function PU(e,t,n,r){const{name:s,type:o}=t;let{value:i}=e.next();switch(!0){case ai(o):if(!Array.isArray(i)&&!Wl(i))throw Error(`ABI expected parameter ${s} to be array or long string, got ${i}`);return typeof i=="string"&&(i=Fh(i)),Hs(i,t.type,n,r);case o==="core::starknet::eth_address::EthAddress":return Yh(o,i);case(Gl(o,n)||ci(o)||ui(o)):return Hs(i,o,n,r);case fa(o,r):return Hs(i,o,n,r);default:return Yh(o,i)}}function xy(e,t){let n;switch(!0){case Kh(e):return n=t.next().value,!!BigInt(n);case ui(e):const r=t.next().value,s=t.next().value;return Hh({low:r,high:s});case e==="core::starknet::eth_address::EthAddress":return n=t.next().value,BigInt(n);default:return n=t.next().value,BigInt(n)}}function _o(e,t,n,r){if(t.type==="()")return{};if(ui(t.type)){const s=e.next().value,o=e.next().value;return Hh({low:s,high:o})}if(ai(t.type)){const s=[],o={name:"",type:Ec(t.type)},i=BigInt(e.next().value);for(;s.length<i;)s.push(_o(e,o,n,r));return s}if(n&&t.type in n&&n[t.type])return t.type==="core::starknet::eth_address::EthAddress"?xy(t.type,e):n[t.type].members.reduce((s,o)=>(s[o.name]=_o(e,o,n,r),s),{});if(r&&t.type in r&&r[t.type]){const s=Number(e.next().value),o=r[t.type].variants.reduce((c,d,f)=>f===s?(c[d.name]=_o(e,{name:"",type:d.type},n,r),c):(c[d.name]=void 0,c),{});if(t.type.startsWith("core::option::Option")){const c=s===0?o.Some:void 0;return new Ey(s,c)}if(t.type.startsWith("core::result::Result")){let c;return s===0?c=o.Ok:c=o.Err,new vy(s,c)}return new oC(o)}if(ci(t.type))return Ty(t.type).reduce((o,i,c)=>{const d=i?.name?i.name:c,f=i?.type?i.type:i,g={name:d,type:f};return o[d]=_o(e,g,n,r),o},{});if(ai(t.type)){const s=[],o={name:"",type:Ec(t.type)},i=BigInt(e.next().value);for(;s.length<i;)s.push(_o(e,o,n,r));return s}return xy(t.type,e)}function Xh(e,t,n,r,s){const{name:o,type:i}=t;let c;switch(!0){case da(o):return c=e.next().value,BigInt(c);case(n&&i in n||ci(i)):return _o(e,t,n,r);case(r&&fa(i,r)):return _o(e,t,n,r);case ai(i):if(li(i))return _o(e,t,n,r);const d=[];if(s&&s[`${o}_len`]){const f=s[`${o}_len`];for(;d.length<f;)d.push(_o(e,{name:o,type:t.type.replace("*","")},n,r))}return d;default:return xy(i,e)}}var fC=(e,t)=>{if(zt(typeof e=="string"||typeof e=="number"||typeof e=="bigint",`Validate: arg ${t.name} should be a felt typed as (String, Number or BigInt)`),typeof e=="string"&&!ls(e))return;const n=BigInt(e.toString(10));zt(n>=0n&&n<=2n**252n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^252-1]`)},Sy=(e,t)=>{typeof e=="number"&&zt(e<=Number.MAX_SAFE_INTEGER,"Validation: Parameter is to large to be typed as Number use (BigInt or String)"),zt(typeof e=="string"||typeof e=="number"||typeof e=="bigint"||typeof e=="object"&&"low"in e&&"high"in e,`Validate: arg ${t.name} of cairo type ${t.type} should be type (String, Number or BigInt), but is ${typeof e} ${e}.`);const n=typeof e=="object"?Hh(e):nt(e);switch(t.type){case"core::integer::u8":zt(n>=0n&&n<=255n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0 - 255]`);break;case"core::integer::u16":zt(n>=0n&&n<=65535n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 65535]`);break;case"core::integer::u32":zt(n>=0n&&n<=4294967295n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 4294967295]`);break;case"core::integer::u64":zt(n>=0n&&n<=2n**64n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^64-1]`);break;case"core::integer::u128":zt(n>=0n&&n<=2n**128n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^128-1]`);break;case"core::integer::u256":zt(n>=0n&&n<=2n**256n-1n,`Validate: arg ${t.name} is ${t.type} 0 - 2^256-1`);break;case"core::starknet::class_hash::ClassHash":zt(n>=0n&&n<=2n**252n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^252-1]`);break;case"core::starknet::contract_address::ContractAddress":zt(n>=0n&&n<=2n**252n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^252-1]`);break;default:break}},hC=(e,t)=>{zt(typeof e=="boolean",`Validate: arg ${t.name} of cairo type ${t.type} should be type (Boolean)`)},pC=(e,t,n)=>{if(t.type==="core::integer::u256"){Sy(e,t);return}if(t.type==="core::starknet::eth_address::EthAddress"){zt(typeof e!="object",`EthAddress type is waiting a BigNumberish. Got ${e}`);const r=BigInt(e.toString(10));zt(r>=0n&&r<=2n**160n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^160-1]`);return}zt(typeof e=="object"&&!Array.isArray(e),`Validate: arg ${t.name} is cairo type struct (${t.type}), and should be defined as js object (not array)`),n[t.type].members.forEach(({name:r})=>{zt(Object.keys(e).includes(r),`Validate: arg ${t.name} should have a property ${r}`)})},gC=(e,t)=>{zt(typeof e=="object"&&!Array.isArray(e),`Validate: arg ${t.name} is cairo type Enum (${t.type}), and should be defined as js object (not array)`);const n=Object.getOwnPropertyNames(Object.getPrototypeOf(e)),r=[...Object.getOwnPropertyNames(e),...n];if(!(Vh(t.type)&&r.includes("isSome")&&r.includes("isNone"))&&!(Zh(t.type)&&r.includes("isOk")&&r.includes("isErr"))&&!(r.includes("variant")&&r.includes("activeVariant")))throw new Error(`Validate Enum: argument ${t.name}, type ${t.type}, value received ${e}, is not an Enum.`)},_C=(e,t)=>{zt(typeof e=="object"&&!Array.isArray(e),`Validate: arg ${t.name} should be a tuple (defined as object)`)},mC=(e,t,n,r)=>{const s=Ec(t.type);if(!(jh(s)&&py(e)))switch(zt(Array.isArray(e),`Validate: arg ${t.name} should be an Array`),!0){case jh(s):e.forEach(o=>fC(o,t));break;case ci(s):e.forEach(o=>_C(o,{name:t.name,type:s}));break;case ai(s):e.forEach(o=>mC(o,{name:"",type:s},n,r));break;case Gl(s,n):e.forEach(o=>pC(o,{name:t.name,type:s},n));break;case fa(s,r):e.forEach(o=>gC(o,{name:t.name,type:s}));break;case(yy(s)||by(s)):e.forEach(o=>Sy(o,t));break;case Kh(s):e.forEach(o=>hC(o,t));break;default:throw new Error(`Validate Unhandled: argument ${t.name}, type ${t.type}, value ${e}`)}};function yC(e,t,n,r){e.inputs.reduce((s,o)=>{const i=t[s];switch(!0){case da(o.name):return s;case jh(o.type):fC(i,o);break;case(yy(o.type)||by(o.type)):Sy(i,o);break;case Kh(o.type):hC(i,o);break;case ai(o.type):mC(i,o,n,r);break;case Gl(o.type,n):pC(i,o,n);break;case fa(o.type,r):gC(i,o);break;case ci(o.type):_C(i,o);break;default:throw new Error(`Validate Unhandled: argument ${o.name}, type ${o.type}, value ${i}`)}return s+1},0)}var _t=class{constructor(e){Z(this,"abi");Z(this,"parser");Z(this,"structs");Z(this,"enums");this.structs=_t.getAbiStruct(e),this.enums=_t.getAbiEnum(e),this.parser=cC(e),this.abi=this.parser.getLegacyFormat()}validate(e,t,n=[]){if(e!=="DEPLOY"){const o=this.abi.filter(i=>{if(i.type!=="function")return!1;const c=i.stateMutability==="view"||i.state_mutability==="view";return e==="INVOKE"?!c:c}).map(i=>i.name);zt(o.includes(t),`${e==="INVOKE"?"invocable":"viewable"} method not found in abi`)}const r=this.abi.find(o=>e==="DEPLOY"?o.name===t&&o.type==="constructor":o.name===t&&o.type==="function");if(uC(t,n,r))return;const s=this.parser.methodInputsLength(r);if(n.length!==s)throw Error(`Invalid number of arguments, expected ${s} arguments, but got ${n.length}`);yC(r,n,this.structs,this.enums)}compile(e,t){const n=this.abi.find(i=>i.name===e);if(uC(e,t,n))return[];let r;if(Array.isArray(t))r=t;else{const i=OU(t,n.inputs,this.structs,this.enums);r=Object.values(i),yC(n,r,this.structs,this.enums)}const s=r[Symbol.iterator](),o=n.inputs.reduce((i,c)=>da(c.name)&&!li(c.type)?i:i.concat(PU(s,c,this.structs,this.enums)),[]);return Object.defineProperty(o,"__compiled__",{enumerable:!1,writable:!1,value:!0}),o}static compile(e){const t=r=>{const s=(i,c=".")=>{const d=Array.isArray(i)?[i.length.toString(),...i]:i;return Object.entries(d).flatMap(([f,g])=>{let _=g;f==="entrypoint"?_=ds(_):py(_)&&(_=Fh(_));const y=Array.isArray(d)&&f==="0"?"$$len":f;if(Mh(_))return[[`${c}${y}`,hr(_)]];if(Object(_)===_){const b=Object.getOwnPropertyNames(Object.getPrototypeOf(_)),k=[...Object.getOwnPropertyNames(_),...b];if(k.includes("isSome")&&k.includes("isNone")){const B=_,z=B.isSome()?0:1;return B.isSome()?s({0:z,1:B.unwrap()},`${c}${y}.`):[[`${c}${y}`,hr(z)]]}if(k.includes("isOk")&&k.includes("isErr")){const B=_,z=B.isOk()?0:1;return s({0:z,1:B.unwrap()},`${c}${y}.`)}if(k.includes("variant")&&k.includes("activeVariant")){const B=_,z=B.activeVariant(),J=Object.keys(B.variant).findIndex(q=>q===z);return typeof B.unwrap()=="object"&&Object.keys(B.unwrap()).length===0?[[`${c}${y}`,hr(J)]]:s({0:J,1:B.unwrap()},`${c}${y}.`)}return s(_,`${c}${y}.`)}return[[`${c}${y}`,hr(_)]]})};return Object.fromEntries(s(r))};let n;if(Array.isArray(e)){const r={...e},s=t(r);n=Object.values(s)}else{const r=t(e);n=Object.values(r)}return Object.defineProperty(n,"__compiled__",{enumerable:!1,writable:!1,value:!0}),n}parse(e,t){const{outputs:n}=this.abi.find(o=>o.name===e),r=t.flat()[Symbol.iterator](),s=n.flat().reduce((o,i,c)=>{const d=i.name??c;return o[d]=Xh(r,i,this.structs,this.enums,o),o[d]&&o[`${d}_len`]&&delete o[`${d}_len`],o},{});return Object.keys(s).length===1&&0 in s?s[0]:s}format(e,t,n){const r=this.parse(e,t);return Gh(r,n)}static getAbiStruct(e){return e.filter(t=>t.type==="struct").reduce((t,n)=>({...t,[n.name]:n}),{})}static getAbiEnum(e){const t=e.filter(n=>n.type==="enum").reduce((n,r)=>({...n,[r.name]:r}),{});return delete t["core::bool"],t}static toCalldata(e=[]){return _t.compile(e)}static toHex(e=[]){return _t.compile(e).map(n=>je(n))}decodeParameters(e,t){const n=Array.isArray(e)?e:[e],r=t.flat()[Symbol.iterator](),s=n.map(o=>Xh(r,{name:"",type:o},this.structs,this.enums));return s.length===1?s[0]:s}},NU={};yn(NU,{calculateContractAddressFromHash:()=>Jh,calculateDeclareTransactionHash:()=>xC,calculateDeployAccountTransactionHash:()=>SC,calculateDeployTransactionHash:()=>LU,calculateTransactionHash:()=>CC,calculateTransactionHashCommon:()=>ql,computeCompiledClassHash:()=>OC,computeContractClassHash:()=>PC,computeHashOnElements:()=>qr,computeLegacyContractClassHash:()=>kC,computePedersenHash:()=>Xl,computePedersenHashOnElements:()=>AC,computePoseidonHash:()=>vC,computePoseidonHashOnElements:()=>TC,computeSierraContractClassHash:()=>RC,default:()=>IC,feeTransactionVersion:()=>vc,feeTransactionVersion_2:()=>qh,formatSpaces:()=>Jl,getSelector:()=>zh,getSelectorFromName:()=>ds,getVersionsByType:()=>Cy,keccakBn:()=>dy,poseidon:()=>X,starknetKeccak:()=>fy,transactionVersion:()=>ha,transactionVersion_2:()=>Yl});var bC={};yn(bC,{starkCurve:()=>se,weierstrass:()=>V});var wC={};yn(wC,{parse:()=>di,parseAlwaysAsBig:()=>EC,stringify:()=>fs,stringifyAlwaysAsBig:()=>DU});var BU=e=>{if(!Vl(e))return parseFloat(e);const t=parseInt(e,10);return Number.isSafeInteger(t)?t:BigInt(e)},di=e=>s2(String(e),void 0,BU),EC=e=>s2(String(e),void 0,T$),fs=(e,t,n,r)=>u2(e,t,n,r),DU=fs,ha=Q0,Yl=ey,vc=E2,qh=v2;function Cy(e){return e==="fee"?{v1:vc,v2:qh}:{v1:ha,v2:Yl}}function Xl(e,t){return Hl(BigInt(e),BigInt(t))}function vC(e,t){return je(F0(BigInt(e),BigInt(t)))}function qr(e){return[...e,e.length].reduce((t,n)=>Hl(BigInt(t),BigInt(n)),0).toString()}var AC=qr;function TC(e){return je(ho(e.map(t=>BigInt(t))))}function ql(e,t,n,r,s,o,i,c=[]){const d=qr(s),f=[e,t,n,r,d,o,i,...c];return qr(f)}function LU(e,t,n,r,s="constructor"){return ql("0x6465706c6f79",n,e,ds(s),t,0,r)}function xC(e,t,n,r,s,o,i){return ql("0x6465636c617265",n,t,0,[e],r,s,[o,...i?[i]:[]])}function SC(e,t,n,r,s,o,i,c){const d=[t,r,...n];return ql("0x6465706c6f795f6163636f756e74",s,e,0,d,o,i,[c])}function CC(e,t,n,r,s,o){return ql("0x696e766f6b65",t,e,0,n,r,s,[o])}function Jh(e,t,n,r){const s=_t.compile(n),o=qr(s),i=hr("0x535441524b4e45545f434f4e54524143545f41444452455353"),c=qr([i,r,e,t,o]);return je(BigInt(c)%ty)}function $U(e,t){return e==="attributes"||e==="accessible_scopes"?Array.isArray(t)&&t.length===0?void 0:t:e==="debug_info"?null:t===null?void 0:t}function Jl(e){let t=!1;const n=[];for(const r of e)r==='"'&&!(n.length>0&&n.slice(-1)[0]==="\\")&&(t=!t),t?n.push(r):n.push(r===":"?": ":r===","?", ":r);return n.join("")}function IC(e){const{abi:t,program:n}=e,s=Jl(fs({abi:t,program:n},$U));return Ln(_c(bc(s)).toString(16))}function kC(e){const t=typeof e=="string"?di(e):e,n=je(T2),r=qr(t.entry_points_by_type.EXTERNAL.flatMap(f=>[f.selector,f.offset])),s=qr(t.entry_points_by_type.L1_HANDLER.flatMap(f=>[f.selector,f.offset])),o=qr(t.entry_points_by_type.CONSTRUCTOR.flatMap(f=>[f.selector,f.offset])),i=qr(t.program.builtins.map(f=>go(f))),c=IC(t),d=qr(t.program.data);return qr([n,r,s,o,i,c,d])}function UU(e){return ho(e.flatMap(t=>BigInt(go(t))))}function Iy(e){const t=e.flatMap(n=>[BigInt(n.selector),BigInt(n.offset),UU(n.builtins)]);return ho(t)}function OC(e){const n=BigInt(go("COMPILED_CLASS_V1")),r=Iy(e.entry_points_by_type.EXTERNAL),s=Iy(e.entry_points_by_type.L1_HANDLER),o=Iy(e.entry_points_by_type.CONSTRUCTOR),i=ho(e.bytecode.map(c=>BigInt(c)));return je(ho([n,r,s,o,i]))}function ky(e){const t=e.flatMap(n=>[BigInt(n.selector),BigInt(n.function_idx)]);return ho(t)}function MU(e){const t=Jl(fs(e.abi,null));return BigInt(Ln(_c(bc(t)).toString(16)))}function RC(e){const n=BigInt(go("CONTRACT_CLASS_V0.1.0")),r=ky(e.entry_points_by_type.EXTERNAL),s=ky(e.entry_points_by_type.L1_HANDLER),o=ky(e.entry_points_by_type.CONSTRUCTOR),i=MU(e),c=ho(e.sierra_program.map(d=>BigInt(d)));return je(ho([n,r,s,o,i,c]))}function PC(e){const t=typeof e=="string"?di(e):e;return"sierra_program"in t?RC(t):kC(t)}var zU={};yn(zU,{compressProgram:()=>Oy,decompressProgram:()=>Qh,estimatedFeeToMaxFee:()=>pa,formatSignature:()=>ep,makeAddress:()=>FU,randomAddress:()=>Ry,signatureToDecimalArray:()=>Ac,signatureToHexArray:()=>Tc});function Oy(e){const t=typeof e=="string"?e:fs(e),n=o_(t);return p2(n)}function Qh(e){if(Array.isArray(e))return e;const t=f2(i_(h2(e)));return di(t)}function Ry(){const e=D0.randomPrivateKey();return $0(e)}function FU(e){return Ln(e).toLowerCase()}function ep(e){if(!e)throw Error("formatSignature: provided signature is undefined");if(Array.isArray(e))return e.map(t=>je(t));try{const{r:t,s:n}=e;return[je(t),je(n)]}catch{throw new Error("Signature need to be weierstrass.SignatureType or an array for custom")}}function Ac(e){return Y2(ep(e))}function Tc(e){return X2(ep(e))}function pa(e,t=.5){const n=Math.round((1+t)*100);return nt(e)*nt(n)/100n}function Dr(e){return"sierra_program"in(typeof e=="string"?di(e):e)}function Py(e){const t={...e};if(Dr(e.contract)&&(!e.compiledClassHash&&e.casm&&(t.compiledClassHash=OC(e.casm)),!t.compiledClassHash))throw new Error("Extract compiledClassHash failed, provide (CairoAssembly).casm file or compiledClassHash");if(t.classHash=e.classHash??PC(e.contract),!t.classHash)throw new Error("Extract classHash failed, provide (CompiledContract).json file or classHash");return t}function pK(e){if(Dr(e))throw Error("ContractClassResponse need to be LegacyContractClass (cairo0 response class)");const t=e;return{...t,program:Qh(t.program)}}var NC=typeof window<"u"&&window.fetch||typeof globalThis<"u"&&globalThis.fetch||tU,HU={};yn(HU,{createSierraContractClass:()=>BC,parseContract:()=>Ny,wait:()=>tp});function tp(e){return new Promise(t=>{setTimeout(t,e)})}function BC(e){const t={...e};return delete t.sierra_program_debug_info,t.abi=Jl(fs(e.abi)),t.sierra_program=Jl(fs(e.sierra_program)),t.sierra_program=Oy(t.sierra_program),t}function Ny(e){const t=typeof e=="string"?di(e):e;return Dr(e)?BC(t):{...t,..."program"in t&&{program:Oy(t.program)}}}var jU=class{parseGetBlockResponse(e){return{timestamp:e.timestamp,block_hash:"block_hash"in e?e.block_hash:"",block_number:"block_number"in e?e.block_number:-1,new_root:"new_root"in e?e.new_root:"",parent_hash:e.parent_hash,status:"status"in e?e.status:"PENDING",transactions:e.transactions}}parseGetTransactionResponse(e){return{calldata:"calldata"in e?e.calldata:[],contract_address:"contract_address"in e?e.contract_address:"",sender_address:"sender_address"in e?e.sender_address:"",max_fee:"max_fee"in e?e.max_fee:"",nonce:"nonce"in e?e.nonce:"",signature:"signature"in e?e.signature:[],transaction_hash:e.transaction_hash,version:e.version}}parseFeeEstimateResponse(e){return{overall_fee:nt(e[0].overall_fee),gas_consumed:nt(e[0].gas_consumed),gas_price:nt(e[0].gas_price)}}parseFeeEstimateBulkResponse(e){return e.map(t=>({overall_fee:nt(t.overall_fee),gas_consumed:nt(t.gas_consumed),gas_price:nt(t.gas_price)}))}parseCallContractResponse(e){return{result:e}}parseSimulateTransactionResponse(e){return e.map(t=>({...t,suggestedMaxFee:pa(BigInt(t.fee_estimation.overall_fee))}))}parseContractClassResponse(e){return{...e,abi:typeof e.abi=="string"?JSON.parse(e.abi):e.abi}}};function VU(e,t=e.constructor){const{captureStackTrace:n}=Error;n&&n(e,t)}function ZU(e,t){const{setPrototypeOf:n}=Object;n?n(e,t):e.__proto__=t}var KU=class extends Error{constructor(t){super(t);Z(this,"name");Object.defineProperty(this,"name",{value:new.target.name,enumerable:!1,configurable:!0}),ZU(this,new.target.prototype),VU(this)}},ga=class extends KU{},WU=class extends ga{constructor(e,t){super(e),this.errorCode=t}},GU=class extends ga{constructor(e,t){super(e),this.errorCode=t}},YU={};yn(YU,{StarknetIdContract:()=>MC,getStarknetIdContract:()=>Ly,useDecoded:()=>$C,useEncoded:()=>UC});var js="abcdefghijklmnopqrstuvwxyz0123456789-",xc=BigInt(js.length+1),xn="\u8FD9\u6765",DC=BigInt(js.length),By=BigInt(xn.length),LC=BigInt(xn.length+1);function Dy(e){let t=0;for(;e.endsWith(xn[xn.length-1]);)e=e.substring(0,e.length-1),t+=1;return[e,t]}function $C(e){let t="";return e.forEach(n=>{for(;n!==fr;){const o=n%xc;if(n/=xc,o===BigInt(js.length)){const i=n/LC;if(i===fr){const c=n%LC;n=i,c===fr?t+=js[0]:t+=xn[Number(c)-1]}else{const c=n%By;t+=xn[Number(c)],n/=By}}else t+=js[Number(o)]}const[r,s]=Dy(t);s&&(t=r+(s%2===0?xn[xn.length-1].repeat(s/2-1)+xn[0]+js[1]:xn[xn.length-1].repeat((s-1)/2+1))),t+="."}),t&&t.concat("stark")}function UC(e){let t=BigInt(0),n=BigInt(1);if(e.endsWith(xn[0]+js[1])){const[r,s]=Dy(e.substring(0,e.length-2));e=r+xn[xn.length-1].repeat(2*(s+1))}else{const[r,s]=Dy(e);s&&(e=r+xn[xn.length-1].repeat(1+2*(s-1)))}for(let r=0;r<e.length;r+=1){const s=e[r],o=js.indexOf(s),i=BigInt(js.indexOf(s));if(o!==-1)r===e.length-1&&e[r]===js[0]?(t+=n*DC,n*=xc,n*=xc):(t+=n*i,n*=xc);else if(xn.indexOf(s)!==-1){t+=n*DC,n*=xc;const c=(r===e.length-1?1:0)+xn.indexOf(s);t+=n*BigInt(c),n*=By}}return t}var MC=(e=>(e.MAINNET="0x6ac597f8116f886fa1c97a23fa4e08299975ecaf6b598873ca6792b9bbfb678",e.TESTNET="0x3bab268e932d2cecd1946f100ae67ce3dff9fd234119ea2f6da57d16d29fce",e))(MC||{});function Ly(e){switch(e){case"0x534e5f4d41494e":return"0x6ac597f8116f886fa1c97a23fa4e08299975ecaf6b598873ca6792b9bbfb678";case"0x534e5f474f45524c49":return"0x3bab268e932d2cecd1946f100ae67ce3dff9fd234119ea2f6da57d16d29fce";default:throw new Error("Starknet.id is not yet deployed on this network")}}async function $y(e,t,n){const r=await e.getChainId(),s=n??Ly(r);try{const i=(await e.callContract({contractAddress:s,entrypoint:"address_to_domain",calldata:_t.compile({address:t})})).result.map(d=>BigInt(d)).slice(1),c=$C(i);if(!c)throw Error("Starkname not found");return c}catch(o){throw o instanceof Error&&o.message==="Starkname not found"?o:Error("Could not get stark name")}}async function Uy(e,t,n){const r=await e.getChainId(),s=n??Ly(r);try{return(await e.callContract({contractAddress:s,entrypoint:"domain_to_address",calldata:_t.compile({domain:[UC(t.replace(".stark","")).toString(10)]})})).result[0]}catch{throw Error("Could not get address from stark name")}}var XU=Object.values(oy),cn=class{constructor(e){Z(this,"hash",null);Z(this,"number",null);Z(this,"tag",null);Z(this,"valueOf",()=>this.number);Z(this,"toString",()=>this.hash);this.setIdentifier(e)}setIdentifier(e){typeof e=="string"&&ls(e)?this.hash=e:typeof e=="bigint"?this.hash=je(e):typeof e=="number"?this.number=e:typeof e=="string"&&XU.includes(e)?this.tag=e:this.tag="pending"}get queryIdentifier(){return this.number!==null?`blockNumber=${this.number}`:this.hash!==null?`blockHash=${this.hash}`:`blockNumber=${this.tag}`}get identifier(){return this.number!==null?{block_number:this.number}:this.hash!==null?{block_hash:this.hash}:this.tag}set identifier(e){this.setIdentifier(e)}get sequencerIdentifier(){return this.hash!==null?{blockHash:this.hash}:{blockNumber:this.number??this.tag}}},zC=(e,t=!1,n=k2)=>{t||console.warn("Using default public node url, please provide nodeUrl in provider options!");const r=O2[e??"SN_GOERLI"],s=Math.floor(Math.random()*r.length);return`${r[s]}${n}`},My={headers:{"Content-Type":"application/json"},blockIdentifier:"pending",retries:200},Ql=class{constructor(e){Z(this,"nodeUrl");Z(this,"headers");Z(this,"responseParser",new jU);Z(this,"retries");Z(this,"blockIdentifier");Z(this,"chainId");Z(this,"getBlockHashAndNumber",this.getBlockLatestAccepted);Z(this,"getStateUpdate",this.getBlockStateUpdate);Z(this,"traceBlockTransactions",this.getBlockTransactionsTraces);Z(this,"getTransactionCount",this.getBlockTransactionCount);Z(this,"traceTransaction",this.getTransactionTrace);Z(this,"getSimulateTransaction",this.simulateTransaction);const{nodeUrl:t,retries:n,headers:r,blockIdentifier:s,chainId:o,rpcVersion:i}=e||{};Object.values(ny).includes(t)?this.nodeUrl=zC(t,e?.default,i):t?this.nodeUrl=t:this.nodeUrl=zC(void 0,e?.default,i),this.retries=n||My.retries,this.headers={...My.headers,...r},this.blockIdentifier=s||My.blockIdentifier,this.chainId=o}fetch(e,t,n=0){const r={id:n,jsonrpc:"2.0",method:e,...t&&{params:t}};return NC(this.nodeUrl,{method:"POST",body:fs(r),headers:this.headers})}errorHandler(e,t,n,r){if(n){const{code:s,message:o,data:i}=n;throw new ga(`RPC: ${e} with params ${fs(t)}
 ${s}: ${o}: ${fs(i)}`)}if(r instanceof ga)throw r;if(r)throw Error(r.message)}async fetchEndpoint(e,t){try{const n=await this.fetch(e,t),{error:r,result:s}=await n.json();return this.errorHandler(e,t,r),s}catch(n){throw this.errorHandler(e,t,n?.response?.data,n),n}}async getChainId(){return this.chainId??(this.chainId=await this.fetchEndpoint("starknet_chainId")),this.chainId}async getSpecVersion(){return this.fetchEndpoint("starknet_specVersion")}async getNonceForAddress(e,t=this.blockIdentifier){const n=je(e),r=new cn(t).identifier;return this.fetchEndpoint("starknet_getNonce",{contract_address:n,block_id:r})}async getBlock(e=this.blockIdentifier){return this.getBlockWithTxHashes(e).then(this.responseParser.parseGetBlockResponse)}async getBlockLatestAccepted(){return this.fetchEndpoint("starknet_blockHashAndNumber")}async getBlockNumber(){return this.fetchEndpoint("starknet_blockNumber")}async getBlockWithTxHashes(e=this.blockIdentifier){const t=new cn(e).identifier;return this.fetchEndpoint("starknet_getBlockWithTxHashes",{block_id:t})}async getBlockWithTxs(e=this.blockIdentifier){const t=new cn(e).identifier;return this.fetchEndpoint("starknet_getBlockWithTxs",{block_id:t})}async getBlockStateUpdate(e=this.blockIdentifier){const t=new cn(e).identifier;return this.fetchEndpoint("starknet_getStateUpdate",{block_id:t})}async getBlockTransactionsTraces(e=this.blockIdentifier){const t=new cn(e).identifier;return this.fetchEndpoint("starknet_traceBlockTransactions",{block_id:t})}async getBlockTransactionCount(e=this.blockIdentifier){const t=new cn(e).identifier;return this.fetchEndpoint("starknet_getBlockTransactionCount",{block_id:t})}async getPendingTransactions(){const{transactions:e}=await this.getBlock("pending");return Promise.all(e.map(t=>this.getTransactionByHash(t)))}async getTransaction(e){return this.getTransactionByHash(e).then(this.responseParser.parseGetTransactionResponse)}async getTransactionByHash(e){const t=je(e);return this.fetchEndpoint("starknet_getTransactionByHash",{transaction_hash:t})}async getTransactionByBlockIdAndIndex(e,t){const n=new cn(e).identifier;return this.fetchEndpoint("starknet_getTransactionByBlockIdAndIndex",{block_id:n,index:t})}async getTransactionReceipt(e){const t=je(e);return this.fetchEndpoint("starknet_getTransactionReceipt",{transaction_hash:t})}async getTransactionTrace(e){const t=je(e);return this.fetchEndpoint("starknet_traceTransaction",{transaction_hash:t})}async getTransactionStatus(e){const t=je(e);return this.fetchEndpoint("starknet_getTransactionStatus",{transaction_hash:t})}async simulateTransaction(e,{blockIdentifier:t=this.blockIdentifier,skipValidate:n=!1,skipFeeCharge:r=!0}){const s=new cn(t).identifier,o=[];return n&&o.push(Br.ESimulationFlag.SKIP_VALIDATE),r&&o.push(Br.ESimulationFlag.SKIP_FEE_CHARGE),this.fetchEndpoint("starknet_simulateTransactions",{block_id:s,transactions:e.map(i=>this.buildTransaction(i)),simulation_flags:o}).then(this.responseParser.parseSimulateTransactionResponse)}async waitForTransaction(e,t){const n=je(e);let{retries:r}=this,s=!1,o=!1;const i=t?.retryInterval??5e3,c=t?.errorStates??[Br.ETransactionStatus.REJECTED],d=t?.successStates??[Br.ETransactionExecutionStatus.SUCCEEDED,Br.ETransactionStatus.ACCEPTED_ON_L2,Br.ETransactionStatus.ACCEPTED_ON_L1];let f;for(;!s;){await tp(i);try{f=await this.getTransactionStatus(n);const _=f.execution_status,y=f.finality_status;if(!y)throw new Error("waiting for transaction status");if(c.includes(_)||c.includes(y)){const b=`${_}: ${y}`,k=new Error(b);throw k.response=f,o=!0,k}else(d.includes(_)||d.includes(y))&&(s=!0)}catch(_){if(_ instanceof Error&&o)throw _;if(r<=0)throw new Error(`waitForTransaction timed-out with retries ${this.retries}`)}r-=1}let g=null;for(;g===null;){try{g=await this.getTransactionReceipt(n)}catch{if(r<=0)throw new Error(`waitForTransaction timed-out with retries ${this.retries}`)}r-=1,await tp(i)}return g}async getStorageAt(e,t,n=this.blockIdentifier){const r=je(e),s=K2(t),o=new cn(n).identifier;return this.fetchEndpoint("starknet_getStorageAt",{contract_address:r,key:s,block_id:o})}async getClassHashAt(e,t=this.blockIdentifier){const n=je(e),r=new cn(t).identifier;return this.fetchEndpoint("starknet_getClassHashAt",{block_id:r,contract_address:n})}async getClassByHash(e){return this.getClass(e)}async getClass(e,t=this.blockIdentifier){const n=je(e),r=new cn(t).identifier;return this.fetchEndpoint("starknet_getClass",{class_hash:n,block_id:r}).then(this.responseParser.parseContractClassResponse)}async getClassAt(e,t=this.blockIdentifier){const n=je(e),r=new cn(t).identifier;return this.fetchEndpoint("starknet_getClassAt",{block_id:r,contract_address:n}).then(this.responseParser.parseContractClassResponse)}async getCode(e,t){throw new Error("RPC does not implement getCode function")}async getContractVersion(e,t,{blockIdentifier:n=this.blockIdentifier,compiler:r=!0}={}){let s;if(e)s=await this.getClassAt(e,n);else if(t)s=await this.getClass(t,n);else throw Error("getContractVersion require contractAddress or classHash");return Dr(s)?r?{cairo:"1",compiler:Wh(s.abi).compiler}:{cairo:"1",compiler:void 0}:{cairo:"0",compiler:"0"}}async getEstimateFee(e,t,n=this.blockIdentifier){return this.getInvokeEstimateFee(e,t,n)}async getInvokeEstimateFee(e,t,n=this.blockIdentifier){const r=new cn(n).identifier,s=this.buildTransaction({type:"INVOKE_FUNCTION",...e,...t},"fee");return this.fetchEndpoint("starknet_estimateFee",{request:[s],block_id:r}).then(this.responseParser.parseFeeEstimateResponse)}async getDeclareEstimateFee(e,t,n=this.blockIdentifier){const r=new cn(n).identifier,s=this.buildTransaction({type:"DECLARE",...e,...t},"fee");return this.fetchEndpoint("starknet_estimateFee",{request:[s],block_id:r}).then(this.responseParser.parseFeeEstimateResponse)}async getDeployAccountEstimateFee(e,t,n=this.blockIdentifier){const r=new cn(n).identifier,s=this.buildTransaction({type:"DEPLOY_ACCOUNT",...e,...t},"fee");return this.fetchEndpoint("starknet_estimateFee",{request:[s],block_id:r}).then(this.responseParser.parseFeeEstimateResponse)}async getEstimateFeeBulk(e,{blockIdentifier:t=this.blockIdentifier,skipValidate:n=!1}){n&&console.warn("getEstimateFeeBulk RPC does not support skipValidate");const r=new cn(t).identifier;return this.fetchEndpoint("starknet_estimateFee",{request:e.map(s=>this.buildTransaction(s,"fee")),block_id:r}).then(this.responseParser.parseFeeEstimateBulkResponse)}async invokeFunction(e,t){return this.fetchEndpoint("starknet_addInvokeTransaction",{invoke_transaction:{sender_address:e.contractAddress,calldata:_t.toHex(e.calldata),type:Br.ETransactionType.INVOKE,max_fee:je(t.maxFee||0),version:"0x1",signature:Tc(e.signature),nonce:je(t.nonce)}})}async declareContract({contract:e,signature:t,senderAddress:n,compiledClassHash:r},s){return Dr(e)?this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:Br.ETransactionType.DECLARE,contract_class:{sierra_program:Qh(e.sierra_program),contract_class_version:e.contract_class_version,entry_points_by_type:e.entry_points_by_type,abi:e.abi},compiled_class_hash:r||"",version:w2,max_fee:je(s.maxFee||0),signature:Tc(t),sender_address:n,nonce:je(s.nonce)}}):this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:Br.ETransactionType.DECLARE,contract_class:{program:e.program,entry_points_by_type:e.entry_points_by_type,abi:e.abi},version:b2,max_fee:je(s.maxFee||0),signature:Tc(t),sender_address:n,nonce:je(s.nonce)}})}async deployAccountContract({classHash:e,constructorCalldata:t,addressSalt:n,signature:r},s){return this.fetchEndpoint("starknet_addDeployAccountTransaction",{deploy_account_transaction:{constructor_calldata:_t.toHex(t||[]),class_hash:je(e),contract_address_salt:je(n||0),type:Br.ETransactionType.DEPLOY_ACCOUNT,max_fee:je(s.maxFee||0),version:je(s.version||0),signature:Tc(r),nonce:je(s.nonce)}})}async callContract(e,t=this.blockIdentifier){const n=new cn(t).identifier,r=await this.fetchEndpoint("starknet_call",{request:{contract_address:e.contractAddress,entry_point_selector:ds(e.entrypoint),calldata:_t.toHex(e.calldata)},block_id:n});return this.responseParser.parseCallContractResponse(r)}async estimateMessageFee(e,t=this.blockIdentifier){const{from_address:n,to_address:r,entry_point_selector:s,payload:o}=e,i={from_address:je(n),to_address:je(r),entry_point_selector:zh(s),payload:uy(o)},c=new cn(t).identifier;return this.fetchEndpoint("starknet_estimateMessageFee",{message:i,block_id:c})}async getSyncingStats(){return this.fetchEndpoint("starknet_syncing")}async getEvents(e){return this.fetchEndpoint("starknet_getEvents",{filter:e})}async getStarkName(e,t){return $y(this,e,t)}async getAddressFromStarkName(e,t){return Uy(this,e,t)}buildTransaction(e,t){const n=Cy(t),r={signature:Tc(e.signature),nonce:je(e.nonce),max_fee:je(e.maxFee||0)};if(e.type==="INVOKE_FUNCTION")return{type:Br.ETransactionType.INVOKE,sender_address:e.contractAddress,calldata:_t.toHex(e.calldata),version:je(e.version||n.v1),...r};if(e.type==="DECLARE")return Dr(e.contract)?{type:e.type,contract_class:{...e.contract,sierra_program:Qh(e.contract.sierra_program)},compiled_class_hash:e.compiledClassHash||"",sender_address:e.senderAddress,version:je(e.version||n.v2),...r}:{type:e.type,contract_class:e.contract,sender_address:e.senderAddress,version:je(e.version||n.v1),...r};if(e.type==="DEPLOY_ACCOUNT")return{type:e.type,constructor_calldata:_t.toHex(e.constructorCalldata||[]),class_hash:je(e.classHash),contract_address_salt:je(e.addressSalt||0),version:je(e.version||n.v1),...r};throw Error("RPC buildTransaction received unknown TransactionType")}},qU=class{},JU=class extends qU{parseGetBlockResponse(e){return{...e,new_root:e.state_root,parent_hash:e.parent_block_hash,transactions:Object.values(e.transactions).map(t=>"transaction_hash"in t&&t.transaction_hash).filter(Boolean)}}parseGetTransactionResponse(e){if(e.status==="NOT_RECEIVED"&&e.finality_status==="NOT_RECEIVED")throw new ga;return{...e,calldata:"calldata"in e.transaction?e.transaction.calldata:[],contract_class:"contract_class"in e.transaction?e.transaction.contract_class:void 0,entry_point_selector:"entry_point_selector"in e.transaction?e.transaction.entry_point_selector:void 0,max_fee:"max_fee"in e.transaction?e.transaction.max_fee:void 0,nonce:e.transaction.nonce,sender_address:"sender_address"in e.transaction?e.transaction.sender_address:void 0,signature:"signature"in e.transaction?e.transaction.signature:void 0,transaction_hash:"transaction_hash"in e.transaction?e.transaction.transaction_hash:void 0,version:"version"in e.transaction?e.transaction.version:void 0}}parseGetTransactionReceiptResponse(e){return{...e,messages_sent:e.l2_to_l1_messages,..."revert_error"in e&&{revert_reason:e.revert_error}}}parseFeeEstimateResponse(e){if("overall_fee"in e){let t={};try{t={gas_consumed:nt(e.gas_usage),gas_price:nt(e.gas_price)}}catch{}return{overall_fee:nt(e.overall_fee),...t}}return{overall_fee:nt(e.amount)}}parseFeeEstimateBulkResponse(e){return[].concat(e).map(t=>{if("overall_fee"in t){let n={};try{n={gas_consumed:nt(t.gas_usage),gas_price:nt(t.gas_price)}}catch{}return{overall_fee:nt(t.overall_fee),...n}}return{overall_fee:nt(t.amount)}})}parseSimulateTransactionResponse(e){const t="overall_fee"in e.fee_estimation?e.fee_estimation.overall_fee:e.fee_estimation.amount;return[{transaction_trace:e.trace,fee_estimation:e.fee_estimation,suggestedMaxFee:pa(BigInt(t))}]}parseCallContractResponse(e){return{result:e.result}}parseInvokeFunctionResponse(e){return{transaction_hash:e.transaction_hash}}parseDeployContractResponse(e){return{transaction_hash:e.transaction_hash,contract_address:e.address}}parseDeclareContractResponse(e){return{transaction_hash:e.transaction_hash,class_hash:e.class_hash}}parseGetStateUpdateResponse(e){const t=Object.entries(e.state_diff.nonces).map(([r,s])=>({contract_address:r,nonce:s})),n=Object.entries(e.state_diff.storage_diffs).map(([r,s])=>({address:r,storage_entries:s}));return{...e,state_diff:{...e.state_diff,storage_diffs:n,nonces:t}}}parseContractClassResponse(e){const t=Dr(e)?e:Ny(e);return{...t,abi:typeof t.abi=="string"?JSON.parse(t.abi):t.abi}}},QU=/^(?:\w+:)?\/\/(\S+)$/,e9=/^localhost[:?\d]*(?:[^:?\d]\S*)?$/,t9=/^[^\s.]+\.\S{2,}$/;function n9(e){if(!e||typeof e!="string")return!1;const t=e.match(QU);if(!t)return!1;const n=t[1];return n?!!(e9.test(n)||t9.test(n)):!1}function ed(e,t,n){return n9(n)?n:l2(e,n??t)}function r9(e){return e===void 0||Object.keys(e).length===0||Object.keys(e).length===1&&Object.entries(e).every(([t,n])=>t==="blockIdentifier"&&n===null)}var FC={network:"SN_GOERLI",blockIdentifier:"pending"},np=class{constructor(e=FC){Z(this,"baseUrl");Z(this,"feederGatewayUrl");Z(this,"gatewayUrl");Z(this,"headers");Z(this,"blockIdentifier");Z(this,"chainId");Z(this,"responseParser",new JU);"network"in e?(this.baseUrl=np.getNetworkFromName(e.network),this.feederGatewayUrl=ed(this.baseUrl,"feeder_gateway"),this.gatewayUrl=ed(this.baseUrl,"gateway")):(this.baseUrl=e.baseUrl,this.feederGatewayUrl=ed(this.baseUrl,"feeder_gateway",e.feederGatewayUrl),this.gatewayUrl=ed(this.baseUrl,"gateway",e.gatewayUrl)),this.chainId=e?.chainId??np.getChainIdFromBaseUrl(this.baseUrl),this.headers=e.headers,this.blockIdentifier=e?.blockIdentifier||FC.blockIdentifier}static getNetworkFromName(e){switch(e){case"SN_MAIN":case"0x534e5f4d41494e":return"https://alpha-mainnet.starknet.io";case"SN_GOERLI":case"0x534e5f474f45524c49":return"https://alpha4.starknet.io";default:throw new Error("Could not detect base url from NetworkName")}}static getChainIdFromBaseUrl(e){try{return new URL(e).host.includes("mainnet.starknet.io")?"0x534e5f4d41494e":"0x534e5f474f45524c49"}catch{return console.error(`Could not parse baseUrl: ${e}`),"0x534e5f474f45524c49"}}getFetchUrl(e){return["add_transaction"].includes(e)?this.gatewayUrl:this.feederGatewayUrl}getFetchMethod(e){return["add_transaction","call_contract","estimate_fee","estimate_message_fee","estimate_fee_bulk","simulate_transaction"].includes(e)?"POST":"GET"}getQueryString(e){return r9(e)?"":`?${Object.entries(e).map(([n,r])=>n==="blockIdentifier"?`${new cn(r).queryIdentifier}`:`${n}=${r}`).join("&")}`}getHeaders(e){return e==="POST"?{"Content-Type":"application/json",...this.headers}:this.headers}async fetchEndpoint(e,...[t,n]){const r=this.getFetchUrl(e),s=this.getFetchMethod(e),o=this.getQueryString(t),i=l2(r,e,o);return this.fetch(i,{method:s,body:n})}async fetch(e,t){const n=ed(this.baseUrl,"",e),r=t?.method??"GET",s=this.getHeaders(r),o=fs(t?.body);try{const i=await NC(n,{method:r,body:o,headers:s}),c=await i.text();if(!i.ok){let f;try{f=di(c)}catch{throw new GU(i.statusText,i.status)}throw new WU(f.message,f.code)}return(t?.parseAlwaysAsBigInt?EC:di)(c)}catch(i){throw i instanceof Error&&!(i instanceof ga)?Error(`Could not ${r} from endpoint \`${n}\`: ${i.message}`):i}}async getChainId(){return Promise.resolve(this.chainId)}async callContract({contractAddress:e,entrypoint:t,calldata:n=[]},r=this.blockIdentifier){return this.fetchEndpoint("call_contract",{blockIdentifier:r},{contract_address:e,entry_point_selector:ds(t),calldata:_t.compile(n)}).then(this.responseParser.parseCallContractResponse)}async getBlock(e=this.blockIdentifier){return this.fetchEndpoint("get_block",{blockIdentifier:e}).then(this.responseParser.parseGetBlockResponse)}async getNonceForAddress(e,t=this.blockIdentifier){return this.fetchEndpoint("get_nonce",{contractAddress:e,blockIdentifier:t})}async getStorageAt(e,t,n=this.blockIdentifier){const r=nt(t).toString(10);return this.fetchEndpoint("get_storage_at",{blockIdentifier:n,contractAddress:e,key:r})}async getTransaction(e){const t=je(e);return this.fetchEndpoint("get_transaction",{transactionHash:t}).then(n=>{if(Object.values(n).length===1)throw new ga(n.status);return this.responseParser.parseGetTransactionResponse(n)})}async getTransactionReceipt(e){const t=je(e);return this.fetchEndpoint("get_transaction_receipt",{transactionHash:t}).then(this.responseParser.parseGetTransactionReceiptResponse)}async getClassAt(e,t=this.blockIdentifier){return this.fetchEndpoint("get_full_contract",{blockIdentifier:t,contractAddress:e}).then(this.responseParser.parseContractClassResponse)}async getClassHashAt(e,t=this.blockIdentifier){return this.fetchEndpoint("get_class_hash_at",{blockIdentifier:t,contractAddress:e})}async getClassByHash(e,t=this.blockIdentifier){return this.fetchEndpoint("get_class_by_hash",{classHash:e,blockIdentifier:t}).then(this.responseParser.parseContractClassResponse)}async getCompiledClassByClassHash(e,t=this.blockIdentifier){return this.fetchEndpoint("get_compiled_class_by_class_hash",{classHash:e,blockIdentifier:t})}async getContractVersion(e,t,{blockIdentifier:n=this.blockIdentifier,compiler:r=!0}={}){let s;if(e)s=await this.getClassAt(e,n);else if(t)s=await this.getClassByHash(t,n);else throw Error("getContractVersion requires contractAddress or classHash");return Dr(s)?r?{cairo:"1",compiler:Wh(s.abi).compiler}:{cairo:"1",compiler:void 0}:{cairo:"0",compiler:"0"}}async invokeFunction(e,t){return this.fetchEndpoint("add_transaction",void 0,{type:"INVOKE_FUNCTION",sender_address:e.contractAddress,calldata:_t.compile(e.calldata??[]),signature:Ac(e.signature),nonce:je(t.nonce),max_fee:je(t.maxFee||0),version:"0x1"}).then(this.responseParser.parseInvokeFunctionResponse)}async deployAccountContract({classHash:e,constructorCalldata:t,addressSalt:n,signature:r},s){return this.fetchEndpoint("add_transaction",void 0,{type:"DEPLOY_ACCOUNT",contract_address_salt:n??Ry(),constructor_calldata:_t.compile(t??[]),class_hash:je(e),max_fee:je(s.maxFee||0),version:je(s.version||0),nonce:je(s.nonce),signature:Ac(r)}).then(this.responseParser.parseDeployContractResponse)}async declareContract({senderAddress:e,contract:t,signature:n,compiledClassHash:r},s){return Dr(t)?this.fetchEndpoint("add_transaction",void 0,{type:"DECLARE",sender_address:e,compiled_class_hash:r,contract_class:t,nonce:je(s.nonce),signature:Ac(n),max_fee:je(s.maxFee||0),version:je(Yl)}).then(this.responseParser.parseDeclareContractResponse):this.fetchEndpoint("add_transaction",void 0,{type:"DECLARE",contract_class:t,nonce:je(s.nonce),signature:Ac(n),sender_address:e,max_fee:je(s.maxFee||0),version:je(ha)}).then(this.responseParser.parseDeclareContractResponse)}async getEstimateFee(e,t,n=this.blockIdentifier,r=!1){return this.getInvokeEstimateFee(e,t,n,r)}async getInvokeEstimateFee(e,t,n=this.blockIdentifier,r=!1){const s=this.buildTransaction({type:"INVOKE_FUNCTION",...e,...t},"fee");return this.fetchEndpoint("estimate_fee",{blockIdentifier:n,skipValidate:r},s).then(this.responseParser.parseFeeEstimateResponse)}async getDeclareEstimateFee(e,t,n=this.blockIdentifier,r=!1){const s=this.buildTransaction({type:"DECLARE",...e,...t},"fee");return this.fetchEndpoint("estimate_fee",{blockIdentifier:n,skipValidate:r},s).then(this.responseParser.parseFeeEstimateResponse)}async getDeployAccountEstimateFee(e,t,n=this.blockIdentifier,r=!1){const s=this.buildTransaction({type:"DEPLOY_ACCOUNT",...e,...t},"fee");return this.fetchEndpoint("estimate_fee",{blockIdentifier:n,skipValidate:r},s).then(this.responseParser.parseFeeEstimateResponse)}async getEstimateFeeBulk(e,{blockIdentifier:t=this.blockIdentifier,skipValidate:n=!1}){const r=e.map(s=>this.buildTransaction(s,"fee"));return this.fetchEndpoint("estimate_fee_bulk",{blockIdentifier:t,skipValidate:n},r).then(this.responseParser.parseFeeEstimateBulkResponse)}async getCode(e,t=this.blockIdentifier){return this.fetchEndpoint("get_code",{contractAddress:e,blockIdentifier:t})}async waitForTransaction(e,t){let n,r=!1,s=0;const o=t?.retryInterval??5e3,i=t?.errorStates??["REJECTED","NOT_RECEIVED","REVERTED"],c=t?.successStates??["SUCCEEDED","ACCEPTED_ON_L1","ACCEPTED_ON_L2"];for(;!r;)if(await tp(o),n=await this.getTransactionStatus(e),n.finality_status==="NOT_RECEIVED"&&s<3)s+=1;else if(c.includes(n.finality_status)||c.includes(n.execution_status))r=!0;else if(i.includes(n.finality_status)||i.includes(n.execution_status)){let f;n.tx_failure_reason?f=`${n.tx_status}: ${n.tx_failure_reason.code}
${n.tx_failure_reason.error_message}`:n.tx_revert_reason?f=`${n.tx_status}: ${n.tx_revert_reason}`:f=n.tx_status;const g=new Error(f);throw g.response=n,g}return await this.getTransactionReceipt(e)}async getTransactionStatus(e){const t=je(e);return this.fetchEndpoint("get_transaction_status",{transactionHash:t})}async getContractAddresses(){return this.fetchEndpoint("get_contract_addresses")}async getTransactionTrace(e){const t=je(e);return this.fetchEndpoint("get_transaction_trace",{transactionHash:t})}async estimateMessageFee({from_address:e,to_address:t,entry_point_selector:n,payload:r},s=this.blockIdentifier){const o={from_address:q2(e),to_address:cy(t),entry_point_selector:zh(n),payload:uy(r)};return this.fetchEndpoint("estimate_message_fee",{blockIdentifier:s},o)}async getSimulateTransaction(e,{blockIdentifier:t=this.blockIdentifier,skipValidate:n=!1,skipExecute:r=!1}){e.length>1&&console.warn("Sequencer simulate process only first element from invocations list"),r&&console.warn("Sequencer can't skip account __execute__");const s=this.buildTransaction(e[0]);return this.fetchEndpoint("simulate_transaction",{blockIdentifier:t,skipValidate:n??!1},s).then(this.responseParser.parseSimulateTransactionResponse)}async getStateUpdate(e=this.blockIdentifier){const t=new cn(e).sequencerIdentifier;return this.fetchEndpoint("get_state_update",{...t}).then(this.responseParser.parseGetStateUpdateResponse)}async getBlockTraces(e=this.blockIdentifier){const t=new cn(e).sequencerIdentifier;return this.fetchEndpoint("get_block_traces",{...t})}async getStarkName(e,t){return $y(this,e,t)}async getAddressFromStarkName(e,t){return Uy(this,e,t)}buildTransaction(e,t){const n=Cy(t),r={signature:Ac(e.signature),nonce:je(e.nonce)};if(e.type==="INVOKE_FUNCTION")return{type:e.type,sender_address:e.contractAddress,calldata:_t.compile(e.calldata??[]),version:je(e.version||n.v1),...r};if(e.type==="DECLARE")return Dr(e.contract)?{type:e.type,contract_class:e.contract,compiled_class_hash:e.compiledClassHash,sender_address:e.senderAddress,version:je(e.version||n.v2),...r}:{type:e.type,contract_class:e.contract,sender_address:e.senderAddress,version:je(e.version||n.v1),...r};if(e.type==="DEPLOY_ACCOUNT")return{type:e.type,constructor_calldata:_t.compile(e.constructorCalldata||[]),class_hash:je(e.classHash),contract_address_salt:je(e.addressSalt||0),version:je(e.version||n.v1),...r};throw Error("Sequencer buildTransaction received unknown TransactionType")}},rp=class{constructor(e){Z(this,"provider");e instanceof rp?this.provider=e.provider:e instanceof Ql||e instanceof np?this.provider=e:e&&"rpc"in e?this.provider=new Ql(e.rpc):e&&"sequencer"in e?this.provider=new np(e.sequencer):this.provider=new Ql}async getChainId(){return this.provider.getChainId()}async getBlock(e){return this.provider.getBlock(e)}async getClassAt(e,t){return this.provider.getClassAt(e,t)}async getClassHashAt(e,t){return this.provider.getClassHashAt(e,t)}getClassByHash(e){return this.provider.getClassByHash(e)}async getEstimateFee(e,t,n){return this.provider.getEstimateFee(e,t,n)}async getInvokeEstimateFee(e,t,n,r){return this.provider.getInvokeEstimateFee(e,t,n,r)}async getEstimateFeeBulk(e,t){return this.provider.getEstimateFeeBulk(e,t)}async getNonceForAddress(e,t){return this.provider.getNonceForAddress(e,t)}async getStorageAt(e,t,n){return this.provider.getStorageAt(e,t,n)}async getTransaction(e){return this.provider.getTransaction(e)}async getTransactionReceipt(e){return this.provider.getTransactionReceipt(e)}async callContract(e,t){return this.provider.callContract(e,t)}async invokeFunction(e,t){return this.provider.invokeFunction(e,t)}async deployAccountContract(e,t){return this.provider.deployAccountContract(e,t)}async declareContract(e,t){return this.provider.declareContract(e,t)}async getDeclareEstimateFee(e,t,n,r){return this.provider.getDeclareEstimateFee(e,t,n,r)}getDeployAccountEstimateFee(e,t,n,r){return this.provider.getDeployAccountEstimateFee(e,t,n,r)}async getCode(e,t){return this.provider.getCode(e,t)}async waitForTransaction(e,t){return this.provider.waitForTransaction(e,t)}async getSimulateTransaction(e,t){return this.provider.getSimulateTransaction(e,t)}async getStateUpdate(e){return this.provider.getStateUpdate(e)}async getStarkName(e,t){return $y(this,e,t)}async getAddressFromStarkName(e,t){return Uy(this,e,t)}async getContractVersion(e,t,n){return this.provider.getContractVersion(e,t,n)}},gK=class{},s9={};yn(s9,{fromCallsToExecuteCalldata:()=>zy,fromCallsToExecuteCalldataWithNonce:()=>o9,fromCallsToExecuteCalldata_cairo1:()=>jC,getExecuteCalldata:()=>sp,transformCallsToMulticallArrays:()=>HC,transformCallsToMulticallArrays_cairo1:()=>i9});var HC=e=>{const t=[],n=[];return e.forEach(r=>{const s=_t.compile(r.calldata||[]);t.push({to:nt(r.contractAddress).toString(10),selector:nt(ds(r.entrypoint)).toString(10),data_offset:n.length.toString(),data_len:s.length.toString()}),n.push(...s)}),{callArray:t,calldata:_t.compile({calldata:n})}},zy=e=>{const{callArray:t,calldata:n}=HC(e);return[..._t.compile({callArray:t}),...n]},o9=(e,t)=>[...zy(e),nt(t).toString()],i9=e=>e.map(n=>({to:nt(n.contractAddress).toString(10),selector:nt(ds(n.entrypoint)).toString(10),calldata:_t.compile(n.calldata||[])})),jC=e=>{const t=e.map(n=>({contractAddress:n.contractAddress,entrypoint:n.entrypoint,calldata:Array.isArray(n.calldata)&&"__compiled__"in n.calldata?n.calldata:_t.compile(n.calldata)}));return _t.compile({orderCalls:t})},sp=(e,t="0")=>t==="1"?jC(e):zy(e),a9={};yn(a9,{TypedDataRevision:()=>iy,byteArrayFromString:()=>ZC,encodeData:()=>qC,encodeType:()=>YC,encodeValue:()=>td,getDependencies:()=>Fy,getMessageHash:()=>Hy,getStructHash:()=>nd,getTypeHash:()=>XC,isMerkleTreeType:()=>GC,prepareSelector:()=>WC});var c9={};yn(c9,{MerkleTree:()=>Sc,proofMerklePath:()=>VC});var Sc=class{constructor(e,t=Xl){Z(this,"leaves");Z(this,"branches",[]);Z(this,"root");Z(this,"hashMethod");this.hashMethod=t,this.leaves=e,this.root=this.build(e)}build(e){if(e.length===1)return e[0];e.length!==this.leaves.length&&this.branches.push(e);const t=[];for(let n=0;n<e.length;n+=2)n+1===e.length?t.push(Sc.hash(e[n],"0x0",this.hashMethod)):t.push(Sc.hash(e[n],e[n+1],this.hashMethod));return this.build(t)}static hash(e,t,n=Xl){const[r,s]=[BigInt(e),BigInt(t)].sort((o,i)=>o>=i?1:-1);return n(r,s)}getProof(e,t=this.leaves,n=[]){const r=t.indexOf(e);if(r===-1)throw new Error("leaf not found");if(t.length===1)return n;const s=r%2===0,o=(s?t[r+1]:t[r-1])??"0x0",i=[...n,o],c=this.leaves.length===t.length?-1:this.branches.findIndex(f=>f.length===t.length),d=this.branches[c+1]??[this.root];return this.getProof(Sc.hash(s?e:o,s?o:e,this.hashMethod),d,i)}};function VC(e,t,n,r=Xl){if(n.length===0)return e===t;const[s,...o]=n;return VC(e,Sc.hash(t,s,r),o,r)}var u9={u256:JSON.parse('[{ "name": "low", "type": "u128" }, { "name": "high", "type": "u128" }]'),TokenAmount:JSON.parse('[{ "name": "token_address", "type": "ContractAddress" }, { "name": "amount", "type": "u256" }]'),NftId:JSON.parse('[{ "name": "collection_address", "type": "ContractAddress" }, { "name": "token_id", "type": "u256" }]')},Jr={1:{domain:"StarknetDomain",hashMethod:TC,hashMerkleMethod:vC,escapeTypeString:e=>`"${e}"`,presetTypes:u9},0:{domain:"StarkNetDomain",hashMethod:AC,hashMerkleMethod:Xl,escapeTypeString:e=>e,presetTypes:{}}};function ZC(e){const t=Fh(e),n=t[t.length-1],r=t.map(go),[s,o]=n===void 0||n.length===31?["0x00",0]:[r.pop(),n.length];return{data:r.length===0?["0x00"]:r,pending_word:s,pending_word_len:o}}function KC({types:e,domain:t}){if(Jr[1].domain in e&&t.revision==="1")return"1";if(Jr[0].domain in e&&(t.revision??"0")==="0")return"0"}function op(e){try{return je(e)}catch{if(typeof e=="string")return je(go(e));throw new Error(`Invalid BigNumberish: ${e}`)}}function l9(e){const t=e;return!!(t.message&&t.primaryType&&t.types&&KC(t))}function WC(e){return ls(e)?e:ds(e)}function GC(e){return e.type==="merkletree"}function Fy(e,t,n=[],r="",s="0"){return t[t.length-1]==="*"?t=t.slice(0,-1):s==="1"&&(t==="enum"?t=r:t.match(/^\(.*\)$/)&&(t=t.slice(1,-1))),n.includes(t)||!e[t]?n:[t,...e[t].reduce((o,i)=>[...o,...Fy(e,i.type,o,i.contains,s).filter(c=>!o.includes(c))],[])]}function d9(e,t){if(t.parent&&t.key){const r=e[t.parent].find(o=>o.name===t.key);if(!GC(r))throw new Error(`${t.key} is not a merkle tree`);if(r.contains.endsWith("*"))throw new Error(`Merkle tree contain property must not be an array but was given ${t.key}`);return r.contains}return"raw"}function YC(e,t,n="0"){const[r,...s]=Fy(e,t,void 0,void 0,n),o=r?[r,...s.sort()]:[],i=Jr[n].escapeTypeString;return o.map(c=>{const d=e[c].map(f=>{const g=f.type==="enum"&&n==="1"?f.contains:f.type,_=g.match(/^\(.*\)$/)?`(${g.slice(1,-1).split(",").map(y=>y&&i(y)).join(",")})`:i(g);return`${i(f.name)}:${_}`});return`${i(c)}(${d})`}).join("")}function XC(e,t,n="0"){return ds(YC(e,t,n))}function td(e,t,n,r={},s="0"){if(e[t])return[t,nd(e,t,n,s)];if(Jr[s].presetTypes[t])return[t,nd(Jr[s].presetTypes,t,n,s)];if(t.endsWith("*")){const o=n.map(i=>td(e,t.slice(0,-1),i,void 0,s)[1]);return[t,Jr[s].hashMethod(o)]}switch(t){case"enum":{if(s==="1"){const[o,i]=Object.entries(n)[0],c=e[r.parent][0],d=e[c.contains],f=d.find(y=>y.name===o),g=d.indexOf(f),_=f.type.slice(1,-1).split(",").map((y,b)=>{if(!y)return y;const k=i[b];return td(e,y,k,void 0,s)[1]});return[t,Jr[s].hashMethod([g,..._])]}return[t,op(n)]}case"merkletree":{const o=d9(e,r),i=n.map(d=>td(e,o,d,void 0,s)[1]),{root:c}=new Sc(i,Jr[s].hashMerkleMethod);return["felt",c]}case"selector":return["felt",WC(n)];case"string":{if(s==="1"){const o=ZC(n),i=[o.data.length,...o.data,o.pending_word,o.pending_word_len];return[t,Jr[s].hashMethod(i)]}return[t,op(n)]}case"felt":case"bool":case"u128":case"i128":case"ContractAddress":case"ClassHash":case"timestamp":case"shortstring":return[t,op(n)];default:{if(s==="1")throw new Error(`Unsupported type: ${t}`);return[t,op(n)]}}}function qC(e,t,n,r="0"){const s=e[t]??Jr[r].presetTypes[t],[o,i]=s.reduce(([c,d],f)=>{if(n[f.name]===void 0||n[f.name]===null&&f.type!=="enum")throw new Error(`Cannot encode data: missing data for '${f.name}'`);const g=n[f.name],_={parent:t,key:f.name},[y,b]=td(e,f.type,g,_,r);return[[...c,y],[...d,b]]},[["felt"],[XC(e,t,r)]]);return[o,i]}function nd(e,t,n,r="0"){return Jr[r].hashMethod(qC(e,t,n,r)[1])}function Hy(e,t){if(!l9(e))throw new Error("Typed data does not match JSON schema");const n=KC(e),{domain:r,hashMethod:s}=Jr[n],o=[go("StarkNet Message"),nd(e.types,r,e.domain,n),t,nd(e.types,e.primaryType,e.message,n)];return s(o)}var f9=class{constructor(e=D0.randomPrivateKey()){Z(this,"pk");this.pk=e instanceof Uint8Array?g2(e):je(e)}async getPubKey(){return $0(this.pk)}async signMessage(e,t){const n=Hy(e,t);return zl(n,this.pk)}async signTransaction(e,t,n){if(n&&n.length!==e.length)throw new Error("ABI must be provided for each transaction or no transaction");const r=sp(e,t.cairoVersion),s=CC(t.walletAddress,t.version,r,t.maxFee,t.chainId,t.nonce);return zl(s,this.pk)}async signDeployAccountTransaction({classHash:e,contractAddress:t,constructorCalldata:n,addressSalt:r,maxFee:s,version:o,chainId:i,nonce:c}){const d=SC(t,e,_t.compile(n),r,o,s,i,c);return zl(d,this.pk)}async signDeclareTransaction({classHash:e,senderAddress:t,chainId:n,maxFee:r,version:s,nonce:o,compiledClassHash:i}){const c=xC(e,t,s,r,n,o,i);return zl(c,this.pk)}};function h9(e){if(!e.events)throw new Error("UDC emitted event is empty");const t=e.events.find(n=>Zl(n.from_address)===Zl(la.ADDRESS))||{data:[]};return{transaction_hash:e.transaction_hash,contract_address:t.data[0],address:t.data[0],deployer:t.data[1],unique:t.data[2],classHash:t.data[3],calldata_len:t.data[4],calldata:t.data.slice(5,5+parseInt(t.data[4],16)),salt:t.data[t.data.length-1]}}var p9=class extends rp{constructor(t,n,r,s){super(t);Z(this,"signer");Z(this,"address");Z(this,"cairoVersion");Z(this,"deploySelf",this.deployAccount);this.address=n.toLowerCase(),this.signer=typeof r=="string"||r instanceof Uint8Array?new f9(r):r,s&&(this.cairoVersion=s.toString())}async getNonce(t){return super.getNonceForAddress(this.address,t)}async getNonceSafe(t){try{return nt(t??await this.getNonce())}catch{return 0n}}async getCairoVersion(t){if(!this.cairoVersion){const{cairo:n}=t?await super.getContractVersion(void 0,t):await super.getContractVersion(this.address);this.cairoVersion=n}return this.cairoVersion}async estimateFee(t,n){return this.estimateInvokeFee(t,n)}async estimateInvokeFee(t,{nonce:n,blockIdentifier:r,skipValidate:s}={}){const o=Array.isArray(t)?t:[t],i=nt(n??await this.getNonce()),c=nt(vc),d=await this.getChainId(),f={walletAddress:this.address,nonce:i,maxFee:fr,version:c,chainId:d,cairoVersion:await this.getCairoVersion()},g=await this.buildInvocation(o,f),_=await super.getInvokeEstimateFee({...g},{version:c,nonce:i},r,s),y=pa(_.overall_fee);return{..._,suggestedMaxFee:y}}async estimateDeclareFee({contract:t,classHash:n,casm:r,compiledClassHash:s},{blockIdentifier:o,nonce:i,skipValidate:c}={}){const d=nt(i??await this.getNonce()),f=Dr(t)?qh:vc,g=await this.getChainId(),_=await this.buildDeclarePayload({classHash:n,contract:t,casm:r,compiledClassHash:s},{nonce:d,chainId:g,version:f,walletAddress:this.address,maxFee:fr,cairoVersion:void 0}),y=await super.getDeclareEstimateFee(_,{version:f,nonce:d},o,c),b=pa(y.overall_fee);return{...y,suggestedMaxFee:b}}async estimateAccountDeployFee({classHash:t,addressSalt:n=0,constructorCalldata:r=[],contractAddress:s},{blockIdentifier:o,skipValidate:i}={}){const c=nt(vc),d=fr,f=await this.getChainId(),g=await this.buildAccountDeployPayload({classHash:t,addressSalt:n,constructorCalldata:r,contractAddress:s},{nonce:d,chainId:f,version:c,walletAddress:this.address,maxFee:fr,cairoVersion:void 0}),_=await super.getDeployAccountEstimateFee({...g},{version:c,nonce:d},o,i),y=pa(_.overall_fee);return{..._,suggestedMaxFee:y}}async estimateDeployFee(t,n){const r=this.buildUDCContractPayload(t);return this.estimateInvokeFee(r,n)}async estimateFeeBulk(t,{nonce:n,blockIdentifier:r,skipValidate:s}={}){const o=await this.accountInvocationsFactory(t,{versions:[vc,qh],nonce:n,blockIdentifier:r}),i=await super.getEstimateFeeBulk(o,{blockIdentifier:r,skipValidate:s});return[].concat(i).map(c=>{const d=pa(c.overall_fee);return{...c,suggestedMaxFee:d}})}async buildInvocation(t,n){const r=sp(t,await this.getCairoVersion()),s=await this.signer.signTransaction(t,n);return{contractAddress:this.address,calldata:r,signature:s}}async execute(t,n=void 0,r={}){const s=Array.isArray(t)?t:[t],o=nt(r.nonce??await this.getNonce()),i=r.maxFee??await this.getSuggestedMaxFee({type:"INVOKE_FUNCTION",payload:t},r),c=nt(ha),d=await this.getChainId(),f={walletAddress:this.address,nonce:o,maxFee:i,version:c,chainId:d,cairoVersion:await this.getCairoVersion()},g=await this.signer.signTransaction(s,f,n),_=sp(s,await this.getCairoVersion());return this.invokeFunction({contractAddress:this.address,calldata:_,signature:g},{nonce:o,maxFee:i,version:c})}async declareIfNot(t,n={}){const r=Py(t);try{await this.getClassByHash(r.classHash)}catch{return this.declare(t,n)}return{transaction_hash:"",class_hash:r.classHash}}async declare(t,n={}){const r=Py(t),s={};s.nonce=nt(n.nonce??await this.getNonce()),s.maxFee=n.maxFee??await this.getSuggestedMaxFee({type:"DECLARE",payload:r},n),s.version=Dr(t.contract)?Yl:ha,s.chainId=await this.getChainId();const o=await this.buildDeclarePayload(r,{...s,walletAddress:this.address,cairoVersion:void 0});return this.declareContract(o,s)}async deploy(t,n){const r=[].concat(t).map(c=>{const{classHash:d,salt:f,unique:g=!0,constructorCalldata:_=[]}=c,y=_t.compile(_),b=f??Ry();return{call:{contractAddress:la.ADDRESS,entrypoint:la.ENTRYPOINT,calldata:[d,b,ly(g),y.length,...y]},address:Jh(g?Hl(this.address,b):b,d,y,g?la.ADDRESS:0)}}),s=r.map(c=>c.call),o=r.map(c=>c.address);return{...await this.execute(s,void 0,n),contract_address:o}}async deployContract(t,n){const r=await this.deploy(t,n),s=await this.waitForTransaction(r.transaction_hash);return h9(s)}async declareAndDeploy(t,n){const{constructorCalldata:r,salt:s,unique:o}=t;let i=await this.declareIfNot(t,n);if(i.transaction_hash!==""){const d=await this.waitForTransaction(i.transaction_hash);i={...i,...d}}const c=await this.deployContract({classHash:i.class_hash,salt:s,unique:o,constructorCalldata:r},n);return{declare:{...i},deploy:c}}async deployAccount({classHash:t,constructorCalldata:n=[],addressSalt:r=0,contractAddress:s},o={}){const i=nt(ha),c=fr,d=await this.getChainId(),f=_t.compile(n),g=s??Jh(r,t,f,0),_=o.maxFee??await this.getSuggestedMaxFee({type:"DEPLOY_ACCOUNT",payload:{classHash:t,constructorCalldata:f,addressSalt:r,contractAddress:g}},o),y=await this.signer.signDeployAccountTransaction({classHash:t,constructorCalldata:f,contractAddress:g,addressSalt:r,chainId:d,maxFee:_,version:i,nonce:c});return this.deployAccountContract({classHash:t,addressSalt:r,constructorCalldata:n,signature:y},{nonce:c,maxFee:_,version:i})}async signMessage(t){return this.signer.signMessage(t,this.address)}async hashMessage(t){return Hy(t,this.address)}async verifyMessageHash(t,n){try{return await this.callContract({contractAddress:this.address,entrypoint:"isValidSignature",calldata:_t.compile({hash:nt(t).toString(),signature:ep(n)})}),!0}catch{return!1}}async verifyMessage(t,n){const r=await this.hashMessage(t);return this.verifyMessageHash(r,n)}async getSuggestedMaxFee({type:t,payload:n},r){let s;switch(t){case"INVOKE_FUNCTION":s=await this.estimateInvokeFee(n,r);break;case"DECLARE":s=await this.estimateDeclareFee(n,r);break;case"DEPLOY_ACCOUNT":s=await this.estimateAccountDeployFee(n,r);break;case"DEPLOY":s=await this.estimateDeployFee(n,r);break;default:s={suggestedMaxFee:fr,overall_fee:fr};break}return s.suggestedMaxFee}async buildDeclarePayload(t,{nonce:n,chainId:r,version:s,walletAddress:o,maxFee:i}){const{classHash:c,contract:d,compiledClassHash:f}=Py(t),g=Ny(d),_=await this.signer.signDeclareTransaction({classHash:c,compiledClassHash:f,senderAddress:o,chainId:r,maxFee:i,version:s,nonce:n});return{senderAddress:o,signature:_,contract:g,compiledClassHash:f}}async buildAccountDeployPayload({classHash:t,addressSalt:n=0,constructorCalldata:r=[],contractAddress:s},{nonce:o,chainId:i,version:c,maxFee:d}){const f=_t.compile(r),g=s??Jh(n,t,f,0),_=await this.signer.signDeployAccountTransaction({classHash:t,contractAddress:g,chainId:i,maxFee:d,version:c,nonce:o,addressSalt:n,constructorCalldata:f});return{classHash:t,addressSalt:n,constructorCalldata:f,signature:_}}buildUDCContractPayload(t){return[].concat(t).map(r=>{const{classHash:s,salt:o="0",unique:i=!0,constructorCalldata:c=[]}=r,d=_t.compile(c);return{contractAddress:la.ADDRESS,entrypoint:la.ENTRYPOINT,calldata:[s,o,ly(i),d.length,...d]}})}async simulateTransaction(t,{nonce:n,blockIdentifier:r,skipValidate:s,skipExecute:o}={}){const i=await this.accountInvocationsFactory(t,{versions:[ha,Yl],nonce:n,blockIdentifier:r});return super.getSimulateTransaction(i,{blockIdentifier:r,skipValidate:s,skipExecute:o})}async accountInvocationsFactory(t,{versions:n,nonce:r,blockIdentifier:s}){const o=n[0],i=await this.getNonceSafe(r),c=await this.getChainId(),d="payload"in t[0]?t[0].payload:t[0],f=t[0].type==="DEPLOY_ACCOUNT"?await this.getCairoVersion(d.classHash):await this.getCairoVersion();return Promise.all([].concat(t).map(async(g,_)=>{const y="payload"in g?g.payload:g,b={walletAddress:this.address,nonce:nt(Number(i)+_),maxFee:fr,version:o,chainId:c,cairoVersion:f},k={type:g.type,version:o,nonce:nt(Number(i)+_),blockIdentifier:s};if(g.type==="INVOKE_FUNCTION"){const B=await this.buildInvocation([].concat(y),b);return{...k,...B}}if(g.type==="DECLARE"){b.version=Dr(y.contract)?nt(n[1]):nt(n[0]);const B=await this.buildDeclarePayload(y,b);return{...k,...B,version:b.version}}if(g.type==="DEPLOY_ACCOUNT"){const B=await this.buildAccountDeployPayload(y,b);return{...k,...B}}if(g.type==="DEPLOY"){const B=this.buildUDCContractPayload(y),z=await this.buildInvocation(B,b);return{...k,...z,type:"INVOKE_FUNCTION"}}throw Error(`accountInvocationsFactory: unsupported transaction type: ${g}`)}))}async getStarkName(t=this.address,n){return super.getStarkName(t,n)}},_K=class{},JC=new rp({rpc:{default:!0}}),mK=class extends null{},g9={};yn(g9,{getAbiEvents:()=>QC,parseEvents:()=>eI});function QC(e){return e.filter(t=>t.type==="event"&&(t.size||t.kind!=="enum")).reduce((t,n)=>{const r=n.name.slice(n.name.lastIndexOf(":")+1),s={...n};return s.name=r,{...t,[Ln(_c(bc(r)).toString(16))]:s}},{})}function eI(e,t,n,r){return e.flat().reduce((o,i)=>{const c=t[i.keys[0]];if(!c)return o;const d={};d[c.name]={},i.keys.shift();const f=i.keys[Symbol.iterator](),g=i.data[Symbol.iterator](),_=c.members?.filter(b=>b.kind==="key")||c.keys,y=c.members?.filter(b=>b.kind==="data")||c.data;return _.forEach(b=>{d[c.name][b.name]=Xh(f,b,n,r,d[c.name])}),y.forEach(b=>{d[c.name][b.name]=Xh(g,b,n,r,d[c.name])}),o.push(d),o},[])}var jy=e=>{const t=["blockIdentifier","parseRequest","parseResponse","formatResponse","maxFee","nonce","signature","addressSalt"],n=e[e.length-1];return typeof n=="object"&&t.some(r=>r in n)?{args:e,options:e.pop()}:{args:e}};function tI(e,t){return async function(...n){const r=jy(n);return e.call(t.name,r.args,{parseRequest:!0,parseResponse:!0,...r.options})}}function _9(e,t){return async function(...n){const r=jy(n);return e.invoke(t.name,r.args,{parseRequest:!0,...r.options})}}function nI(e,t){return t.stateMutability==="view"||t.state_mutability==="view"?tI(e,t):_9(e,t)}function m9(e,t){return function(...n){return e.populate(t.name,n)}}function y9(e,t){return function(...n){return e.estimate(t.name,n)}}function rd(e,t){return Array.isArray(e)&&"__compiled__"in e?e:Array.isArray(e)&&Array.isArray(e[0])&&"__compiled__"in e[0]?e[0]:t()}var rI=class{constructor(e,t,n=JC){Z(this,"abi");Z(this,"address");Z(this,"providerOrAccount");Z(this,"deployTransactionHash");Z(this,"structs");Z(this,"events");Z(this,"functions");Z(this,"callStatic");Z(this,"populateTransaction");Z(this,"estimateFee");Z(this,"callData");this.address=t&&t.toLowerCase(),this.providerOrAccount=n,this.callData=new _t(e),this.structs=_t.getAbiStruct(e),this.events=QC(e);const r=cC(e);this.abi=r.getLegacyFormat();const s={enumerable:!0,value:{},writable:!1};Object.defineProperties(this,{functions:{enumerable:!0,value:{},writable:!1},callStatic:{enumerable:!0,value:{},writable:!1},populateTransaction:{enumerable:!0,value:{},writable:!1},estimateFee:{enumerable:!0,value:{},writable:!1}}),this.abi.forEach(o=>{if(o.type!=="function")return;const i=o.name;this[i]||Object.defineProperty(this,i,{...s,value:nI(this,o)}),this.functions[i]||Object.defineProperty(this.functions,i,{...s,value:nI(this,o)}),this.callStatic[i]||Object.defineProperty(this.callStatic,i,{...s,value:tI(this,o)}),this.populateTransaction[i]||Object.defineProperty(this.populateTransaction,i,{...s,value:m9(this,o)}),this.estimateFee[i]||Object.defineProperty(this.estimateFee,i,{...s,value:y9(this,o)})})}attach(e){this.address=e}connect(e){this.providerOrAccount=e}async deployed(){return this.deployTransactionHash&&(await this.providerOrAccount.waitForTransaction(this.deployTransactionHash),this.deployTransactionHash=void 0),this}async call(e,t=[],{parseRequest:n=!0,parseResponse:r=!0,formatResponse:s=void 0,blockIdentifier:o=void 0}={}){zt(this.address!==null,"contract is not connected to an address");const i=rd(t,()=>n?(this.callData.validate("CALL",e,t),this.callData.compile(e,t)):(console.warn("Call skipped parsing but provided rawArgs, possible malfunction request"),t));return this.providerOrAccount.callContract({contractAddress:this.address,calldata:i,entrypoint:e},o).then(c=>r?s?this.callData.format(e,c.result,s):this.callData.parse(e,c.result):c.result)}invoke(e,t=[],{parseRequest:n=!0,maxFee:r,nonce:s,signature:o}={}){zt(this.address!==null,"contract is not connected to an address");const i=rd(t,()=>n?(this.callData.validate("INVOKE",e,t),this.callData.compile(e,t)):(console.warn("Invoke skipped parsing but provided rawArgs, possible malfunction request"),t)),c={contractAddress:this.address,calldata:i,entrypoint:e};if("execute"in this.providerOrAccount)return this.providerOrAccount.execute(c,void 0,{maxFee:r,nonce:s});if(!s)throw new Error("Nonce is required when invoking a function without an account");return console.warn(`Invoking ${e} without an account. This will not work on a public node.`),this.providerOrAccount.invokeFunction({...c,signature:o},{nonce:s})}async estimate(e,t=[]){zt(this.address!==null,"contract is not connected to an address"),rd(t,()=>!1)||this.callData.validate("INVOKE",e,t);const n=this.populate(e,t);if("estimateInvokeFee"in this.providerOrAccount)return this.providerOrAccount.estimateInvokeFee(n);throw Error("Contract must be connected to the account contract to estimate")}populate(e,t=[]){const n=rd(t,()=>this.callData.compile(e,t));return{contractAddress:this.address,entrypoint:e,calldata:n}}parseEvents(e){return eI(e.events?.filter(t=>Zl(t.from_address)===Zl(this.address),[])||[],this.events,this.structs,_t.getAbiEnum(this.abi))}isCairo1(){return eC.isCairo1Abi(this.abi)}async getVersion(){return this.providerOrAccount.getContractVersion(this.address)}typedv1(e){return this}typedv2(e){return this}},yK=class{constructor(){Z(this,"functions");Z(this,"callStatic");Z(this,"populateTransaction");Z(this,"estimateFee")}},bK=class{constructor(e){Z(this,"compiledContract");Z(this,"account");Z(this,"abi");Z(this,"classHash");Z(this,"casm");Z(this,"compiledClassHash");Z(this,"CallData");this.compiledContract=e.compiledContract,this.account=e.account,this.casm=e.casm,this.abi=e.abi??e.compiledContract.abi,this.classHash=e.classHash,this.compiledClassHash=e.compiledClassHash,this.CallData=new _t(this.abi)}async deploy(...e){const{args:t,options:n={parseRequest:!0}}=jy(e),r=rd(t,()=>n.parseRequest?(this.CallData.validate("DEPLOY","constructor",t),this.CallData.compile("constructor",t)):(console.warn("Call skipped parsing but provided rawArgs, possible malfunction request"),t)),{deploy:{contract_address:s,transaction_hash:o}}=await this.account.declareAndDeploy({contract:this.compiledContract,casm:this.casm,classHash:this.classHash,compiledClassHash:this.compiledClassHash,constructorCalldata:r,salt:n.addressSalt});zt(!!s,"Deployment of the contract failed");const i=new rI(this.compiledContract.abi,s,this.account);return i.deployTransactionHash=o,i}connect(e){return this.account=e,this}attach(e){return new rI(this.abi,e,this.account)}};function b9(e){return Ln(po(je(e)).padStart(64,"0"))}function w9(e){G2(e,fr,ty-1n,"Starknet Address");const t=b9(e);if(!t.match(/^(0x)?[0-9a-fA-F]{64}$/))throw new Error("Invalid Address Format");return t}function E9(e){const t=po(w9(e)).toLowerCase().split(""),n=po(dy(e)),r=hexToBytes2(n.padStart(64,"0"));for(let s=0;s<t.length;s+=2)r[s>>1]>>4>=8&&(t[s]=t[s].toUpperCase()),(r[s>>1]&15)>=8&&(t[s+1]=t[s+1].toUpperCase());return Ln(t.join(""))}function wK(e){return E9(e)===e}var EK=null;class v9 extends p9{constructor(t,n){const r=bC.starkCurve.utils.randomPrivateKey();super(n||JC,t,r)}async execute(t,n,r){const[s,o]=await rh.Sc.execute.parseAsync([t,r]);wt({type:"EXECUTE_TRANSACTION",data:{transactions:s,transactionsDetail:o}});const{actionHash:i}=await ct("EXECUTE_TRANSACTION_RES",1e3);wt({type:"OPEN_UI"});const c=await Promise.race([ct("TRANSACTION_SUBMITTED",11*60*1e3,d=>d.data.actionHash===i),ct("TRANSACTION_FAILED",10*60*1e3,d=>d.data.actionHash===i).then(()=>"error").catch(()=>(wt({type:"TRANSACTION_FAILED",data:{actionHash:i}}),"timeout"))]);if(c==="error")throw Error("User abort");if(c==="timeout")throw Error("User action timed out");return{transaction_hash:c.transactionResult.transactionHash}}async declare(t,n){wt({type:"REQUEST_DECLARE_CONTRACT",data:{payload:t}});const{actionHash:r}=await ct("REQUEST_DECLARE_CONTRACT_RES",1e3);wt({type:"OPEN_UI"});const s=await Promise.race([ct("DECLARE_CONTRACT_ACTION_SUBMITTED",11*60*1e3,o=>o.data.actionHash===r),ct("DECLARE_CONTRACT_ACTION_FAILED",10*60*1e3,o=>o.data.actionHash===r).then(()=>"error").catch(()=>"timeout")]);if(s==="error")throw Error("User abort");if(s==="timeout")throw Error("User action timed out");return{transaction_hash:s.txHash,class_hash:s.classHash}}async signMessage(t,n={skipDeploy:!1}){return Gm({...t,skipDeploy:n.skipDeploy})}}var Vy;(function(e){e.NO_NETWORK_OR_MULTICALL="Missing networkId or multicall",e.NOT_FOUND="Network not found"})(Vy||(Vy={}));class A9 extends PT{constructor(t){super(t,Vy),this.name="NetworkError"}}function T9(e){switch(e){case"mainnet-alpha":case Fi.NetworkName.SN_MAIN:return Fi.StarknetChainId.SN_MAIN;case"sepolia-alpha":case Fi.NetworkName.SN_SEPOLIA:return Fi.StarknetChainId.SN_SEPOLIA;default:throw new A9({code:"NOT_FOUND",message:`Unknown networkId: ${e}`})}}function vK(e){if(e==="mainnet"||e==="mainnet-alpha")return"mainnet";if(e==="sepolia"||e==="sepolia-alpha")return"sepolia";throw new Error("Invalid network id")}const x9=e=>new Promise(t=>setTimeout(t,e)),S9=e=>{const t=(Math.pow(2,e)-1)*1e3,n=.9+Math.random()*.2;return t*n};var C9=Be(49047),I9=Math.floor,k9=Math.random;function O9(e,t){return e+I9(k9()*(t-e+1))}const R9=O9;function P9(e,t){var n=-1,r=e.length,s=r-1;for(t=t===void 0?r:t;++n<t;){var o=R9(n,s),i=e[o];e[o]=e[n],e[n]=i}return e.length=t,e}const sI=P9;function N9(e){return sI((0,C9.A)(e))}const B9=N9;var D9=Be(30828);function L9(e,t){return(0,D9.A)(t,function(n){return e[n]})}const $9=L9;var U9=Be(47686);function M9(e){return e==null?[]:$9(e,(0,U9.A)(e))}const z9=M9;function F9(e){return sI(z9(e))}const H9=F9;var j9=Be(91689);function V9(e){var t=(0,j9.A)(e)?B9:H9;return t(e)}const Z9=V9;class K9 extends Ql{constructor(t){const{nodeUrls:n,randomise:r=!0,maxRetryCount:s=5,fetchImplementation:o,backoffImplementation:i=S9,...c}=t;if(!n.length)throw new Error("nodeUrls must contain at least one element");super({...c,nodeUrl:n[0]}),this.nodeUrls=r?Z9(n):n,this.nodeIndex=r?Math.floor(Math.random()*n.length):0,this.maxRetryCount=s,this.fetchImplementation=o,this.backoffImplementation=i,this.getChainId()}async getChainId(){if(this.nodeUrls)return super.getChainId()}fetch(t,n){const r={jsonrpc:"2.0",method:t,...n&&{params:n},id:0};return this.fetchWithRetry({method:"POST",body:wC.stringify(r),headers:this.headers})}async fetchWithRetry(t,n=0){const r=this.nodeUrls?this.nodeUrls[this.nodeIndex]:this.nodeUrl;try{const s=this.fetchImplementation??fetch,o=this.nodeIndex,i=await s(r,t);if(!i.ok){if(o===this.nodeIndex&&(this.nodeIndex=(this.nodeIndex+1)%this.nodeUrls.length),i.status<500&&i.status!==429)return i;if(n++,n<this.maxRetryCount)return await x9(this.backoffImplementation(n)),this.fetchWithRetry(t,n)}return i}catch(s){throw console.error(s),s}}}const W9=te()(async(e,t)=>new Ql({nodeUrl:e,chainId:t,headers:await IA}),{normalizer:([e,t])=>`${e}::${t}`});async function G9(e){const t=Hu.encodeShortString(e.chainId);return W9(e.rpcUrl,t)}class ip extends rp{constructor(t){super(t)}static async create(t){if(Eh(t)){const n=RL(t),r=T9(t.id);return new ip(new K9({nodeUrls:n,chainId:r}))}else{const n=await G9(t);return new ip(n)}}async callContract(t,n){return super.callContract(t,n)}}const Y9="5.27.5",Cc=[],oI={id:"argentX",name:"Ready Wallet",icon:"data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjQwIiBoZWlnaHQ9IjM2IiB2aWV3Qm94PSIwIDAgNDAgMzYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0yNC43NTgyIC0zLjk3MzY0ZS0wN0gxNC42MjM4QzE0LjI4NTEgLTMuOTczNjRlLTA3IDE0LjAxMzggMC4yODExNzggMTQuMDA2NCAwLjYzMDY4M0MxMy44MDE3IDEwLjQ1NDkgOC44MjIzNCAxOS43NzkyIDAuMjUxODkzIDI2LjM4MzdDLTAuMDIwMjA0NiAyNi41OTMzIC0wLjA4MjE5NDYgMjYuOTg3MiAwLjExNjczNCAyNy4yNzA5TDYuMDQ2MjMgMzUuNzM0QzYuMjQ3OTYgMzYuMDIyIDYuNjQwOTkgMzYuMDg3IDYuOTE3NjYgMzUuODc1NEMxMi4yNzY1IDMxLjc3MjggMTYuNTg2OSAyNi44MjM2IDE5LjY5MSAyMS4zMzhDMjIuNzk1MSAyNi44MjM2IDI3LjEwNTcgMzEuNzcyOCAzMi40NjQ2IDM1Ljg3NTRDMzIuNzQxIDM2LjA4NyAzMy4xMzQxIDM2LjAyMiAzMy4zMzYxIDM1LjczNEwzOS4yNjU2IDI3LjI3MDlDMzkuNDY0MiAyNi45ODcyIDM5LjQwMjIgMjYuNTkzMyAzOS4xMzA0IDI2LjM4MzdDMzAuNTU5NyAxOS43NzkyIDI1LjU4MDQgMTAuNDU0OSAyNS4zNzU5IDAuNjMwNjgzQzI1LjM2ODUgMC4yODExNzggMjUuMDk2OSAtMy45NzM2NGUtMDcgMjQuNzU4MiAtMy45NzM2NGUtMDdaIiBmaWxsPSIjRkY4NzVCIi8+Cjwvc3ZnPgo=",account:void 0,provider:void 0,selectedAddress:void 0,chainId:void 0,isConnected:!1,version:Y9,request:VL,enable:async({starknetVersion:e="v5"}={})=>{const t=Promise.race([ct("CONNECT_DAPP_RES",6e5),ct("REJECT_PREAUTHORIZATION",6e5).then(()=>"USER_ABORTED")]);wt({type:"CONNECT_DAPP"});const n=await t;if(!n)throw Error("No wallet account (should not be possible)");if(n==="USER_ABORTED")throw Error("User aborted");if(!window.starknet)throw Error("No starknet object detected");const r=window.starknet,{address:s,network:o}=n;if(e==="v5"){r.starknetJsVersion="v5";const i=await ip.create(o);r.provider=i,r.account=new v9(s,i)}else throw new Error(`Unsupported starknet.js version: ${e}`);return r.selectedAddress=s,r.chainId=o.chainId,r.isConnected=!0,[s]},isPreauthorized:async()=>Ym(),on:(e,t)=>{if(e==="accountsChanged")Cc.push({type:e,handler:t});else if(e==="networkChanged")Cc.push({type:e,handler:t});else throw ue(e),new Error(`Unknwown event: ${e}`)},off:(e,t)=>{if(e!=="accountsChanged"&&e!=="networkChanged")throw ue(e),new Error(`Unknwown event: ${e}`);const n=Cc.findIndex(r=>r.type===e&&r.handler===t);n>=0&&Cc.splice(n,1)}},X9=["starknet","starknet_argentX"];function iI(){X9.forEach(e=>{try{delete window[e]}catch{}try{Object.defineProperty(window,e,{value:oI,writable:!1})}catch{}try{window[e]=oI}catch{}})}function ap(){iI(),setTimeout(iI,100)}ap(),window.addEventListener("load",()=>ap()),document.addEventListener("DOMContentLoaded",()=>ap()),document.addEventListener("readystatechange",()=>ap());const q9=async(e,t)=>{const n=window.starknet;if(!await Wm.dappMessaging.connectDapp.mutate({origin:window.location.origin,silent:t}))return i6();const{address:s,network:o}=e,i=await GA(o);n.selectedAddress=s,n.chainId=o.chainId,n.provider=i,n.account=new EB(s,i);for(const c of Cc)if(c.type==="accountsChanged")c.handler([s]);else if(c.type==="networkChanged"){const d=Eh(o)?Hu.encodeShortString(o.chainId):o.chainId;c.handler(d,[s])}else ue(c)};window.addEventListener("message",async({data:e})=>{if(!window.starknet)return;const t=window.starknet;if(e.type==="CONNECT_ACCOUNT_RES"||e.type==="APPROVE_REQUEST_SWITCH_CUSTOM_NETWORK"){const n=e.type==="CONNECT_ACCOUNT_RES"?e.data:e.data.selectedAccount;n&&(n.address!==t.selectedAddress||n.network.chainId!==t.chainId)&&q9(n,!1)}else if(e.type==="DISCONNECT_ACCOUNT"){t.selectedAddress=void 0,t.account=void 0,t.isConnected=!1;for(const n of Cc)n.type==="accountsChanged"?n.handler([]):n.type==="networkChanged"?n.handler(void 0):ue(n)}})})()})()});tM();})();

//# sourceMappingURL=inpage.js.map